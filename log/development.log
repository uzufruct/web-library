Started GET "/" for 127.0.0.1 at 2018-12-26 01:03:26 +0700

ActiveRecord::PendingMigrationError - Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

:

Started POST "/__better_errors/e484f28ca3ffe99f/variables" for 127.0.0.1 at 2018-12-26 01:03:27 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (139.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (113.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to DeviseCreateUsers (20180423233748)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180423233748_devise_create_users.rb:5
  [1m[35m (50.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180423233748_devise_create_users.rb:40
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  ↳ db/migrate/20180423233748_devise_create_users.rb:41
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180423233748"]]
  ↳ bin/rails:9
  [1m[35m (107.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateActiveStorageTables (20180423234307)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180423234307_create_active_storage_tables.active_storage.rb:4
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  ↳ db/migrate/20180423234307_create_active_storage_tables.active_storage.rb:4
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180423234307_create_active_storage_tables.active_storage.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  ↳ db/migrate/20180423234307_create_active_storage_tables.active_storage.rb:16
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  ↳ db/migrate/20180423234307_create_active_storage_tables.active_storage.rb:16
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180423234307"]]
  ↳ bin/rails:9
  [1m[35m (88.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateBooks (20180423234909)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "author" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180423234909_create_books.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180423234909"]]
  ↳ bin/rails:9
  [1m[35m (86.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddDataToUsers (20180423235417)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "stripe_id" varchar[0m
  ↳ db/migrate/20180423235417_add_data_to_users.rb:3
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "stripe_subscription_id" varchar[0m
  ↳ db/migrate/20180423235417_add_data_to_users.rb:4
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "card_last4" varchar[0m
  ↳ db/migrate/20180423235417_add_data_to_users.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "card_exp_month" integer[0m
  ↳ db/migrate/20180423235417_add_data_to_users.rb:6
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "card_exp_year" integer[0m
  ↳ db/migrate/20180423235417_add_data_to_users.rb:7
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "card_type" varchar[0m
  ↳ db/migrate/20180423235417_add_data_to_users.rb:8
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "admin" boolean[0m
  ↳ db/migrate/20180423235417_add_data_to_users.rb:9
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "subscribed" boolean[0m
  ↳ db/migrate/20180423235417_add_data_to_users.rb:10
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180423235417"]]
  ↳ bin/rails:9
  [1m[35m (81.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateLibraries (20180423235557)
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "libraries" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180423235557_create_libraries.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180423235557"]]
  ↳ bin/rails:9
  [1m[35m (77.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-12-25 18:03:51.931799"], ["updated_at", "2018-12-25 18:03:51.931799"]]
  ↳ bin/rails:9
  [1m[35m (73.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/" for 127.0.0.1 at 2018-12-26 01:03:56 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 7799ms (Views: 7728.4ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:04:16 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 615ms (Views: 583.2ms | ActiveRecord: 0.8ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 01:04:21 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (364.1ms)
Completed 200 OK in 497ms (Views: 436.0ms | ActiveRecord: 2.4ms)


Started POST "/users" for 127.0.0.1 at 2018-12-26 01:04:40 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7/6vpC4Co82sPl/wk0nG0Pc3JvQZIyB4bDL08UWoQE/HlTTvJXPt1uzar3Xd+43Olbu+AwvTBcTyUBC2QpK/dA==", "user"=>{"name"=>"Nikita", "email"=>"nickorussisch@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nickorussisch@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "nickorussisch@gmail.com"], ["encrypted_password", "$2a$11$b.Pwy56hZPHEncErU05QEeu3aWiJlidt0LrBLWdGjToxMNBg4WHI."], ["name", "Nikita"], ["created_at", "2018-12-25 18:04:40.627261"], ["updated_at", "2018-12-25 18:04:40.627261"]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (230.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-12-25 18:04:40.870697"], ["last_sign_in_at", "2018-12-25 18:04:40.870697"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-12-25 18:04:40.873553"], ["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (94.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/pricing
Completed 302 Found in 605ms (ActiveRecord: 327.5ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 01:04:41 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (31.9ms)
Completed 200 OK in 192ms (Views: 136.3ms | ActiveRecord: 0.6ms)


Started GET "/subscriptions/new?plan=starter" for 127.0.0.1 at 2018-12-26 01:04:47 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"starter"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (1.8ms)
Completed 200 OK in 57ms (Views: 47.5ms | ActiveRecord: 0.5ms)


Started POST "/subscriptions" for 127.0.0.1 at 2018-12-26 01:04:50 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wmrURBYxYd0Nas1+6xsIAd8Lct/HUTAAIQRYbRav0dXlzb0X3stvdThSR0i1t12/btf460p+N2rEPxE2VAmNFA==", "plan_id"=>""}
Completed 500 Internal Server Error in 136ms (ActiveRecord: 0.0ms)



Stripe::AuthenticationError - No API key provided. Set your API key using "Stripe.api_key = <API-KEY>". You can generate API keys from the Stripe web interface. See https://stripe.com/api for details, or email support@stripe.com if you have any questions.:
  app/controllers/subscriptions_controller.rb:15:in `create'

Started POST "/__better_errors/25bb7bfe7904b17e/variables" for 127.0.0.1 at 2018-12-26 01:04:51 +0700
Started POST "/subscriptions" for 127.0.0.1 at 2018-12-26 01:04:58 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"oV278fy73hYcxKE63wRyKqdHT6PeZ25yG5suf6HAf7M1645BtOS3nGOXIPZEf86GaoANrlbhRU42qRZSZ18eUg==", "plan_id"=>""}
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms)



Stripe::AuthenticationError - No API key provided. Set your API key using "Stripe.api_key = <API-KEY>". You can generate API keys from the Stripe web interface. See https://stripe.com/api for details, or email support@stripe.com if you have any questions.:
  app/controllers/subscriptions_controller.rb:15:in `create'

Started POST "/__better_errors/68175650145866d2/variables" for 127.0.0.1 at 2018-12-26 01:04:58 +0700
Started POST "/subscriptions" for 127.0.0.1 at 2018-12-26 01:21:40 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"oV278fy73hYcxKE63wRyKqdHT6PeZ25yG5suf6HAf7M1645BtOS3nGOXIPZEf86GaoANrlbhRU42qRZSZ18eUg==", "plan_id"=>""}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)



Stripe::AuthenticationError - No API key provided. Set your API key using "Stripe.api_key = <API-KEY>". You can generate API keys from the Stripe web interface. See https://stripe.com/api for details, or email support@stripe.com if you have any questions.:
  app/controllers/subscriptions_controller.rb:15:in `create'

Started POST "/__better_errors/d9e6e3a160953ba6/variables" for 127.0.0.1 at 2018-12-26 01:21:41 +0700
Started POST "/subscriptions" for 127.0.0.1 at 2018-12-26 01:22:06 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"oV278fy73hYcxKE63wRyKqdHT6PeZ25yG5suf6HAf7M1645BtOS3nGOXIPZEf86GaoANrlbhRU42qRZSZ18eUg==", "plan_id"=>""}
Completed 500 Internal Server Error in 2436ms (ActiveRecord: 0.0ms)



Faraday::ResourceNotFound - the server responded with status 404:
  app/controllers/subscriptions_controller.rb:15:in `create'

Started POST "/__better_errors/ae7ffc599f087785/variables" for 127.0.0.1 at 2018-12-26 01:22:10 +0700
Started GET "/pricing" for 127.0.0.1 at 2018-12-26 01:22:14 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (72.6ms)
Completed 200 OK in 1117ms (Views: 1098.1ms | ActiveRecord: 3.4ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:22:17 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 177ms (Views: 67.7ms | ActiveRecord: 1.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 01:22:20 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (310.5ms)
Completed 200 OK in 397ms (Views: 379.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:22:30 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 88ms (Views: 83.9ms | ActiveRecord: 1.1ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 01:22:33 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (45.3ms)
Completed 200 OK in 131ms (Views: 125.5ms | ActiveRecord: 0.7ms)


Started PUT "/users" for 127.0.0.1 at 2018-12-26 01:22:39 +0700
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YWszI2HLSXTkdOl9TBQcRcp2kBnQ35p9HPiIwKRrygdB0Um3vEOxfDM60teBwZ+XqQK+pmTQPu6n29sZfQlF1w==", "user"=>{"name"=>"Nikita", "email"=>"nickorussisch@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (23.2ms)
Completed 200 OK in 412ms (Views: 90.5ms | ActiveRecord: 1.5ms)


Started PUT "/users" for 127.0.0.1 at 2018-12-26 01:22:54 +0700
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"h45sinYryo822e/eh0MkF34frpnJnohtAqzwlg/OlV0TOFk6PnSjBUmKbhIcOJi7s9jslEEYo1Evnsi7yVH0vA==", "user"=>{"name"=>"Nikita", "email"=>"nickorussisch@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 191ms (ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:22:54 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (3.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 71ms (Views: 67.2ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:22:56 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 69ms (Views: 65.7ms | ActiveRecord: 1.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-26 01:23:02 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"1gSuZdRNIg7KF/MFzLB4SthpGTEFL6Gng2OZq9wAJb1CspvVnBJLhLVEcslXy8TmFa5bPI2pipuuUaGGGp9EXA=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 69ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:23:02 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 80ms (Views: 77.0ms | ActiveRecord: 0.4ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-26 01:23:05 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (84.2ms)
Completed 200 OK in 183ms (Views: 178.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 01:23:07 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HCdhMYg4YHFnKI0xvWAEb207z1k6aQtR+vr+6jK5kubDiK9zxP2fQrMzkVaBGTpZAibnUh7VRwIgDx7rJnzB6A==", "user"=>{"email"=>"Nikita", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "nikita"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 29ms (ActiveRecord: 0.8ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HCdhMYg4YHFnKI0xvWAEb207z1k6aQtR+vr+6jK5kubDiK9zxP2fQrMzkVaBGTpZAibnUh7VRwIgDx7rJnzB6A==", "user"=>{"email"=>"Nikita", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (19.9ms)
Completed 200 OK in 249ms (Views: 78.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 01:23:18 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"oX2fxnz7K2b3TMbdBxyQVjAaBShb7AxrBTj0eWzm/VRdna5LLtcihbpqVqSP0Cj6FFBeZqM2RwAyHFuA0C6fjA==", "user"=>{"email"=>"nickorussisch@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "nickorussisch@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-25 18:23:18.814513"], ["sign_in_count", 2], ["updated_at", "2018-12-25 18:23:18.816237"], ["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (74.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 284ms (ActiveRecord: 76.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:23:18 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 61ms (Views: 57.4ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:23:25 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 71ms (Views: 66.8ms | ActiveRecord: 0.9ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 01:25:05 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (36.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (24.3ms)
Completed 200 OK in 275ms (Views: 234.5ms | ActiveRecord: 36.1ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-26 01:25:10 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"1RNBpVxBr4PRNvA4ZPjJHoG8jdYR6bLg8D2RMU7pPBlt5K2m8d2bA5XhVcYpTuE1v8QkojQv6tnxsMfaWmgbwA=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:25:10 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 95ms (Views: 72.9ms | ActiveRecord: 0.5ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 01:25:13 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (3.5ms)
Completed 200 OK in 127ms (Views: 51.2ms | ActiveRecord: 0.0ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 01:25:13 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (3.7ms)
Completed 200 OK in 71ms (Views: 68.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 01:25:15 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (35.9ms)
Completed 200 OK in 217ms (Views: 215.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 01:25:16 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (25.9ms)
Completed 200 OK in 108ms (Views: 105.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-12-26 01:25:55 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cZcddkKqbSq9yN3l/SNq23ltfBaxYHmf2n/1tDaacHZbvHNQn+r/udTbRousiXla8UbhU0wFknHuNBfK4LzCcw==", "user"=>{"name"=>"Yablinsky", "email"=>"nick.sidorov97@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nick.sidorov97@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (24.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "nick.sidorov97@gmail.com"], ["encrypted_password", "$2a$11$u6Sf0YdXF.q0Q3kLunzPkOWl7OuMsGtFZFJleUUFmIR.bccomWth."], ["name", "Yablinsky"], ["created_at", "2018-12-25 18:25:55.950423"], ["updated_at", "2018-12-25 18:25:55.950423"]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (84.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-12-25 18:25:56.065016"], ["last_sign_in_at", "2018-12-25 18:25:56.065016"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-12-25 18:25:56.066935"], ["id", 2]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (54.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/pricing
Completed 302 Found in 382ms (ActiveRecord: 164.6ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 01:25:56 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (6.4ms)
Completed 200 OK in 72ms (Views: 69.8ms | ActiveRecord: 0.7ms)


Started GET "/subscriptions/new?plan=book_worm&plan_id=plan_xxxxxxxxxxxx" for 127.0.0.1 at 2018-12-26 01:26:09 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"book_worm", "plan_id"=>"plan_xxxxxxxxxxxx"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (3.1ms)
Completed 200 OK in 81ms (Views: 51.7ms | ActiveRecord: 0.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-26 01:27:26 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:27:26 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (5.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 67ms (Views: 61.4ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:27:31 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (8.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 77ms (Views: 73.1ms | ActiveRecord: 1.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-26 01:32:53 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (138.3ms)
  Rendered books/new.html.erb within layouts/application (141.4ms)
Completed 200 OK in 792ms (Views: 195.2ms | ActiveRecord: 1.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 01:33:01 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (24.6ms)
Completed 200 OK in 88ms (Views: 83.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:33:04 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 73ms (Views: 68.9ms | ActiveRecord: 1.0ms)


Started POST "/books" for 127.0.0.1 at 2018-12-26 01:34:53 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dHdrMPSy7VeXg+KNymP0w4TKmSmhpyCfTFmwRn9URIBeXAUWKfJ/xP6QeeObyedCDOEEbFzCy3F4ElI4qXL2hQ==", "book"=>{"title"=>"", "description"=>"", "author"=>""}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", ""], ["description", ""], ["author", ""], ["user_id", 2], ["created_at", "2018-12-25 18:34:53.265680"], ["updated_at", "2018-12-25 18:34:53.265680"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (85.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Redirected to http://0.0.0.0:3000/books/1
Completed 302 Found in 100ms (ActiveRecord: 86.2ms)


Started GET "/books/1" for 127.0.0.1 at 2018-12-26 01:34:53 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  Rendered books/show.html.erb within layouts/application (119.7ms)
Completed 500 Internal Server Error in 148ms (ActiveRecord: 2.2ms)



Module::DelegationError - variant delegated to attachment, but attachment is nil:
  app/views/books/show.html.erb:4:in `_app_views_books_show_html_erb__633985921125476709_70112556857280'

Started POST "/__better_errors/960ca6b5c60465bc/variables" for 127.0.0.1 at 2018-12-26 01:34:54 +0700
Started POST "/books" for 127.0.0.1 at 2018-12-26 01:35:30 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dHdrMPSy7VeXg+KNymP0w4TKmSmhpyCfTFmwRn9URIBeXAUWKfJ/xP6QeeObyedCDOEEbFzCy3F4ElI4qXL2hQ==", "book"=>{"title"=>"course work", "description"=>"Micro", "author"=>"Sidorov", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007f88ac111f70 @tempfile=#<Tempfile:/tmp/RackMultipart20181226-17480-1pqqk97.pdf>, @original_filename="Курсовая Сидоров - Google Документы.pdf", @content_type="application/pdf", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"\xD0\x9A\xD1\x83\xD1\x80\xD1\x81\xD0\xBE\xD0\xB2\xD0\xB0\xD1\x8F \xD0\xA1\xD0\xB8\xD0\xB4\xD0\xBE\xD1\x80\xD0\xBE\xD0\xB2 - Google \xD0\x94\xD0\xBE\xD0\xBA\xD1\x83\xD0\xBC\xD0\xB5\xD0\xBD\xD1\x82\xD1\x8B.pdf\"\r\nContent-Type: application/pdf\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (27.0ms) [0m[32mUploaded file to key: qLTpdEKhinUNTTMaz1iPBngq (checksum: 1UE2SFSGGwtNBcFdDlwL+A==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "qLTpdEKhinUNTTMaz1iPBngq"], ["filename", "Курсовая Сидоров - Google Документы.pdf"], ["content_type", "application/pdf"], ["metadata", "{\"identified\":true}"], ["byte_size", 1278603], ["checksum", "1UE2SFSGGwtNBcFdDlwL+A=="], ["created_at", "2018-12-25 18:35:31.432793"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (293.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (1.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "course work"], ["description", "Micro"], ["author", "Sidorov"], ["user_id", 2], ["created_at", "2018-12-25 18:35:31.765770"], ["updated_at", "2018-12-25 18:35:31.765770"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 2], ["blob_id", 1], ["created_at", "2018-12-25 18:35:31.771389"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.5ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-25 18:35:31.774583"], ["id", 2]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (154.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 1738ms (ActiveRecord: 454.6ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/d2472a7b3e8e70ab/variables" for 127.0.0.1 at 2018-12-26 01:35:33 +0700
Started POST "/__better_errors/d2472a7b3e8e70ab/variables" for 127.0.0.1 at 2018-12-26 01:35:39 +0700
Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 01:36:19 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (179.4ms)
Completed 200 OK in 251ms (Views: 244.3ms | ActiveRecord: 0.6ms)


Started DELETE "/users" for 127.0.0.1 at 2018-12-26 01:36:26 +0700
Processing by RegistrationsController#destroy as HTML
  Parameters: {"authenticity_token"=>"QyaGSkMRvC6y3RnF8j5+n37tuQQDiclxC3k5S4S00C1pDehsnlEuvdvOgqujlG0e9sYkQf7sIp8/Mts1UpJiKA=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mBook Destroy (0.6ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mBook Destroy (0.3ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 2]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (71.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 176ms (ActiveRecord: 75.3ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:

Started POST "/__better_errors/70549c69fe5322fa/variables" for 127.0.0.1 at 2018-12-26 01:36:26 +0700
Started GET "/" for 127.0.0.1 at 2018-12-26 01:36:42 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (3.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 65ms (Views: 59.6ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:36:45 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 88ms (Views: 84.4ms | ActiveRecord: 0.3ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 01:36:50 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (3.6ms)
Completed 200 OK in 88ms (Views: 85.4ms | ActiveRecord: 0.0ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 01:36:50 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (3.3ms)
Completed 200 OK in 133ms (Views: 128.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 01:36:54 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (41.3ms)
Completed 200 OK in 119ms (Views: 115.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 01:36:54 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (83.4ms)
Completed 200 OK in 153ms (Views: 149.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-26 01:36:59 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (17.4ms)
Completed 200 OK in 90ms (Views: 87.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 01:37:03 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GIW6xP+kxh2CEE3edSsj7Q4DUQ2UpyaAOadfz6T9sNSCRnVeKuIdfaJOzmREYI3ea4VnG8POnOL6pgPNHloh/g==", "user"=>{"email"=>"Nikita", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "nikita"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 7ms (ActiveRecord: 1.4ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GIW6xP+kxh2CEE3edSsj7Q4DUQ2UpyaAOadfz6T9sNSCRnVeKuIdfaJOzmREYI3ea4VnG8POnOL6pgPNHloh/g==", "user"=>{"email"=>"Nikita", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (21.1ms)
Completed 200 OK in 258ms (Views: 73.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 01:37:08 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"N+OFWjcXpcpksj08sCIQJs0ZFz2W6FTWytc6hJoDfjIdyOt86lc3WQ2hplLhiAOnRTKKeGuNvzj+nNj6TCXMNw==", "user"=>{"email"=>"nickorussisch@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "nickorussisch@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-25 18:37:08.656136"], ["last_sign_in_at", "2018-12-25 18:23:18.814513"], ["sign_in_count", 3], ["updated_at", "2018-12-25 18:37:08.657803"], ["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (68.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 263ms (ActiveRecord: 71.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:37:08 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 72ms (Views: 68.7ms | ActiveRecord: 1.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 01:37:13 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (24.8ms)
Completed 200 OK in 86ms (Views: 80.7ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 01:37:16 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 85ms (Views: 81.2ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 14:48:39 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (8.9ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 1520ms (Views: 1319.2ms | ActiveRecord: 4.3ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 14:48:48 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (382.5ms)
Completed 200 OK in 585ms (Views: 560.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 14:49:36 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (8.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 134ms (Views: 125.3ms | ActiveRecord: 1.3ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 18:31:06 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (35.8ms)
Completed 200 OK in 135ms (Views: 123.7ms | ActiveRecord: 0.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-26 18:31:09 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"7NBM2MFyVl7Lm3IeZvN2NvBKkH71RkOyiUy9wwQz8peZ0BsvTqxNeoXIJy3DcAp/1JrymcF60Y+qKnyDHVZFoQ=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 18:31:09 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 71ms (Views: 67.2ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 18:31:14 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 87ms (Views: 84.3ms | ActiveRecord: 0.5ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 20:48:24 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (2.8ms)
Completed 200 OK in 65ms (Views: 54.3ms | ActiveRecord: 0.0ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 20:48:24 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (3.1ms)
Completed 200 OK in 56ms (Views: 50.1ms | ActiveRecord: 0.0ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 21:22:23 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (12.9ms)
Completed 200 OK in 673ms (Views: 636.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 21:22:34 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (230.3ms)
Completed 200 OK in 412ms (Views: 350.7ms | ActiveRecord: 2.1ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 21:22:35 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (58.7ms)
Completed 200 OK in 189ms (Views: 184.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-26 21:22:38 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (36.4ms)
Completed 200 OK in 98ms (Views: 94.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 21:24:26 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"N7zWO+WfmqOem8rhv5FgVG7A3+Xl1Ys/jsm6sAtCyJGZzbl7Qcf0SoboooB1fTyqnFkUxbs2D2a5stfcq7nZ9g==", "user"=>{"email"=>"nickorussisch@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "nickorussisch@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-26 14:24:26.942965"], ["last_sign_in_at", "2018-12-25 18:37:08.656136"], ["sign_in_count", 4], ["updated_at", "2018-12-26 14:24:26.945657"], ["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (53.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 318ms (ActiveRecord: 54.8ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 21:24:27 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 76ms (Views: 60.8ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 21:24:40 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (7.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 71ms (Views: 67.4ms | ActiveRecord: 1.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-26 21:24:42 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"2nrXbfhCfNbgLXukS1BWrySVeCIHRLyrpZEFBWZj8r0T7dMbVW7oM/RnqUyGXT73PbZKPod8Zjn3C914KVR9kA=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 32ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 21:24:42 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 55ms (Views: 52.4ms | ActiveRecord: 0.5ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 21:24:46 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (27.3ms)
Completed 200 OK in 86ms (Views: 83.0ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-12-26 21:28:08 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Npr7ywL+1jJWIF8V8cmQmkMkJH3gIyMDse/wcEV1m+a8Lb4wd/CVP7Emv+WRIDJxOTBgUYGTZZ0dQ0j3wESYFQ==", "user"=>{"name"=>"putin", "email"=>"putin@kremlin.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "putin@kremlin.ru"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "putin@kremlin.ru"], ["encrypted_password", "$2a$11$i9wsJUybRMLahH380C7qr.i69fpFLLKLxAg1JYYBbirGqFt.JA8yy"], ["name", "putin"], ["created_at", "2018-12-26 14:28:08.488164"], ["updated_at", "2018-12-26 14:28:08.488164"]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (72.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-12-26 14:28:08.565947"], ["last_sign_in_at", "2018-12-26 14:28:08.565947"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-12-26 14:28:08.567709"], ["id", 3]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (58.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/pricing
Completed 302 Found in 343ms (ActiveRecord: 132.3ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 21:28:08 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (7.5ms)
Completed 200 OK in 75ms (Views: 71.6ms | ActiveRecord: 0.6ms)


Started GET "/subscriptions/new?plan=book_worm&plan_id=plan_EE4yVsEqVijmag" for 127.0.0.1 at 2018-12-26 21:28:11 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"book_worm", "plan_id"=>"plan_EE4yVsEqVijmag"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (5.7ms)
Completed 200 OK in 89ms (Views: 67.1ms | ActiveRecord: 0.6ms)


Started POST "/subscriptions" for 127.0.0.1 at 2018-12-26 22:26:39 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HDhEV68PbJjm6rRWLgua2sThjr7FpV6wWGoKjsER+ShLbIbpLX6egSF2eE2xBiA+8kIud3Ihqg9HSofKmdKmMA==", "plan_id"=>"plan_EE4yVsEqVijmag", "stripeToken"=>"tok_1DleHLGtAUHqRedbPt4frfWg", "user"=>{"card_type"=>"undefined", "card_last4"=>"5953", "card_exp_month"=>"10", "card_exp_year"=>"2022"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:18
Started POST "/subscriptions" for 127.0.0.1 at 2018-12-26 22:26:41 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HDhEV68PbJjm6rRWLgua2sThjr7FpV6wWGoKjsER+ShLbIbpLX6egSF2eE2xBiA+8kIud3Ihqg9HSofKmdKmMA==", "plan_id"=>"plan_EE4yVsEqVijmag", "stripeToken"=>"tok_1DleHNGtAUHqRedbcCOaa1BI", "user"=>{"card_type"=>"undefined", "card_last4"=>"5953", "card_exp_month"=>"10", "card_exp_year"=>"2022"}}
Completed 500 Internal Server Error in 2869ms (ActiveRecord: 0.7ms)



Faraday::ClientError - the server responded with status 402:
  app/controllers/subscriptions_controller.rb:21:in `create'

  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:18
Completed 500 Internal Server Error in 2164ms (ActiveRecord: 0.7ms)



Faraday::ClientError - the server responded with status 402:
  app/controllers/subscriptions_controller.rb:21:in `create'

Started POST "/__better_errors/8929257a49b6afd9/variables" for 127.0.0.1 at 2018-12-26 22:26:44 +0700
Started POST "/subscriptions" for 127.0.0.1 at 2018-12-26 22:28:10 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"azVsffQ8y8YhHeHceY9ZBXYNpTrQa56gnVXojKYQYOg0CiCetWSp7oqf4t6gBZSmoch9oUDPOSolbeSMXY3pmw==", "plan_id"=>"plan_EE4yVsEqVijmag", "stripeToken"=>"tok_1DleIoGtAUHqRedbIR8jAhVF", "user"=>{"card_type"=>"undefined", "card_last4"=>"5953", "card_exp_month"=>"10", "card_exp_year"=>"2022"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:18
Completed 500 Internal Server Error in 2646ms (ActiveRecord: 1.0ms)



Faraday::ClientError - the server responded with status 402:
  app/controllers/subscriptions_controller.rb:21:in `create'

Started POST "/__better_errors/e4a916fd917c0f7c/variables" for 127.0.0.1 at 2018-12-26 22:28:13 +0700
Started GET "/" for 127.0.0.1 at 2018-12-26 22:40:11 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (5.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 622ms (Views: 588.7ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 22:40:24 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 68ms (Views: 62.9ms | ActiveRecord: 1.6ms)


Started GET "/books" for 127.0.0.1 at 2018-12-26 22:40:31 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.2ms)
  Rendered books/index.html.erb within layouts/application (3.2ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 64ms (Views: 59.5ms | ActiveRecord: 1.2ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 22:46:44 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (39.9ms)
Completed 200 OK in 91ms (Views: 86.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 22:46:50 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 71ms (Views: 67.8ms | ActiveRecord: 0.9ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-26 22:46:55 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"eLEWKKGs6QZZ7t7gvAVbu5mt24kgW5dhYibmk3DBCq8njlrL4PSLLvJs3eJlj5YYTmgDErD/MOvaHuqTi1yD3A=="}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 15ms (ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 22:46:55 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 64ms (Views: 61.2ms | ActiveRecord: 0.4ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 22:46:57 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (4.3ms)
Completed 200 OK in 86ms (Views: 82.7ms | ActiveRecord: 0.0ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 22:46:57 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (8.8ms)
Completed 200 OK in 180ms (Views: 177.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 22:46:59 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (26.4ms)
Completed 200 OK in 85ms (Views: 82.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 22:47:00 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (25.3ms)
Completed 200 OK in 103ms (Views: 100.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-26 22:47:22 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (59.5ms)
Completed 200 OK in 116ms (Views: 114.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 22:47:41 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hs2G/0i0XnMZFNjysnGebIrwmbZLFnH0yRSM/qPbx4LifOP0mdEblikIoRhEGvgZEeH5FnsMD7mb2R/gvObgoA==", "user"=>{"email"=>"putin@kremlin.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "putin@kremlin.ru"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-26 15:47:41.483590"], ["sign_in_count", 2], ["updated_at", "2018-12-26 15:47:41.485700"], ["id", 3]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (73.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 273ms (ActiveRecord: 75.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 22:47:41 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 73ms (Views: 68.7ms | ActiveRecord: 1.0ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 22:47:50 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (7.6ms)
Completed 200 OK in 65ms (Views: 61.1ms | ActiveRecord: 0.8ms)


Started GET "/subscriptions/new?plan=book_worm&plan_id=plan_EE4yVsEqVijmag" for 127.0.0.1 at 2018-12-26 22:47:52 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"book_worm", "plan_id"=>"plan_EE4yVsEqVijmag"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (2.7ms)
Completed 200 OK in 93ms (Views: 80.8ms | ActiveRecord: 0.6ms)


Started POST "/subscriptions" for 127.0.0.1 at 2018-12-26 22:48:30 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"z3K2omJeOsJXHtxtU9CLi7TF+qMYovLaPe2B4zfp+UYwU0aiiNvSnNt7OBkO7DUsXQbZ44e6UcpiYf+LZ+UP8g==", "plan_id"=>"plan_EE4yVsEqVijmag", "stripeToken"=>"tok_1DlecUGtAUHqRedbmOQM5U6g", "user"=>{"card_type"=>"undefined", "card_last4"=>"4242", "card_exp_month"=>"4", "card_exp_year"=>"2024"}}
Started POST "/subscriptions" for 127.0.0.1 at 2018-12-26 22:48:30 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"z3K2omJeOsJXHtxtU9CLi7TF+qMYovLaPe2B4zfp+UYwU0aiiNvSnNt7OBkO7DUsXQbZ44e6UcpiYf+LZ+UP8g==", "plan_id"=>"plan_EE4yVsEqVijmag", "stripeToken"=>"tok_1DlecUGtAUHqRedbXe8bE5EO", "user"=>{"card_type"=>"undefined", "card_last4"=>"4242", "card_exp_month"=>"4", "card_exp_year"=>"2024"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:18
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:18
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "stripe_id" = ?, "stripe_subscription_id" = ?, "subscribed" = ?, "card_last4" = ?, "card_exp_month" = ?, "card_exp_year" = ?, "card_type" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["stripe_id", "cus_EE6qSg60PO00qt"], ["stripe_subscription_id", "sub_EE6qZF7VIf1wC8"], ["subscribed", 1], ["card_last4", "4242"], ["card_exp_month", 4], ["card_exp_year", 2024], ["card_type", "undefined"], ["updated_at", "2018-12-26 15:48:35.196760"], ["id", 3]]
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[35m (74.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 4936ms (ActiveRecord: 77.0ms)


  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "stripe_id" = ?, "stripe_subscription_id" = ?, "subscribed" = ?, "card_last4" = ?, "card_exp_month" = ?, "card_exp_year" = ?, "card_type" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["stripe_id", "cus_EE6q66y0OOu7Xa"], ["stripe_subscription_id", "sub_EE6qkU8uYBtR2K"], ["subscribed", 1], ["card_last4", "4242"], ["card_exp_month", 4], ["card_exp_year", 2024], ["card_type", "undefined"], ["updated_at", "2018-12-26 15:48:35.561199"], ["id", 3]]
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[35m (198.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 4845ms (ActiveRecord: 201.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 22:48:35 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 74ms (Views: 69.7ms | ActiveRecord: 1.2ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 22:48:48 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (27.5ms)
Completed 200 OK in 85ms (Views: 79.5ms | ActiveRecord: 0.7ms)


Started GET "/library" for 127.0.0.1 at 2018-12-26 22:49:06 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  Rendered library/index.html.erb within layouts/application (75.3ms)
Completed 200 OK in 293ms (Views: 135.8ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 22:49:09 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.1ms)
  Rendered books/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 88ms (Views: 83.2ms | ActiveRecord: 1.3ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "admin" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2018-12-26 16:29:20.718590"], ["admin", 1], ["id", 3]]
  [1m[35m (52.4ms)[0m  [1m[36mcommit transaction[0m
Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 23:29:38 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (32.9ms)
Completed 200 OK in 120ms (Views: 113.1ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:29:40 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.2ms)
  Rendered books/index.html.erb within layouts/application (20.6ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 117ms (Views: 113.0ms | ActiveRecord: 1.2ms)


Started GET "/library" for 127.0.0.1 at 2018-12-26 23:29:42 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  Rendered library/index.html.erb within layouts/application (7.9ms)
Completed 200 OK in 131ms (Views: 123.5ms | ActiveRecord: 1.1ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-26 23:30:20 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (47.0ms)
  Rendered books/new.html.erb within layouts/application (50.6ms)
Completed 200 OK in 212ms (Views: 107.4ms | ActiveRecord: 1.3ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 23:30:27 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (57.2ms)
Completed 200 OK in 151ms (Views: 135.5ms | ActiveRecord: 1.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-26 23:30:28 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (23.5ms)
  Rendered books/new.html.erb within layouts/application (26.0ms)
Completed 200 OK in 137ms (Views: 129.2ms | ActiveRecord: 0.6ms)


Started POST "/books" for 127.0.0.1 at 2018-12-26 23:34:14 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"h55BMku1B3eVvhISe1YYN0kWFdEAjQcluw/KqwHXaATUkfC71C8sN1q/48TzWNsRgik0eXbP/0smoHTBfHa8JA==", "book"=>{"title"=>"Das Kapital", "description"=>"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero massa, scelerisque a nunc ut, vestibulum vestibulum ipsum. Praesent rhoncus blandit varius. Proin aliquam tellus ut purus bibendum ultrices. Donec id leo sit amet ante varius consequat. Duis gravida consectetur orci, sed congue risus interdum ut. Phasellus imperdiet dapibus lorem, ut pretium sem facilisis et. Sed elementum lacus eu lectus laoreet interdum. In hendrerit, turpis non convallis dignissim, turpis quam bibendum leo, in eleifend metus metus hendrerit urna. Integer facilisis eget urna nec ornare. Donec sed suscipit elit. Duis pharetra mauris ex, a bibendum erat molestie eu. Vestibulum iaculis maximus magna, sit amet mollis dolor venenatis eu. Duis erat diam, iaculis nec diam quis, varius laoreet ex. Nullam porta lacus quis odio hendrerit, a facilisis risus lacinia.\r\n\r\nAliquam erat volutpat. Nunc pretium egestas consectetur. Suspendisse tincidunt, est aliquet mollis luctus, sem odio hendrerit arcu, non aliquam ante nisl non dolor. Aenean vehicula, neque at euismod pellentesque, mi purus rutrum felis, vitae luctus metus ante vel nunc. Donec ut ipsum sit amet eros fringilla pretium nec eget tortor. Nulla varius nisl ex, eget interdum magna lacinia quis. Ut iaculis et risus quis pellentesque. Proin tincidunt dapibus metus, id malesuada sapien. Fusce elit est, sodales vitae nisi quis, luctus sodales lorem. Donec facilisis magna ac nisl facilisis fringilla. Suspendisse potenti.\r\n\r\n", "author"=>"Karl Marx", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007fbc8c2a6b88 @tempfile=#<Tempfile:/tmp/RackMultipart20181226-15717-1kk8bwk.pdf>, @original_filename="Курсовая Сидоров - Google Документы.pdf", @content_type="application/pdf", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"\xD0\x9A\xD1\x83\xD1\x80\xD1\x81\xD0\xBE\xD0\xB2\xD0\xB0\xD1\x8F \xD0\xA1\xD0\xB8\xD0\xB4\xD0\xBE\xD1\x80\xD0\xBE\xD0\xB2 - Google \xD0\x94\xD0\xBE\xD0\xBA\xD1\x83\xD0\xBC\xD0\xB5\xD0\xBD\xD1\x82\xD1\x8B.pdf\"\r\nContent-Type: application/pdf\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (77.6ms) [0m[32mUploaded file to key: u5tHCJkPgFMR6ZRo5KUDjaDX (checksum: 1UE2SFSGGwtNBcFdDlwL+A==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "u5tHCJkPgFMR6ZRo5KUDjaDX"], ["filename", "Курсовая Сидоров - Google Документы.pdf"], ["content_type", "application/pdf"], ["metadata", "{\"identified\":true}"], ["byte_size", 1278603], ["checksum", "1UE2SFSGGwtNBcFdDlwL+A=="], ["created_at", "2018-12-26 16:34:14.836062"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (366.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Das Kapital"], ["description", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero massa, scelerisque a nunc ut, vestibulum vestibulum ipsum. Praesent rhoncus blandit varius. Proin aliquam tellus ut purus bibendum ultrices. Donec id leo sit amet ante varius consequat. Duis gravida consectetur orci, sed congue risus interdum ut. Phasellus imperdiet dapibus lorem, ut pretium sem facilisis et. Sed elementum lacus eu lectus laoreet interdum. In hendrerit, turpis non convallis dignissim, turpis quam bibendum leo, in eleifend metus metus hendrerit urna. Integer facilisis eget urna nec ornare. Donec sed suscipit elit. Duis pharetra mauris ex, a bibendum erat molestie eu. Vestibulum iaculis maximus magna, sit amet mollis dolor venenatis eu. Duis erat diam, iaculis nec diam quis, varius laoreet ex. Nullam porta lacus quis odio hendrerit, a facilisis risus lacinia.\r\n\r\nAliquam erat volutpat. Nunc pretium egestas consectetur. Suspendisse tincidunt, est aliquet mollis luctus, sem odio hendrerit arcu, non aliquam ante nisl non dolor. Aenean vehicula, neque at euismod pellentesque, mi purus rutrum felis, vitae luctus metus ante vel nunc. Donec ut ipsum sit amet eros fringilla pretium nec eget tortor. Nulla varius nisl ex, eget interdum magna lacinia quis. Ut iaculis et risus quis pellentesque. Proin tincidunt dapibus metus, id malesuada sapien. Fusce elit est, sodales vitae nisi quis, luctus sodales lorem. Donec facilisis magna ac nisl facilisis fringilla. Suspendisse potenti.\r\n\r\n"], ["author", "Karl Marx"], ["user_id", 3], ["created_at", "2018-12-26 16:34:15.256375"], ["updated_at", "2018-12-26 16:34:15.256375"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 3], ["blob_id", 2], ["created_at", "2018-12-26 16:34:15.262980"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.6ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-26 16:34:15.266537"], ["id", 3]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (104.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 1478ms (ActiveRecord: 478.4ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/c24e6b5c3e9d7a90/variables" for 127.0.0.1 at 2018-12-26 23:34:16 +0700
Started POST "/__better_errors/c24e6b5c3e9d7a90/variables" for 127.0.0.1 at 2018-12-26 23:34:24 +0700
Started POST "/books" for 127.0.0.1 at 2018-12-26 23:36:05 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"guRyQadMLzma9d9zfBM4Ar4IMlkg/Un5UpcDdqafQaxwpO51A02N7+twK9P2kJQUujk75nTls1iWGd0apbvEXQ==", "book"=>{"title"=>"Das Kapital", "description"=>"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero massa, scelerisque a nunc ut, vestibulum vestibulum ipsum. Praesent rhoncus blandit varius. Proin aliquam tellus ut purus bibendum ultrices. ", "author"=>"Karl Marx", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x000055f6d76e24d0 @tempfile=#<Tempfile:/tmp/RackMultipart20181226-15717-1vob8lc.pdf>, @original_filename="WHOLE.pdf", @content_type="application/pdf", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"WHOLE.pdf\"\r\nContent-Type: application/pdf\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (5.8ms) [0m[32mUploaded file to key: H2j7bzneSs6EmoVGWcBRRgUE (checksum: yj5gWBiBTThSd0ZTpL00Dw==)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "H2j7bzneSs6EmoVGWcBRRgUE"], ["filename", "WHOLE.pdf"], ["content_type", "application/pdf"], ["metadata", "{\"identified\":true}"], ["byte_size", 813717], ["checksum", "yj5gWBiBTThSd0ZTpL00Dw=="], ["created_at", "2018-12-26 16:36:05.147004"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (89.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (1.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Das Kapital"], ["description", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero massa, scelerisque a nunc ut, vestibulum vestibulum ipsum. Praesent rhoncus blandit varius. Proin aliquam tellus ut purus bibendum ultrices. "], ["author", "Karl Marx"], ["user_id", 3], ["created_at", "2018-12-26 16:36:05.250137"], ["updated_at", "2018-12-26 16:36:05.250137"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 4], ["blob_id", 3], ["created_at", "2018-12-26 16:36:05.254952"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.5ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-26 16:36:05.257750"], ["id", 4]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (57.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 197ms (ActiveRecord: 152.0ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/86987b9d97fd5458/variables" for 127.0.0.1 at 2018-12-26 23:36:05 +0700
Started POST "/books" for 127.0.0.1 at 2018-12-26 23:37:40 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"guRyQadMLzma9d9zfBM4Ar4IMlkg/Un5UpcDdqafQaxwpO51A02N7+twK9P2kJQUujk75nTls1iWGd0apbvEXQ==", "book"=>{"title"=>"Das Kapital", "description"=>"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero massa, scelerisque a nunc ut, vestibulum vestibulum ipsum. Praesent rhoncus blandit varius. Proin aliquam tellus ut purus bibendum ultrices. ", "author"=>"Karl Marx", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x000055dd6419e208 @tempfile=#<Tempfile:/tmp/RackMultipart20181226-17564-ooc9h1.pdf>, @original_filename="WHOLE.pdf", @content_type="application/pdf", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"WHOLE.pdf\"\r\nContent-Type: application/pdf\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (7.4ms) [0m[32mUploaded file to key: U82GCB23i6JyZ4hRYrBuGu6k (checksum: yj5gWBiBTThSd0ZTpL00Dw==)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "U82GCB23i6JyZ4hRYrBuGu6k"], ["filename", "WHOLE.pdf"], ["content_type", "application/pdf"], ["metadata", "{\"identified\":true}"], ["byte_size", 813717], ["checksum", "yj5gWBiBTThSd0ZTpL00Dw=="], ["created_at", "2018-12-26 16:37:40.319406"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (95.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Das Kapital"], ["description", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero massa, scelerisque a nunc ut, vestibulum vestibulum ipsum. Praesent rhoncus blandit varius. Proin aliquam tellus ut purus bibendum ultrices. "], ["author", "Karl Marx"], ["user_id", 3], ["created_at", "2018-12-26 16:37:40.451606"], ["updated_at", "2018-12-26 16:37:40.451606"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 5], ["blob_id", 4], ["created_at", "2018-12-26 16:37:40.456765"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.5ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-26 16:37:40.460656"], ["id", 5]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (93.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 516ms (ActiveRecord: 197.7ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/37f25604b810b3a6/variables" for 127.0.0.1 at 2018-12-26 23:37:41 +0700
Started GET "/books/new" for 127.0.0.1 at 2018-12-26 23:37:46 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (71.7ms)
  Rendered books/new.html.erb within layouts/application (75.7ms)
Completed 200 OK in 741ms (Views: 732.5ms | ActiveRecord: 0.7ms)


Started POST "/books" for 127.0.0.1 at 2018-12-26 23:39:58 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OpB7mSFXPHa5N1CoI8IkZH1o3pU79rdealUAyho+gkZpn8oQvs0XNnY2oX6rzOdCtlf/PU20TzD3+r6gZ59WZg==", "book"=>{"title"=>"Das Kapital", "description"=>"Loren ipsum", "author"=>"Karl Marx", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007f3ef463dc58 @tempfile=#<Tempfile:/tmp/RackMultipart20181226-17564-wbt23n.jpg>, @original_filename="das_kapital.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"das_kapital.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (3.1ms) [0m[32mUploaded file to key: pRvCHwfD3pV5xbVLvH13WGUE (checksum: eCg3WN0hna/Fr9Y1l5OWqw==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "pRvCHwfD3pV5xbVLvH13WGUE"], ["filename", "das_kapital.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 90079], ["checksum", "eCg3WN0hna/Fr9Y1l5OWqw=="], ["created_at", "2018-12-26 16:39:58.069761"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (86.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Das Kapital"], ["description", "Loren ipsum"], ["author", "Karl Marx"], ["user_id", 3], ["created_at", "2018-12-26 16:39:58.173306"], ["updated_at", "2018-12-26 16:39:58.173306"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 6], ["blob_id", 5], ["created_at", "2018-12-26 16:39:58.179414"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.7ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-26 16:39:58.183550"], ["id", 6]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (75.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 217ms (ActiveRecord: 166.7ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/241ca94c92a62620/variables" for 127.0.0.1 at 2018-12-26 23:39:58 +0700
Started GET "/" for 127.0.0.1 at 2018-12-26 23:46:17 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [4 times] (40.6ms)
  Rendered books/index.html.erb within layouts/application (55.0ms)
Completed 200 OK in 207ms (Views: 132.0ms | ActiveRecord: 3.6ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf" for 127.0.0.1 at 2018-12-26 23:46:18 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4/WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:46:18 +0700
Processing by ActiveStorage::BlobsController#show as PDF
Processing by ActiveStorage::BlobsController#show as PDF
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4", "filename"=>"WHOLE"}
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1", "filename"=>"Курсовая Сидоров - Google Документы"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (2.5ms) [0m[34mGenerated URL for file at key: H2j7bzneSs6EmoVGWcBRRgUE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf
[36m  Disk Storage (2.5ms) [0m[34mGenerated URL for file at key: u5tHCJkPgFMR6ZRo5KUDjaDX (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf)[0m
Completed 302 Found in 26ms (ActiveRecord: 0.6ms)


Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf
Completed 302 Found in 27ms (ActiveRecord: 0.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:46:18 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5", "filename"=>"WHOLE"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:46:18 +0700
[36m  Disk Storage (2.4ms) [0m[34mDownloaded file from key: H2j7bzneSs6EmoVGWcBRRgUE[0m
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
  Rendering text template
[36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Rendered text template (0.0ms)
  Rendering text template
Sent data  (25.7ms)
  Rendered text template (0.0ms)
Completed 200 OK in 32ms (Views: 25.2ms | ActiveRecord: 0.0ms)


Sent data  (2.2ms)
Completed 200 OK in 20ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26/WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:46:18 +0700
Processing by ActiveStorage::BlobsController#show as PDF
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26", "filename"=>"WHOLE"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:46:18 +0700
[36m  Disk Storage (1.7ms) [0m[34mGenerated URL for file at key: U82GCB23i6JyZ4hRYrBuGu6k (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf)[0m
Processing by ActiveStorage::BlobsController#show as JPEG
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"das_kapital"}
Completed 302 Found in 10ms (ActiveRecord: 0.3ms)


  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.3ms) [0m[34mGenerated URL for file at key: pRvCHwfD3pV5xbVLvH13WGUE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:46:19 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf", "filename"=>"WHOLE"}
[36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: U82GCB23i6JyZ4hRYrBuGu6k[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:46:19 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:46:43 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (38.2ms)
Completed 200 OK in 104ms (Views: 100.0ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:46:43 +0700
Processing by ActiveStorage::DiskController#show as PDF
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:46:43 +0700
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:46:43 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5", "filename"=>"WHOLE"}
[36m  Disk Storage (8.9ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Rendering text template
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf", "filename"=>"WHOLE"}
  Rendered text template (0.0ms)
Sent data  (7.3ms)
Completed 200 OK in 20ms (Views: 6.9ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (4.2ms) [0m[34mDownloaded file from key: H2j7bzneSs6EmoVGWcBRRgUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.8ms)
Completed 200 OK in 30ms (Views: 1.5ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (33.1ms) [0m[34mDownloaded file from key: U82GCB23i6JyZ4hRYrBuGu6k[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (4.5ms)
Completed 200 OK in 41ms (Views: 3.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:46:50 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6ZOiidKVT0Sp03F1i0xAhhAL9EdiVjGzsVz45aRepK+wG7Q5zId2P/chs29Uc+ZwA6HYI+W6xAvjdZOjF6VOxg==", "user"=>{"email"=>"putin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "putin"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 47ms (ActiveRecord: 0.5ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6ZOiidKVT0Sp03F1i0xAhhAL9EdiVjGzsVz45aRepK+wG7Q5zId2P/chs29Uc+ZwA6HYI+W6xAvjdZOjF6VOxg==", "user"=>{"email"=>"putin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (32.3ms)
Completed 200 OK in 319ms (Views: 128.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:47:02 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mwPWJjvyPWcoe8O2j6h7dx30PQ1WibwS1A0dI7E+w2Z97OHDE91AM/mr3SYjWWBAJfUHhsKXlAcq1jDgVhP2RQ==", "user"=>{"email"=>"putin@kremlin.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "putin@kremlin.ru"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-26 16:47:02.771951"], ["last_sign_in_at", "2018-12-26 15:47:41.483590"], ["sign_in_count", 3], ["updated_at", "2018-12-26 16:47:02.774632"], ["id", 3]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (71.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 275ms (ActiveRecord: 72.4ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:47:02 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [4 times] (60.7ms)
  Rendered books/index.html.erb within layouts/application (64.3ms)
Completed 200 OK in 149ms (Views: 139.2ms | ActiveRecord: 6.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:47:03 +0700
Processing by ActiveStorage::DiskController#show as PDF
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:47:03 +0700
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
Processing by ActiveStorage::DiskController#show as PDF
[36m  Disk Storage (3.3ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5", "filename"=>"WHOLE"}
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (3.8ms)
Completed 200 OK in 11ms (Views: 3.4ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (1.7ms) [0m[34mDownloaded file from key: H2j7bzneSs6EmoVGWcBRRgUE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (6.3ms)
Completed 200 OK in 26ms (Views: 5.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:47:03 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf", "filename"=>"WHOLE"}
[36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: U82GCB23i6JyZ4hRYrBuGu6k[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (3.2ms)
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:47:03 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13", "filename"=>"das_kapital"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started DELETE "/books/5" for 127.0.0.1 at 2018-12-26 23:47:07 +0700
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"zf+7RWffKBruSb8W0yTx5PQvznKI66d6Te11PL3b0s0JxRagIAEW+X9SU0gkuIjqtQIl8BWU7wJaS6NEQZ5oTw==", "id"=>"5"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:58
  [1m[36mBook Destroy (0.7ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/books_controller.rb:58
  [1m[35m (67.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:58
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:58
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:58
Completed 500 Internal Server Error in 131ms (ActiveRecord: 71.4ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:58:in `destroy'

Started POST "/__better_errors/ab58368049a54982/variables" for 127.0.0.1 at 2018-12-26 23:47:08 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:48:30 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:48:30 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5", "filename"=>"WHOLE"}
[36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: H2j7bzneSs6EmoVGWcBRRgUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.7ms)
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (9.1ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 23ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:48:30 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf", "filename"=>"WHOLE"}
[36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: U82GCB23i6JyZ4hRYrBuGu6k[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.8ms)
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started PUT "/books/6/add?type=add" for 127.0.0.1 at 2018-12-26 23:48:35 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"zf+7RWffKBruSb8W0yTx5PQvznKI66d6Te11PL3b0s0JxRagIAEW+X9SU0gkuIjqtQIl8BWU7wJaS6NEQZ5oTw==", "type"=>"add", "id"=>"6"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (1.5ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 6], ["user_id", 3], ["created_at", "2018-12-26 16:48:35.888954"], ["updated_at", "2018-12-26 16:48:35.888954"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (70.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 182ms (ActiveRecord: 78.2ms)


Started GET "/library" for 127.0.0.1 at 2018-12-26 23:48:35 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (15.9ms)
  Rendered library/index.html.erb within layouts/application (58.9ms)
Completed 200 OK in 118ms (Views: 107.9ms | ActiveRecord: 3.1ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:48:36 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/library" for 127.0.0.1 at 2018-12-26 23:48:40 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (18.4ms)
  Rendered library/index.html.erb within layouts/application (28.7ms)
Completed 200 OK in 89ms (Views: 79.7ms | ActiveRecord: 3.6ms)


Started GET "/library" for 127.0.0.1 at 2018-12-26 23:48:44 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (15.8ms)
  Rendered library/index.html.erb within layouts/application (26.1ms)
Completed 200 OK in 107ms (Views: 98.3ms | ActiveRecord: 2.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:48:49 +0700
Processing by ActiveStorage::DiskController#show as PDF
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:48:49 +0700
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5", "filename"=>"WHOLE"}
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
[36m  Disk Storage (1.0ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.1ms)
Completed 200 OK in 5ms (Views: 1.7ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (3.6ms) [0m[34mDownloaded file from key: H2j7bzneSs6EmoVGWcBRRgUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 27ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:48:49 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf", "filename"=>"WHOLE"}
[36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: U82GCB23i6JyZ4hRYrBuGu6k[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.5ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started GET "/books/5/edit" for 127.0.0.1 at 2018-12-26 23:48:52 +0700
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
Completed 404 Not Found in 4ms (ActiveRecord: 0.4ms)



ActiveRecord::RecordNotFound - Couldn't find Book with 'id'=5:
  app/controllers/books_controller.rb:87:in `set_book'

Started POST "/__better_errors/72e5788d825c8924/variables" for 127.0.0.1 at 2018-12-26 23:48:52 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:48:52 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:48:52 +0700
Processing by ActiveStorage::DiskController#show as PDF
[36m  Disk Storage (46.2ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 50ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:48:52 +0700
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5", "filename"=>"WHOLE"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: H2j7bzneSs6EmoVGWcBRRgUE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.0ms)
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf", "filename"=>"WHOLE"}
[36m  Disk Storage (6.2ms) [0m[34mDownloaded file from key: U82GCB23i6JyZ4hRYrBuGu6k[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.9ms)
Completed 200 OK in 11ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:48:55 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
[36m  Disk Storage (2.3ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.7ms)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:48:55 +0700
Started GET "/" for 127.0.0.1 at 2018-12-26 23:48:55 +0700
Processing by ActiveStorage::DiskController#show as PDF
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:48:55 +0700
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5", "filename"=>"WHOLE"}
Processing by BooksController#index as HTML
Processing by ActiveStorage::DiskController#show as PDF
[36m  Disk Storage (6.5ms) [0m[34mDownloaded file from key: H2j7bzneSs6EmoVGWcBRRgUE[0m
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFWT0RKSFEwSXlNMmsyU25sYU5HaFNXWEpDZFVkMU5tc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDQ0WiIsInB1ciI6ImJsb2Jfa2V5In19--bae994c5ccf28ef01ca2b7a9f36b16e8d9867eaf", "filename"=>"WHOLE"}
  Rendering books/index.html.erb within layouts/application
  Rendering text template
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered text template (0.1ms)
[36m  Disk Storage (5.0ms) [0m[34mDownloaded file from key: U82GCB23i6JyZ4hRYrBuGu6k[0m
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.9ms)
Completed 200 OK in 18ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Sent data  (10.9ms)
Completed 200 OK in 42ms (Views: 10.5ms | ActiveRecord: 0.0ms)


  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [3 times] (64.8ms)
  Rendered books/index.html.erb within layouts/application (72.4ms)
Completed 200 OK in 131ms (Views: 122.9ms | ActiveRecord: 5.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:48:56 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:48:56 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5", "filename"=>"WHOLE"}
[36m  Disk Storage (10.3ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Rendering text template
[36m  Disk Storage (2.8ms) [0m[34mDownloaded file from key: H2j7bzneSs6EmoVGWcBRRgUE[0m
  Rendered text template (0.0ms)
  Rendering text template
Sent data  (3.1ms)
  Rendered text template (0.0ms)
Completed 200 OK in 19ms (Views: 2.8ms | ActiveRecord: 0.0ms)


Sent data  (1.5ms)
Completed 200 OK in 20ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:48:56 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.3ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started DELETE "/books/4" for 127.0.0.1 at 2018-12-26 23:49:00 +0700
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"tZbzoW0RVnrtVLoILl6PwFE9p1S2IKzTUmq4Iu4S/cpxrF5EKs9omXxPVlbZwvbOEBBM1itf5KtFzG5aEldHSA==", "id"=>"4"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:58
  [1m[36mBook Destroy (0.7ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/books_controller.rb:58
  [1m[35m (73.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:58
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:58
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:58
Completed 500 Internal Server Error in 104ms (ActiveRecord: 76.1ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:58:in `destroy'

Started POST "/__better_errors/15069a2e02671a7d/variables" for 127.0.0.1 at 2018-12-26 23:49:01 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:49:04 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5/WHOLE.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22WHOLE.pdf%22%3B+filename%2A%3DUTF-8%27%27WHOLE.pdf" for 127.0.0.1 at 2018-12-26 23:49:04 +0700
Processing by ActiveStorage::DiskController#show as PDF
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"WHOLE.pdf\"; filename*=UTF-8''WHOLE.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFJTW1vM1lucHVaVk56TmtWdGIxWkhWMk5DVWxKblZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc0WiIsInB1ciI6ImJsb2Jfa2V5In19--f67667e72ff64950e8739cf5a448f078534246c5", "filename"=>"WHOLE"}
[36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: H2j7bzneSs6EmoVGWcBRRgUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 0.0ms)


  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
[36m  Disk Storage (2.2ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:49:07 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (27.7ms)
  Rendered books/index.html.erb within layouts/application (31.5ms)
Completed 200 OK in 85ms (Views: 79.8ms | ActiveRecord: 3.4ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:49:08 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:49:08 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
[36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Rendering text template
  Rendered text template (0.1ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Sent data  (1.9ms)
Completed 200 OK in 12ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started DELETE "/books/3" for 127.0.0.1 at 2018-12-26 23:49:11 +0700
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"EKgxP2AzYSO0BUaWTbPrR1J8xeNVEVnqhXY8Xw9xjznUkpzaJ+1fwCUeqsi6L5JJE1EuYchuEZKS0Oon8zQ1uw==", "id"=>"3"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:58
  [1m[36mBook Destroy (0.7ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/books_controller.rb:58
  [1m[35m (116.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:58
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:58
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:58
Completed 500 Internal Server Error in 147ms (ActiveRecord: 120.0ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:58:in `destroy'

Started POST "/__better_errors/fbd09f31eaedcb7a/variables" for 127.0.0.1 at 2018-12-26 23:49:11 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46/%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22%253F%253F%253F%253F%253F%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F+-+Google+%253F%253F%253F%253F%253F%253F%253F%253F%253F.pdf%22%3B+filename%2A%3DUTF-8%27%27%25D0%259A%25D1%2583%25D1%2580%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F%2520%25D0%25A1%25D0%25B8%25D0%25B4%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%2520-%2520Google%2520%25D0%2594%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B.pdf" for 127.0.0.1 at 2018-12-26 23:49:15 +0700
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"%3F%3F%3F%3F%3F%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F - Google %3F%3F%3F%3F%3F%3F%3F%3F%3F.pdf\"; filename*=UTF-8''%D0%9A%D1%83%D1%80%D1%81%D0%BE%D0%B2%D0%B0%D1%8F%20%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%20-%20Google%20%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDExTlhSSVEwcHJVR2RHVFZJMldsSnZOVXRWUkdwaFJGZ0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguMjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3786ba9272053365921ad6ad95fd293a03bac46", "filename"=>"Курсовая Сидоров - Google Документы"}
[36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: u5tHCJkPgFMR6ZRo5KUDjaDX[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.5ms)
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started DELETE "/books/3" for 127.0.0.1 at 2018-12-26 23:49:21 +0700
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"EKgxP2AzYSO0BUaWTbPrR1J8xeNVEVnqhXY8Xw9xjznUkpzaJ+1fwCUeqsi6L5JJE1EuYchuEZKS0Oon8zQ1uw==", "id"=>"3"}
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
Completed 404 Not Found in 4ms (ActiveRecord: 0.8ms)



ActiveRecord::RecordNotFound - Couldn't find Book with 'id'=3:
  app/controllers/books_controller.rb:87:in `set_book'

Started POST "/__better_errors/8a5480a42de666ed/variables" for 127.0.0.1 at 2018-12-26 23:49:21 +0700
Started GET "/books/" for 127.0.0.1 at 2018-12-26 23:49:24 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (17.4ms)
  Rendered books/index.html.erb within layouts/application (22.0ms)
Completed 200 OK in 86ms (Views: 80.1ms | ActiveRecord: 2.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:49:25 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTE6MTguNDU4WiIsInB1ciI6ImJsb2Jfa2V5In19--f99eb7a74e107d6c642cab01f4d997d286b85c13", "filename"=>"das_kapital"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-26 23:49:29 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (25.6ms)
  Rendered books/new.html.erb within layouts/application (28.3ms)
Completed 200 OK in 99ms (Views: 89.8ms | ActiveRecord: 1.5ms)


Started POST "/books" for 127.0.0.1 at 2018-12-26 23:52:27 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cU3b5uIdklZDFq9+zMPkivuwmIZpGUR2in5PwJQb05Nms3plmK8DY68lCPhpH4HOEJ4xUHscpvJazsoI9PPddw==", "book"=>{"title"=>"Leviathan", "description"=>"The work concerns the structure of society and legitimate government, and is regarded as one of the earliest and most influential examples of social contract theory. Leviathan ranks as a classic Western work on statecraft comparable to Machiavelli's The Prince. Written during the English Civil War (1642–1651), Leviathan argues for a social contract and rule by an absolute sovereign. Hobbes wrote that civil war and the brute situation of a state of nature (\"the war of all against all\") could only be avoided by strong, undivided government.", "author"=>"Thomas Hobbes ", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007f3ee89325f0 @tempfile=#<Tempfile:/tmp/RackMultipart20181226-17564-29fi3t.jpg>, @original_filename="Leviathan_by_Thomas_Hobbes.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (10.3ms) [0m[32mUploaded file to key: wMkpj6x92hn1qiQGBQ8vgttw (checksum: 00zzFubsdCq4xB5tpBgVcA==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wMkpj6x92hn1qiQGBQ8vgttw"], ["filename", "Leviathan_by_Thomas_Hobbes.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 778470], ["checksum", "00zzFubsdCq4xB5tpBgVcA=="], ["created_at", "2018-12-26 16:52:27.259289"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (90.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Leviathan"], ["description", "The work concerns the structure of society and legitimate government, and is regarded as one of the earliest and most influential examples of social contract theory. Leviathan ranks as a classic Western work on statecraft comparable to Machiavelli's The Prince. Written during the English Civil War (1642–1651), Leviathan argues for a social contract and rule by an absolute sovereign. Hobbes wrote that civil war and the brute situation of a state of nature (\"the war of all against all\") could only be avoided by strong, undivided government."], ["author", "Thomas Hobbes "], ["user_id", 3], ["created_at", "2018-12-26 16:52:27.365212"], ["updated_at", "2018-12-26 16:52:27.365212"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 7], ["blob_id", 6], ["created_at", "2018-12-26 16:52:27.371810"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.6ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-26 16:52:27.375186"], ["id", 7]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (53.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 217ms (ActiveRecord: 148.0ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/8fc6a0d01ebbacb8/variables" for 127.0.0.1 at 2018-12-26 23:52:27 +0700
Started POST "/__better_errors/8fc6a0d01ebbacb8/variables" for 127.0.0.1 at 2018-12-26 23:52:37 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-26 23:53:11 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (26.0ms)
  Rendered books/index.html.erb within layouts/application (30.8ms)
Completed 200 OK in 80ms (Views: 74.5ms | ActiveRecord: 3.5ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:53:11 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:53:11 +0700
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ActiveStorage::BlobsController#show as JPEG
[36m  Disk Storage (3.8ms) [0m[34mGenerated URL for file at key: wMkpj6x92hn1qiQGBQ8vgttw (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"das_kapital"}
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Completed 302 Found in 24ms (ActiveRecord: 0.5ms)


  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (5.1ms) [0m[34mGenerated URL for file at key: pRvCHwfD3pV5xbVLvH13WGUE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 21ms (ActiveRecord: 0.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:53:11 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:53:11 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Sent data  (3.0ms)
Completed 200 OK in 10ms (Views: 2.6ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (3.0ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.6ms)
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started PUT "/books/6/add?type=remove" for 127.0.0.1 at 2018-12-26 23:53:16 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"ZrdW7Cg2rFgGub63LbuxqKuPL6rEHe1ysRBzbI5a9JSijfsJb+iSu5eiUunaJ8im6qLEKFlipQqmtqUUch9OFg==", "type"=>"remove", "id"=>"6"}
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:75
  [1m[36mLibrary Destroy (1.5ms)[0m  [1m[31mDELETE FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."book_id" = ?[0m  [["user_id", 3], ["book_id", 6]]
  ↳ app/controllers/books_controller.rb:75
  [1m[35m (62.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 82ms (ActiveRecord: 65.8ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:53:16 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (26.7ms)
  Rendered books/index.html.erb within layouts/application (31.4ms)
Completed 200 OK in 81ms (Views: 74.5ms | ActiveRecord: 3.7ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:53:16 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:53:16 +0700
[36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.1ms)
Processing by ActiveStorage::DiskController#show as JPEG
Sent data  (4.2ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Completed 200 OK in 11ms (Views: 3.8ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (3.9ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.3ms)
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 0.0ms)


Started GET "/books/7/edit" for 127.0.0.1 at 2018-12-26 23:53:20 +0700
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (20.1ms)
  Rendered books/edit.html.erb within layouts/application (22.7ms)
Completed 200 OK in 89ms (Views: 68.9ms | ActiveRecord: 1.3ms)


Started PATCH "/books/7" for 127.0.0.1 at 2018-12-26 23:53:22 +0700
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Cs6GFCMsAex8aqMnwI/uyqv5TLmI1Q9cDwLVoTMn9KqJYnx18d94PxSevUIip4uDWBFFoQfAtBjz30OFLydw9w==", "book"=>{"title"=>"Leviathan", "description"=>"The work concerns the structure of society and legitimate government, and is regarded as one of the earliest and most influential examples of social contract theory. Leviathan ranks as a classic Western work on statecraft comparable to Machiavelli's The Prince. Written during the English Civil War (1642–1651), Leviathan argues for a social contract and rule by an absolute sovereign. Hobbes wrote that civil war and the brute situation of a state of nature (\"the war of all against all\") could only be avoided by strong, undivided government.", "author"=>"Thomas Hobbes "}, "commit"=>"Update Book", "id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:45
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:45
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:45
Redirected to http://localhost:3000/books/7
Completed 302 Found in 19ms (ActiveRecord: 2.2ms)


Started GET "/books/7" for 127.0.0.1 at 2018-12-26 23:53:22 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered books/_book-controls.html.erb (9.5ms)
  Rendered books/show.html.erb within layouts/application (74.9ms)
Completed 200 OK in 127ms (Views: 121.1ms | ActiveRecord: 2.2ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:53:22 +0700
Processing by ActiveStorage::RepresentationsController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.2ms) [0m[34mChecked if file exists at key: variants/wMkpj6x92hn1qiQGBQ8vgttw/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (no)[0m
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: variants/wMkpj6x92hn1qiQGBQ8vgttw/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: variants/wMkpj6x92hn1qiQGBQ8vgttw/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTkzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MjMuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--8805ed18f79b031e67b02f981ce0b8ca6736cc95/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTkzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MjMuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--8805ed18f79b031e67b02f981ce0b8ca6736cc95/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Completed 302 Found in 869ms (ActiveRecord: 0.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTkzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MjMuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--8805ed18f79b031e67b02f981ce0b8ca6736cc95/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:53:23 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTkzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MjMuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--8805ed18f79b031e67b02f981ce0b8ca6736cc95", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: variants/wMkpj6x92hn1qiQGBQ8vgttw/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/library" for 127.0.0.1 at 2018-12-26 23:53:29 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  Rendered library/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 77ms (Views: 70.0ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:53:32 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (31.9ms)
  Rendered books/index.html.erb within layouts/application (36.5ms)
Completed 200 OK in 88ms (Views: 82.0ms | ActiveRecord: 3.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:53:32 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:53:32 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  Rendered text template (0.0ms)
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
Sent data  (5.4ms)
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.8ms)
Completed 200 OK in 12ms (Views: 5.1ms | ActiveRecord: 0.0ms)


Completed 200 OK in 18ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-26 23:53:56 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"4VKqFVvx3sIxx3L9nY7cQCJidO6lmr41P3xpUGt3rfAlaAfwHC/gIaDcnqNqEqVOY0+fbDjl9k0o2r8olzIXcg=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 56ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:53:57 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (15.5ms)
  Rendered books/index.html.erb within layouts/application (19.5ms)
Completed 200 OK in 76ms (Views: 71.5ms | ActiveRecord: 1.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:53:57 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:53:57 +0700
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  Rendered text template (0.0ms)
Sent data  (2.8ms)
Completed 200 OK in 9ms (Views: 2.4ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (4.6ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.2ms)
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:53:59 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (26.3ms)
Completed 200 OK in 84ms (Views: 82.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:54:12 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Y6yow55WLXTwBSxiKWYps2Vivch2Umg7fCBDe9LRtkvJD+amxdRCUnKD7XYUq+hdrj++hkEscfyPlQdprk3v8w==", "user"=>{"email"=>"nickorussisch@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "nickorussisch@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-26 16:54:12.613579"], ["last_sign_in_at", "2018-12-26 14:24:26.942965"], ["sign_in_count", 5], ["updated_at", "2018-12-26 16:54:12.615141"], ["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (79.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 274ms (ActiveRecord: 81.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:54:12 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (17.1ms)
  Rendered books/index.html.erb within layouts/application (20.6ms)
Completed 200 OK in 72ms (Views: 67.0ms | ActiveRecord: 2.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:54:12 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:54:12 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 23:54:17 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:54:17 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (18.9ms)
  Rendered books/index.html.erb within layouts/application (23.4ms)
Completed 200 OK in 80ms (Views: 74.6ms | ActiveRecord: 3.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 23:54:24 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:54:24 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (20.8ms)
  Rendered books/index.html.erb within layouts/application (24.7ms)
Completed 200 OK in 86ms (Views: 81.3ms | ActiveRecord: 2.5ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 23:54:26 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:54:26 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (32.1ms)
  Rendered books/index.html.erb within layouts/application (38.3ms)
Completed 200 OK in 175ms (Views: 169.5ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:54:27 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (39.8ms)
  Rendered books/index.html.erb within layouts/application (45.8ms)
Completed 200 OK in 120ms (Views: 114.0ms | ActiveRecord: 3.1ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 23:54:30 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 17ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:54:30 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (27.0ms)
  Rendered books/index.html.erb within layouts/application (38.4ms)
Completed 200 OK in 105ms (Views: 98.2ms | ActiveRecord: 4.1ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 23:54:32 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:54:32 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (28.0ms)
  Rendered books/index.html.erb within layouts/application (34.2ms)
Completed 200 OK in 102ms (Views: 95.3ms | ActiveRecord: 3.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-26 23:54:36 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"M1rsJpU9q4t2H57+IBz5vnaZJtMteJ3uMyxoA2Bb6QME//Csulx7Pdunwd59hREqNYPRAD0d315DT7+JgfVncw=="}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:54:36 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (15.9ms)
  Rendered books/index.html.erb within layouts/application (19.7ms)
Completed 200 OK in 73ms (Views: 68.5ms | ActiveRecord: 1.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:54:36 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:54:36 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.5ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (7.8ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 11ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:54:38 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (21.8ms)
  Rendered books/index.html.erb within layouts/application (26.6ms)
Completed 200 OK in 80ms (Views: 75.0ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:54:40 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (32.8ms)
  Rendered books/index.html.erb within layouts/application (42.0ms)
Completed 200 OK in 134ms (Views: 128.3ms | ActiveRecord: 2.4ms)


Started GET "/books/7" for 127.0.0.1 at 2018-12-26 23:54:42 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  Rendered books/_book-controls.html.erb (3.0ms)
  Rendered books/show.html.erb within layouts/application (20.4ms)
Completed 200 OK in 92ms (Views: 86.3ms | ActiveRecord: 1.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTkzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MjMuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--8805ed18f79b031e67b02f981ce0b8ca6736cc95/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:54:42 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTkzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MjMuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--8805ed18f79b031e67b02f981ce0b8ca6736cc95", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: variants/wMkpj6x92hn1qiQGBQ8vgttw/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 23:54:44 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (25.3ms)
Completed 200 OK in 96ms (Views: 93.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:54:48 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (25.6ms)
Completed 200 OK in 81ms (Views: 77.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:54:59 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"p6Hk5xO9CemXUK/knvu30uCJUnZWjqAswrOLwCIXWARnhEqkK0Cjj612DyX7Xfg1nZYicoYo4sJ7SutrE8BDUA==", "user"=>{"email"=>"nickorussisch@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "nickorussisch@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-26 16:55:00.095603"], ["last_sign_in_at", "2018-12-26 16:54:12.613579"], ["sign_in_count", 6], ["updated_at", "2018-12-26 16:55:00.097239"], ["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (75.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 268ms (ActiveRecord: 77.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:55:00 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (20.0ms)
  Rendered books/index.html.erb within layouts/application (24.5ms)
Completed 200 OK in 80ms (Views: 74.2ms | ActiveRecord: 2.4ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:55:00 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:55:00 +0700
  Rendering text template
Processing by ActiveStorage::DiskController#show as JPEG
  Rendered text template (0.0ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Sent data  (4.0ms)
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
Completed 200 OK in 11ms (Views: 3.6ms | ActiveRecord: 0.0ms)


  Rendering text template
  Rendered text template (0.1ms)
Sent data  (4.5ms)
Completed 200 OK in 9ms (Views: 4.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 23:55:04 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:55:04 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (21.7ms)
  Rendered books/index.html.erb within layouts/application (31.1ms)
Completed 200 OK in 81ms (Views: 75.6ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:55:28 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (33.5ms)
  Rendered books/index.html.erb within layouts/application (41.6ms)
Completed 200 OK in 134ms (Views: 127.3ms | ActiveRecord: 3.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-26 23:55:37 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"5aV7F4SUvus8Al8LkYIgzk1Jx/Cnm83Iz5ql6jR+RRpr5cCmuvMb5/xLvaP/+6xS/uRYPPo29uhMjxJp1k8kSg=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:55:37 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (16.0ms)
  Rendered books/index.html.erb within layouts/application (20.6ms)
Completed 200 OK in 91ms (Views: 86.8ms | ActiveRecord: 1.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:55:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:55:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 23:55:40 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (4.8ms)
Completed 200 OK in 71ms (Views: 53.2ms | ActiveRecord: 0.0ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 23:55:40 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  Rendered pricing/index.html.erb within layouts/subscribe (3.3ms)
Completed 200 OK in 68ms (Views: 66.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 23:55:45 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (31.4ms)
Completed 200 OK in 87ms (Views: 84.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 23:55:45 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (21.4ms)
Completed 200 OK in 100ms (Views: 97.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:55:48 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (25.3ms)
Completed 200 OK in 80ms (Views: 77.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:55:58 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"un7oTjhR+oiCNRhJOaprTlVaBCqAxxfLogk0BAFdmk5IknlHb8XlDNuC2tLSWhkHiAheks3sfEBL6mfROLLr0g==", "user"=>{"email"=>"nickorussisch@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "nickorussisch@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-26 16:55:59.033804"], ["last_sign_in_at", "2018-12-26 16:55:00.095603"], ["sign_in_count", 7], ["updated_at", "2018-12-26 16:55:59.035877"], ["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (50.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 243ms (ActiveRecord: 52.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:55:59 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (19.8ms)
  Rendered books/index.html.erb within layouts/application (23.9ms)
Completed 200 OK in 77ms (Views: 71.8ms | ActiveRecord: 2.7ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:55:59 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:55:59 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
[36m  Disk Storage (8.5ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendering text template
  Rendered text template (0.0ms)
  Rendered text template (0.0ms)
Sent data  (2.7ms)
Sent data  (1.8ms)
Completed 200 OK in 8ms (Views: 2.2ms | ActiveRecord: 0.0ms)


Completed 200 OK in 15ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:56:03 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (27.2ms)
  Rendered books/index.html.erb within layouts/application (32.2ms)
Completed 200 OK in 82ms (Views: 76.3ms | ActiveRecord: 3.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-26 23:56:05 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"mElFSGbK2rFYTzgw+dHYIR290hU/sLqCckYi4irindEXzo1yiHeapqmPaNxdk2I/Y5Iaow63+iCGvbao0LGRsA=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:56:05 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (15.6ms)
  Rendered books/index.html.erb within layouts/application (19.4ms)
Completed 200 OK in 70ms (Views: 66.2ms | ActiveRecord: 1.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:56:05 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:56:05 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
[36m  Disk Storage (8.8ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendering text template
  Rendered text template (0.1ms)
  Rendered text template (0.0ms)
Sent data  (4.0ms)
Sent data  (3.3ms)
Completed 200 OK in 13ms (Views: 3.7ms | ActiveRecord: 0.0ms)


Completed 200 OK in 26ms (Views: 3.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:56:10 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (22.9ms)
Completed 200 OK in 78ms (Views: 75.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-26 23:56:21 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pBvhOrhouf+uVzixeY4D8/dwgMZDzThGIHSrrqtvwiCKKTiGhDZhKP/Fww/B+GHAcs6EwGqhgSfOmGRSEs1N/Q==", "user"=>{"email"=>"nickorussisch@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "nickorussisch@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-26 16:56:22.132797"], ["last_sign_in_at", "2018-12-26 16:55:59.033804"], ["sign_in_count", 8], ["updated_at", "2018-12-26 16:56:22.134787"], ["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (71.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 265ms (ActiveRecord: 72.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:56:22 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (18.3ms)
  Rendered books/index.html.erb within layouts/application (21.8ms)
Completed 200 OK in 77ms (Views: 71.8ms | ActiveRecord: 2.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:56:22 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.8ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:56:22 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2018-12-26 23:56:25 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (24.1ms)
Completed 200 OK in 114ms (Views: 108.9ms | ActiveRecord: 0.7ms)


Started DELETE "/users" for 127.0.0.1 at 2018-12-26 23:56:33 +0700
Processing by RegistrationsController#destroy as HTML
  Parameters: {"authenticity_token"=>"zEQTCD6Vdcyy492XY8vnlP5kwFT19Arvc+I9KSp/lZ/3D7MFlQO8bwWfIRaLvA3BOls1mqFIKlpqburTspsTNA=="}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (70.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 94ms (ActiveRecord: 72.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:56:33 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (24.1ms)
  Rendered books/index.html.erb within layouts/application (30.0ms)
Completed 200 OK in 99ms (Views: 94.5ms | ActiveRecord: 2.4ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:56:33 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:56:33 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.8ms)
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (6.4ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.9ms)
Completed 200 OK in 20ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-26 23:56:38 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (27.6ms)
Completed 200 OK in 84ms (Views: 81.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-12-26 23:57:21 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DMAK5rxD7xkArT1pe7Jj5FqP63VYeBRDxFQBzVJf+WILJZbmCgumeWULJnu6VQuCcd3D8G1IMoxkOSSIIfz3lg==", "user"=>{"name"=>"Vladimir Lenin", "email"=>"lenin@kpsu.su", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "lenin@kpsu.su"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "lenin@kpsu.su"], ["encrypted_password", "$2a$11$6Vg7slT0LsdJ/Q4zpdFtaOnzzgmRGnyNgCDn1ZaHhNFUC6SGcAE9G"], ["name", "Vladimir Lenin"], ["created_at", "2018-12-26 16:57:22.136987"], ["updated_at", "2018-12-26 16:57:22.136987"]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (59.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-12-26 16:57:22.203178"], ["last_sign_in_at", "2018-12-26 16:57:22.203178"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-12-26 16:57:22.205160"], ["id", 4]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (67.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/pricing
Completed 302 Found in 335ms (ActiveRecord: 129.4ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-26 23:57:22 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (6.5ms)
Completed 200 OK in 55ms (Views: 52.5ms | ActiveRecord: 0.8ms)


Started GET "/subscriptions/new?plan=starter&plan_id=plan_EE4yVsEqVijmag" for 127.0.0.1 at 2018-12-26 23:57:26 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"starter", "plan_id"=>"plan_EE4yVsEqVijmag"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (2.0ms)
Completed 200 OK in 64ms (Views: 52.1ms | ActiveRecord: 1.2ms)


Started POST "/subscriptions" for 127.0.0.1 at 2018-12-26 23:57:51 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PMQ7VhHW/wxSacp0khgcNQwxKf31RdZtIbI2NQFSoBHlT41FV80RtoiOUCGOgjXb3W3KYnq7qDyOczyDgI5XkA==", "plan_id"=>"plan_EE4yVsEqVijmag", "stripeToken"=>"tok_1DlfhaGtAUHqRedbRWh0Cubu", "user"=>{"card_type"=>"undefined", "card_last4"=>"4242", "card_exp_month"=>"10", "card_exp_year"=>"2022"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:18
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "stripe_id" = ?, "stripe_subscription_id" = ?, "subscribed" = ?, "card_last4" = ?, "card_exp_month" = ?, "card_exp_year" = ?, "card_type" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["stripe_id", "cus_EE7xDilX6gIVRo"], ["stripe_subscription_id", "sub_EE7xPimGmmfULP"], ["subscribed", 1], ["card_last4", "4242"], ["card_exp_month", 10], ["card_exp_year", 2022], ["card_type", "undefined"], ["updated_at", "2018-12-26 16:57:55.284411"], ["id", 4]]
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[35m (176.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
Redirected to http://localhost:3000/
Completed 302 Found in 4403ms (ActiveRecord: 179.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:57:55 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["user_id", 4], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["user_id", 4], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (28.1ms)
  Rendered books/index.html.erb within layouts/application (34.2ms)
Completed 200 OK in 90ms (Views: 82.0ms | ActiveRecord: 4.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:57:55 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:57:55 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODU1WiIsInB1ciI6ImJsb2Jfa2V5In19--dbcc7c77b3d1e114c83103dbf6d55fbd9c3c71d3", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.0ms)


  Rendering text template
  Rendered text template (0.0ms)
Sent data  (10.4ms)
Completed 200 OK in 27ms (Views: 10.1ms | ActiveRecord: 0.0ms)


Started PUT "/books/6/add?type=add" for 127.0.0.1 at 2018-12-26 23:58:01 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"bJHFDxgni+buM81CiRptNonEvbfSkoYRtS1sbDHKse+giBZsmeYBVpggmvU+HJOsgs3SmtwCZRDy829XDsJ8hw==", "type"=>"add", "id"=>"6"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (0.6ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 6], ["user_id", 4], ["created_at", "2018-12-26 16:58:01.866011"], ["updated_at", "2018-12-26 16:58:01.866011"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (53.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 74ms (ActiveRecord: 55.0ms)


Started GET "/library" for 127.0.0.1 at 2018-12-26 23:58:01 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["user_id", 4], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (11.8ms)
  Rendered library/index.html.erb within layouts/application (19.0ms)
Completed 200 OK in 78ms (Views: 69.7ms | ActiveRecord: 2.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-26 23:58:02 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTY6NTg6MTEuODczWiIsInB1ciI6ImJsb2Jfa2V5In19--56c9c58d9673e351223767a9519203b4d4eb1852", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/library" for 127.0.0.1 at 2018-12-26 23:58:06 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 4], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["user_id", 4], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (22.9ms)
  Rendered library/index.html.erb within layouts/application (40.7ms)
Completed 200 OK in 99ms (Views: 89.3ms | ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-26 23:59:25 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["user_id", 4], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 4], ["user_id", 4], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (32.0ms)
  Rendered books/index.html.erb within layouts/application (37.6ms)
Completed 200 OK in 106ms (Views: 98.7ms | ActiveRecord: 4.2ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:59:26 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (3.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: wMkpj6x92hn1qiQGBQ8vgttw (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDQ6MjYuMTQ5WiIsInB1ciI6ImJsb2Jfa2V5In19--52d3dc3252f3c926e9f5aad9c36deda0512dee42/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDQ6MjYuMTQ5WiIsInB1ciI6ImJsb2Jfa2V5In19--52d3dc3252f3c926e9f5aad9c36deda0512dee42/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Completed 302 Found in 9ms (ActiveRecord: 3.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDQ6MjYuMTQ5WiIsInB1ciI6ImJsb2Jfa2V5In19--52d3dc3252f3c926e9f5aad9c36deda0512dee42/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-26 23:59:26 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDQ6MjYuMTQ5WiIsInB1ciI6ImJsb2Jfa2V5In19--52d3dc3252f3c926e9f5aad9c36deda0512dee42", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-27 00:01:02 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"bn7VIqhPA4SmgWpQjWTiSriiNfpFdvDqNsTez+3fq8yiZwZBKY6JNNCSPec6YhzQs6ta10vmE+txGt300tdmpA=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 00:01:02 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [2 times] (16.0ms)
  Rendered books/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 93ms (Views: 88.5ms | ActiveRecord: 1.9ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 00:01:02 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"das_kapital"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (4.1ms) [0m[34mGenerated URL for file at key: pRvCHwfD3pV5xbVLvH13WGUE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDY6MDIuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a673f447b1e67cd1216af7dd66689294a3d2a320/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDY6MDIuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a673f447b1e67cd1216af7dd66689294a3d2a320/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDQ6MjYuMTQ5WiIsInB1ciI6ImJsb2Jfa2V5In19--52d3dc3252f3c926e9f5aad9c36deda0512dee42/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 00:01:03 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDQ6MjYuMTQ5WiIsInB1ciI6ImJsb2Jfa2V5In19--52d3dc3252f3c926e9f5aad9c36deda0512dee42", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDY6MDIuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a673f447b1e67cd1216af7dd66689294a3d2a320/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 00:01:03 +0700
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
Processing by ActiveStorage::DiskController#show as JPEG
  Rendered text template (0.0ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDY6MDIuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a673f447b1e67cd1216af7dd66689294a3d2a320", "filename"=>"das_kapital"}
Sent data  (3.6ms)
Completed 200 OK in 9ms (Views: 3.2ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (3.1ms)
Completed 200 OK in 14ms (Views: 2.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-27 00:01:07 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (26.5ms)
Completed 200 OK in 85ms (Views: 80.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-27 00:01:17 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"U3dHksgURnZcT1yhuGdVew5627Dty44fKN9VgEjQ3O08/wkGHIaI37n3D0opOaNBU5QGTyLtljxC50bN3//ZdA==", "user"=>{"email"=>"putin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "putin"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.6ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"U3dHksgURnZcT1yhuGdVew5627Dty44fKN9VgEjQ3O08/wkGHIaI37n3D0opOaNBU5QGTyLtljxC50bN3//ZdA==", "user"=>{"email"=>"putin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (16.4ms)
Completed 200 OK in 242ms (Views: 70.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-27 00:01:22 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3sfOnBAglley4P4SdKSmMVgcCkk4OVk5+9AZogkxH/YKTFacmAVc14wzTYcPA40JAoTaMVZbVjhYqtZunD5MkQ==", "user"=>{"email"=>"putin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "putin"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.6ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3sfOnBAglley4P4SdKSmMVgcCkk4OVk5+9AZogkxH/YKTFacmAVc14wzTYcPA40JAoTaMVZbVjhYqtZunD5MkQ==", "user"=>{"email"=>"putin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (17.3ms)
Completed 200 OK in 236ms (Views: 64.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-27 00:01:33 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CdB4LbNUuGZvx0mz2/GYkRrG0azSf+lzzoD8rOOAnxTdW+AtO3Fy5lEU+iagVrOpQF4B1Lwd5nJt+jNgdo/Mcw==", "user"=>{"email"=>"putin@kremlin.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "putin@kremlin.ru"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-26 17:01:33.684409"], ["last_sign_in_at", "2018-12-26 16:47:02.771951"], ["sign_in_count", 4], ["updated_at", "2018-12-26 17:01:33.686302"], ["id", 3]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (88.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 281ms (ActiveRecord: 90.8ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 00:01:33 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (22.1ms)
  Rendered books/index.html.erb within layouts/application (26.7ms)
Completed 200 OK in 83ms (Views: 77.7ms | ActiveRecord: 3.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDY6MDIuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a673f447b1e67cd1216af7dd66689294a3d2a320/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 00:01:34 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDQ6MjYuMTQ5WiIsInB1ciI6ImJsb2Jfa2V5In19--52d3dc3252f3c926e9f5aad9c36deda0512dee42/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 00:01:34 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDY6MDIuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a673f447b1e67cd1216af7dd66689294a3d2a320", "filename"=>"das_kapital"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
Processing by ActiveStorage::DiskController#show as JPEG
  Rendered text template (0.1ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MDQ6MjYuMTQ5WiIsInB1ciI6ImJsb2Jfa2V5In19--52d3dc3252f3c926e9f5aad9c36deda0512dee42", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Sent data  (1.3ms)
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.3ms)
Completed 200 OK in 7ms (Views: 2.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 00:17:16 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (282.3ms)
  Rendered books/index.html.erb within layouts/application (349.7ms)
Completed 200 OK in 1276ms (Views: 1230.4ms | ActiveRecord: 11.2ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 00:17:18 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 00:17:18 +0700
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"das_kapital"}
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (53.8ms) [0m[34mGenerated URL for file at key: pRvCHwfD3pV5xbVLvH13WGUE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjI6MTguOTM3WiIsInB1ciI6ImJsb2Jfa2V5In19--3bae1f4f351eafc0df49600904c492feab447e2e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjI6MTguOTM3WiIsInB1ciI6ImJsb2Jfa2V5In19--3bae1f4f351eafc0df49600904c492feab447e2e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
[36m  Disk Storage (1.3ms) [0m[34mGenerated URL for file at key: wMkpj6x92hn1qiQGBQ8vgttw (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjI6MTguOTkyWiIsInB1ciI6ImJsb2Jfa2V5In19--9800226544b0815159723fdbe07260b67ad2a1c4/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Completed 302 Found in 72ms (ActiveRecord: 0.3ms)


Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjI6MTguOTkyWiIsInB1ciI6ImJsb2Jfa2V5In19--9800226544b0815159723fdbe07260b67ad2a1c4/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Completed 302 Found in 72ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjI6MTguOTM3WiIsInB1ciI6ImJsb2Jfa2V5In19--3bae1f4f351eafc0df49600904c492feab447e2e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 00:17:19 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjI6MTguOTkyWiIsInB1ciI6ImJsb2Jfa2V5In19--9800226544b0815159723fdbe07260b67ad2a1c4/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 00:17:19 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjI6MTguOTM3WiIsInB1ciI6ImJsb2Jfa2V5In19--3bae1f4f351eafc0df49600904c492feab447e2e", "filename"=>"das_kapital"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjI6MTguOTkyWiIsInB1ciI6ImJsb2Jfa2V5In19--9800226544b0815159723fdbe07260b67ad2a1c4", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (36.7ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (3.1ms)
Completed 200 OK in 43ms (Views: 2.7ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (57.6ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 61ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 00:19:11 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (171.3ms)
  Rendered books/index.html.erb within layouts/application (191.8ms)
Completed 200 OK in 770ms (Views: 735.2ms | ActiveRecord: 8.9ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 00:19:12 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 00:19:12 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"das_kapital"}
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (5.6ms) [0m[34mGenerated URL for file at key: pRvCHwfD3pV5xbVLvH13WGUE (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--177c4ea5b489dd0202ab5cc4240c1a46b15d99f3/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: wMkpj6x92hn1qiQGBQ8vgttw (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDQzWiIsInB1ciI6ImJsb2Jfa2V5In19--a6469355d37531b5ce8766853ffbd0673cbb04af/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--177c4ea5b489dd0202ab5cc4240c1a46b15d99f3/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDQzWiIsInB1ciI6ImJsb2Jfa2V5In19--a6469355d37531b5ce8766853ffbd0673cbb04af/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Completed 302 Found in 18ms (ActiveRecord: 0.4ms)


Completed 302 Found in 17ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--177c4ea5b489dd0202ab5cc4240c1a46b15d99f3/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 00:19:12 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDQzWiIsInB1ciI6ImJsb2Jfa2V5In19--a6469355d37531b5ce8766853ffbd0673cbb04af/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 00:19:12 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDQzWiIsInB1ciI6ImJsb2Jfa2V5In19--a6469355d37531b5ce8766853ffbd0673cbb04af", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--177c4ea5b489dd0202ab5cc4240c1a46b15d99f3", "filename"=>"das_kapital"}
[36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.1ms)
[36m  Disk Storage (3.0ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
Sent data  (3.1ms)
  Rendering text template
Completed 200 OK in 10ms (Views: 2.6ms | ActiveRecord: 0.0ms)


  Rendered text template (0.0ms)
Sent data  (10.9ms)
Completed 200 OK in 18ms (Views: 10.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 00:20:04 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (32.1ms)
  Rendered books/index.html.erb within layouts/application (42.1ms)
Completed 200 OK in 104ms (Views: 96.2ms | ActiveRecord: 4.8ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 00:20:06 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (71.1ms)
  Rendered books/new.html.erb within layouts/application (74.5ms)
Completed 200 OK in 166ms (Views: 128.8ms | ActiveRecord: 0.7ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 00:22:09 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ero+zv0tBLyJS59kOxqUOYcCZeaSwyq7wGC/xcWnyx0ptY9HYrcv/EZKbrKzFFcfTD1ETuSB0tVdzwGvuAYfPQ==", "book"=>{"title"=>"Thus Spoke Zarathustra: A Book for All and None", "description"=>"For what constitutes the tremendous historical uniqueness of that Persian is just the opposite of this. Zarathustra was the first to consider the fight of good and evil the very wheel in the machinery of things: the transposition of morality into the metaphysical realm, as a force, cause, and end in itself, is his work. [...] Zarathustra created this most calamitous error, morality; consequently, he must also be the first to recognize it. [...] His doctrine, and his alone, posits truthfulness as the highest virtue; this means the opposite of the cowardice of the \"idealist” who flees from reality [...]—Am I understood?—The self-overcoming of morality, out of truthfulness; the self-overcoming of the moralist, into his opposite—into me—that is what the name of Zarathustra means in my mouth.", "author"=>" Friedrich Nietzsche", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007fb940c592d8 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-20053-1lf9uv9.GIF>, @original_filename="Also_sprach_Zarathustra.GIF", @content_type="image/gif", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"Also_sprach_Zarathustra.GIF\"\r\nContent-Type: image/gif\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (26.4ms) [0m[32mUploaded file to key: SQifE9NHzaGCv1a9GiasAwmz (checksum: cFQiDlkXKqCiNL4dEsg0Rg==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (48.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "SQifE9NHzaGCv1a9GiasAwmz"], ["filename", "Also_sprach_Zarathustra.GIF"], ["content_type", "image/gif"], ["metadata", "{\"identified\":true}"], ["byte_size", 25667], ["checksum", "cFQiDlkXKqCiNL4dEsg0Rg=="], ["created_at", "2018-12-26 17:22:09.935939"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (153.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (2.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Thus Spoke Zarathustra: A Book for All and None"], ["description", "For what constitutes the tremendous historical uniqueness of that Persian is just the opposite of this. Zarathustra was the first to consider the fight of good and evil the very wheel in the machinery of things: the transposition of morality into the metaphysical realm, as a force, cause, and end in itself, is his work. [...] Zarathustra created this most calamitous error, morality; consequently, he must also be the first to recognize it. [...] His doctrine, and his alone, posits truthfulness as the highest virtue; this means the opposite of the cowardice of the \"idealist” who flees from reality [...]—Am I understood?—The self-overcoming of morality, out of truthfulness; the self-overcoming of the moralist, into his opposite—into me—that is what the name of Zarathustra means in my mouth."], ["author", " Friedrich Nietzsche"], ["user_id", 3], ["created_at", "2018-12-26 17:22:10.151222"], ["updated_at", "2018-12-26 17:22:10.151222"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 8], ["blob_id", 7], ["created_at", "2018-12-26 17:22:10.158439"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.6ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-26 17:22:10.161805"], ["id", 8]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (99.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 499ms (ActiveRecord: 305.6ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/c73efdc515057b39/variables" for 127.0.0.1 at 2018-12-27 00:22:10 +0700
Started POST "/__better_errors/c73efdc515057b39/variables" for 127.0.0.1 at 2018-12-27 00:22:17 +0700
Started GET "/library" for 127.0.0.1 at 2018-12-27 00:23:08 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  Rendered library/index.html.erb within layouts/application (36.4ms)
Completed 200 OK in 159ms (Views: 129.2ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 00:23:10 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [3 times] (48.3ms)
  Rendered books/index.html.erb within layouts/application (56.0ms)
Completed 200 OK in 141ms (Views: 133.7ms | ActiveRecord: 5.1ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 00:23:10 +0700
Processing by ActiveStorage::BlobsController#show as 
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61", "filename"=>"Also_sprach_Zarathustra"}
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (5.0ms) [0m[34mGenerated URL for file at key: SQifE9NHzaGCv1a9GiasAwmz (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6Mjg6MTAuNzY2WiIsInB1ciI6ImJsb2Jfa2V5In19--70ca08900acaf3c03e7c9598f3e51a4fe6167eaf/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6Mjg6MTAuNzY2WiIsInB1ciI6ImJsb2Jfa2V5In19--70ca08900acaf3c03e7c9598f3e51a4fe6167eaf/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 13ms (ActiveRecord: 0.7ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDQzWiIsInB1ciI6ImJsb2Jfa2V5In19--a6469355d37531b5ce8766853ffbd0673cbb04af/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 00:23:10 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--177c4ea5b489dd0202ab5cc4240c1a46b15d99f3/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 00:23:10 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDQzWiIsInB1ciI6ImJsb2Jfa2V5In19--a6469355d37531b5ce8766853ffbd0673cbb04af", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6Mjg6MTAuNzY2WiIsInB1ciI6ImJsb2Jfa2V5In19--70ca08900acaf3c03e7c9598f3e51a4fe6167eaf/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 00:23:10 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6MjQ6MTIuNDM3WiIsInB1ciI6ImJsb2Jfa2V5In19--177c4ea5b489dd0202ab5cc4240c1a46b15d99f3", "filename"=>"das_kapital"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (8.7ms)
Completed 200 OK in 15ms (Views: 8.3ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (9.6ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.7ms)
Completed 200 OK in 27ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6Mjg6MTAuNzY2WiIsInB1ciI6ImJsb2Jfa2V5In19--70ca08900acaf3c03e7c9598f3e51a4fe6167eaf", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.2ms)
Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 00:35:20 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [3 times] (54.8ms)
  Rendered books/index.html.erb within layouts/application (62.9ms)
Completed 200 OK in 325ms (Views: 315.9ms | ActiveRecord: 6.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 00:35:21 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 00:35:21 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"das_kapital"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ActiveStorage::BlobsController#show as JPEG
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: pRvCHwfD3pV5xbVLvH13WGUE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMTMxWiIsInB1ciI6ImJsb2Jfa2V5In19--a75d8a6a69c197c1f77c6f70edbe8d17a5f5843c/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMTMxWiIsInB1ciI6ImJsb2Jfa2V5In19--a75d8a6a69c197c1f77c6f70edbe8d17a5f5843c/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)


  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: wMkpj6x92hn1qiQGBQ8vgttw (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMTQyWiIsInB1ciI6ImJsb2Jfa2V5In19--419102d29028a0b8c1d29c08ddc41f7abb5edfaf/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMTQyWiIsInB1ciI6ImJsb2Jfa2V5In19--419102d29028a0b8c1d29c08ddc41f7abb5edfaf/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMTMxWiIsInB1ciI6ImJsb2Jfa2V5In19--a75d8a6a69c197c1f77c6f70edbe8d17a5f5843c/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 00:35:21 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMTQyWiIsInB1ciI6ImJsb2Jfa2V5In19--419102d29028a0b8c1d29c08ddc41f7abb5edfaf/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 00:35:21 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMTMxWiIsInB1ciI6ImJsb2Jfa2V5In19--a75d8a6a69c197c1f77c6f70edbe8d17a5f5843c", "filename"=>"das_kapital"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMTQyWiIsInB1ciI6ImJsb2Jfa2V5In19--419102d29028a0b8c1d29c08ddc41f7abb5edfaf", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (33.7ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 37ms (Views: 1.0ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (45.0ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 00:35:21 +0700
  Rendered text template (0.0ms)
Sent data  (2.6ms)
Completed 200 OK in 50ms (Views: 2.2ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::BlobsController#show as 
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61", "filename"=>"Also_sprach_Zarathustra"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: SQifE9NHzaGCv1a9GiasAwmz (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMjQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--c1a8f87911e99ec5021fe1efdf5aaf19e70a1a99/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMjQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--c1a8f87911e99ec5021fe1efdf5aaf19e70a1a99/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMjQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--c1a8f87911e99ec5021fe1efdf5aaf19e70a1a99/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 00:35:21 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjZUMTc6NDA6MjEuMjQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--c1a8f87911e99ec5021fe1efdf5aaf19e70a1a99", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.9ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:21:22 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [3 times] (446.8ms)
  Rendered books/index.html.erb within layouts/application (483.7ms)
Completed 200 OK in 1387ms (Views: 1265.1ms | ActiveRecord: 13.2ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:21:24 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:21:24 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"das_kapital"}
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:21:24 +0700
Processing by ActiveStorage::BlobsController#show as 
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61", "filename"=>"Also_sprach_Zarathustra"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (58.3ms) [0m[34mGenerated URL for file at key: pRvCHwfD3pV5xbVLvH13WGUE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: wMkpj6x92hn1qiQGBQ8vgttw (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Completed 302 Found in 85ms (ActiveRecord: 0.3ms)


[36m  Disk Storage (1.3ms) [0m[34mGenerated URL for file at key: SQifE9NHzaGCv1a9GiasAwmz (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 84ms (ActiveRecord: 0.5ms)


Completed 302 Found in 83ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:21:24 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:21:24 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:21:24 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98", "filename"=>"Also_sprach_Zarathustra"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8", "filename"=>"das_kapital"}
[36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
[36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
Processing by ActiveStorage::DiskController#show as JPEG
  Rendered text template (0.0ms)
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Sent data  (2.1ms)
  Rendered text template (0.0ms)
Completed 200 OK in 27ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Sent data  (23.8ms)
Completed 200 OK in 33ms (Views: 23.3ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (4.4ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 17ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-27 08:21:32 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"2IhwGmVRPeXUbr9uNHhN55U5kFQjiUzsfw3QlaZgkukBd226G/94umZ4COtELURj45/FvXyiwgLzEqUBnKUHyw=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:21:32 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [3 times] (29.9ms)
  Rendered books/index.html.erb within layouts/application (34.6ms)
Completed 200 OK in 97ms (Views: 91.8ms | ActiveRecord: 2.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:21:32 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:21:32 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8", "filename"=>"das_kapital"}
Processing by ActiveStorage::DiskController#show as JPEG
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  Rendered text template (0.0ms)
Sent data  (4.7ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (1.0ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:21:32 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.2ms)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-27 08:21:56 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (184.8ms)
Completed 200 OK in 263ms (Views: 260.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-12-27 08:22:31 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"oTOBJVdUJCPjpePOivE57OnnEmaASnllEQpB3e8uub4LO/ERcvkeGZmTrWCI82iwQZQd0+1CZOq85OlIKQAxbQ==", "user"=>{"name"=>"Marina", "email"=>"shtomaro@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "shtomaro@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "shtomaro@gmail.com"], ["encrypted_password", "$2a$11$2mn/6eLF6YhzQbNIF883Q.GvM66G3iBVDD5jq0/nX4IXG3DHwJPKy"], ["name", "Marina"], ["created_at", "2018-12-27 01:22:32.011390"], ["updated_at", "2018-12-27 01:22:32.011390"]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (85.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-12-27 01:22:32.103075"], ["last_sign_in_at", "2018-12-27 01:22:32.103075"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-12-27 01:22:32.107505"], ["id", 5]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (68.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/pricing
Completed 302 Found in 564ms (ActiveRecord: 156.1ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-27 08:22:32 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (7.8ms)
Completed 200 OK in 95ms (Views: 75.7ms | ActiveRecord: 1.2ms)


Started GET "/subscriptions/new?plan=scholar&plan_id=plan_EE5NGmUjgIB8D3" for 127.0.0.1 at 2018-12-27 08:22:37 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"scholar", "plan_id"=>"plan_EE5NGmUjgIB8D3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (3.0ms)
Completed 200 OK in 121ms (Views: 98.9ms | ActiveRecord: 0.8ms)


Started POST "/subscriptions" for 127.0.0.1 at 2018-12-27 08:22:43 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0nxaywoqlnsDOMRvN7qRx5zzSKGrBkKNtS+46LGU9muWFOTKFq9dvBQ/jqD9ZLjGlUxOTmp7Cg+lP/oAdQmqow==", "plan_id"=>"plan_EE5NGmUjgIB8D3"}
Completed 500 Internal Server Error in 222ms (ActiveRecord: 0.0ms)



Faraday::ConnectionFailed - Failed to open TCP connection to api.stripe.com:443 (getaddrinfo: Temporary failure in name resolution):
  app/controllers/subscriptions_controller.rb:15:in `create'

Started POST "/__better_errors/6598ca249c4ef774/variables" for 127.0.0.1 at 2018-12-27 08:22:43 +0700
Started GET "/pricing" for 127.0.0.1 at 2018-12-27 08:23:16 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (12.7ms)
Completed 200 OK in 84ms (Views: 81.1ms | ActiveRecord: 0.7ms)


Started GET "/subscriptions/new?plan=scholar&plan_id=plan_EE5NGmUjgIB8D3" for 127.0.0.1 at 2018-12-27 08:23:51 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"scholar", "plan_id"=>"plan_EE5NGmUjgIB8D3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (8.8ms)
Completed 200 OK in 184ms (Views: 178.2ms | ActiveRecord: 0.6ms)


Started POST "/subscriptions" for 127.0.0.1 at 2018-12-27 08:24:10 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zkQ9oq1o52OVKcmdmlwqMzej167anN88AgedzvEqceOKLIOjse0spIIug1JQggMyPhzRQRvhl74SF98mNbctKw==", "plan_id"=>"plan_EE5NGmUjgIB8D3", "stripeToken"=>"tok_1DlnbbGtAUHqRedbRXqb6gmz", "user"=>{"card_type"=>"undefined", "card_last4"=>"4242", "card_exp_month"=>"10", "card_exp_year"=>"2022"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:18
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "stripe_id" = ?, "stripe_subscription_id" = ?, "subscribed" = ?, "card_last4" = ?, "card_exp_month" = ?, "card_exp_year" = ?, "card_type" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["stripe_id", "cus_EEG7QdMHH0lzN0"], ["stripe_subscription_id", "sub_EEG7VF3askHUlw"], ["subscribed", 1], ["card_last4", "4242"], ["card_exp_month", 10], ["card_exp_year", 2022], ["card_type", "undefined"], ["updated_at", "2018-12-27 01:24:16.448014"], ["id", 5]]
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[35m (101.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
Redirected to http://localhost:3000/
Completed 302 Found in 5641ms (ActiveRecord: 103.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:24:16 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 5], ["user_id", 5], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 5], ["user_id", 5], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 5], ["user_id", 5], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [3 times] (35.4ms)
  Rendered books/index.html.erb within layouts/application (39.3ms)
Completed 200 OK in 106ms (Views: 98.8ms | ActiveRecord: 4.7ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:24:16 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8", "filename"=>"das_kapital"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:24:16 +0700
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.2ms)
Processing by ActiveStorage::DiskController#show as JPEG
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 0.0ms)


  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:24:16 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.9ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started PUT "/books/7/add?type=add" for 127.0.0.1 at 2018-12-27 08:24:37 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"zQWXKZ9l+HEqfa8a9RTmGSdDx25ik9/5V8CkB2OtYxnVAuYgDitkEeHCf9WSGS0WMEjjctFcmgcPxdzVryLi5Q==", "type"=>"add", "id"=>"7"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (0.6ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 7], ["user_id", 5], ["created_at", "2018-12-27 01:24:37.635022"], ["updated_at", "2018-12-27 01:24:37.635022"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (104.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 277ms (ActiveRecord: 107.0ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 08:24:37 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 5], ["user_id", 5], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (12.7ms)
  Rendered library/index.html.erb within layouts/application (69.7ms)
Completed 200 OK in 152ms (Views: 129.4ms | ActiveRecord: 3.1ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:24:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started PUT "/books/7/add?type=remove" for 127.0.0.1 at 2018-12-27 08:24:42 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"7DrLz+Ad/kyJArGfX60fQRMurR3CBTFtUzu5E71hWFX0PbrGcVNiLEK9YVA4oNROBCWJAXHKdJMLPsHBce7ZqQ==", "type"=>"remove", "id"=>"7"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:75
  [1m[36mLibrary Destroy (1.7ms)[0m  [1m[31mDELETE FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."book_id" = ?[0m  [["user_id", 5], ["book_id", 7]]
  ↳ app/controllers/books_controller.rb:75
  [1m[35m (164.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 184ms (ActiveRecord: 168.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:24:42 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 5], ["user_id", 5], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 5], ["user_id", 5], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 5], ["user_id", 5], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [3 times] (37.7ms)
  Rendered books/index.html.erb within layouts/application (42.5ms)
Completed 200 OK in 136ms (Views: 128.0ms | ActiveRecord: 4.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:24:43 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8", "filename"=>"das_kapital"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:24:43 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (5.1ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 12ms (Views: 1.0ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (5.3ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.2ms)
Completed 200 OK in 10ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:24:43 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (6.5ms)
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 0.0ms)


Started PUT "/books/7/add?type=add" for 127.0.0.1 at 2018-12-27 08:24:45 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"c/YxGl7PSgqYflE/BpNwSygQEPBxWr3rjI13WLC7uttr8UATz4HWalPBgfBhnrtEPxs07MKV+BXUiA+KfDQ7Jw==", "type"=>"add", "id"=>"7"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (2.2ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 7], ["user_id", 5], ["created_at", "2018-12-27 01:24:45.873311"], ["updated_at", "2018-12-27 01:24:45.873311"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (85.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 106ms (ActiveRecord: 90.1ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 08:24:45 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 5], ["user_id", 5], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (12.2ms)
  Rendered library/index.html.erb within layouts/application (19.3ms)
Completed 200 OK in 91ms (Views: 83.4ms | ActiveRecord: 2.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:24:46 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.5ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.8ms)
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 08:24:48 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 5], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 5], ["user_id", 5], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (14.8ms)
  Rendered library/index.html.erb within layouts/application (23.8ms)
Completed 200 OK in 106ms (Views: 96.9ms | ActiveRecord: 3.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-27 08:25:37 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"rGsCEeRpkZHdK6gRUiB/vaB63Q7i5itOMWpc5wQJrKy0bHMYdScN8RaUeN41LbSyt3H5ElEpbrBpbyQ1yIYtUA=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:25:37 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [3 times] (25.7ms)
  Rendered books/index.html.erb within layouts/application (30.4ms)
Completed 200 OK in 142ms (Views: 135.8ms | ActiveRecord: 2.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:25:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:25:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.9ms)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:25:38 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.7ms)
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-27 08:25:40 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (112.7ms)
Completed 200 OK in 230ms (Views: 226.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-27 08:25:54 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xcZ4JRgx92wsTWL3FrOqAiqUEOOIafK/7RQ0151IRx+K0V1nd7VsDuTl+n5LlyESv/DPF+oWWgO90UQHgzRoZQ==", "user"=>{"email"=>"putin@kremlin.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "putin@kremlin.ru"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-27 01:25:54.475405"], ["last_sign_in_at", "2018-12-26 17:01:33.684409"], ["sign_in_count", 5], ["updated_at", "2018-12-27 01:25:54.477892"], ["id", 3]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (68.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 365ms (ActiveRecord: 70.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:25:54 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [3 times] (40.9ms)
  Rendered books/index.html.erb within layouts/application (45.8ms)
Completed 200 OK in 175ms (Views: 166.9ms | ActiveRecord: 4.2ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:25:54 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:25:54 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuMzcxWiIsInB1ciI6ImJsb2Jfa2V5In19--cbea4ef58a8b7126fae0704bda6de8e68274a4b8", "filename"=>"das_kapital"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (4.5ms)
Completed 200 OK in 11ms (Views: 4.0ms | ActiveRecord: 0.0ms)


  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMzWiIsInB1ciI6ImJsb2Jfa2V5In19--9f58dbde66e20924a03684ff3b5bb211e0535f80", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.8ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (3.8ms)
Completed 200 OK in 8ms (Views: 3.4ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:25:55 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MjY6MjQuNDMxWiIsInB1ciI6ImJsb2Jfa2V5In19--f705e67760d4730997a3a8bbb9e618c7e1ffff98", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 08:26:45 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (91.4ms)
  Rendered books/new.html.erb within layouts/application (95.1ms)
Completed 200 OK in 186ms (Views: 160.3ms | ActiveRecord: 0.7ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 08:27:20 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lZiWhIxUoM/ZlSLBx+O4fL7S3hDCGE3dCqWkNB4T3G2bZDzPHAoZMXck0qab1HOME4gXK6Z2ns2UDbM3PLQ4tw==", "book"=>{"title"=>"The picture of dorian gray", "description"=>"Test", "author"=>"Oscar Wilde", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007efbc82aed18 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-27543-1ktkmi9.jpeg>, @original_filename="Без названия.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"\xD0\x91\xD0\xB5\xD0\xB7 \xD0\xBD\xD0\xB0\xD0\xB7\xD0\xB2\xD0\xB0\xD0\xBD\xD0\xB8\xD1\x8F.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (42.8ms) [0m[32mUploaded file to key: srJJ6e3wocYWjjLhUvG2vNFw (checksum: 5zI2xnX92AmTUyw83Zyh9w==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "srJJ6e3wocYWjjLhUvG2vNFw"], ["filename", "Без названия.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 7313], ["checksum", "5zI2xnX92AmTUyw83Zyh9w=="], ["created_at", "2018-12-27 01:27:20.535034"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (138.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (1.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "The picture of dorian gray"], ["description", "Test"], ["author", "Oscar Wilde"], ["user_id", 3], ["created_at", "2018-12-27 01:27:20.690738"], ["updated_at", "2018-12-27 01:27:20.690738"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 9], ["blob_id", 8], ["created_at", "2018-12-27 01:27:20.697114"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.6ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-27 01:27:20.699810"], ["id", 9]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (156.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 561ms (ActiveRecord: 300.0ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/a1089009ccb8d1f3/variables" for 127.0.0.1 at 2018-12-27 08:27:21 +0700
Started GET "/library" for 127.0.0.1 at 2018-12-27 08:27:30 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  Rendered library/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 78ms (Views: 66.6ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:27:31 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [4 times] (45.1ms)
  Rendered books/index.html.erb within layouts/application (50.5ms)
Completed 200 OK in 120ms (Views: 111.7ms | ActiveRecord: 5.7ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dabf97ba56e0feec15ce87ca15b06e8179346e83/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2018-12-27 08:27:32 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:27:32 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:27:32 +0700
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dabf97ba56e0feec15ce87ca15b06e8179346e83", "filename"=>"Без названия"}
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:27:32 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Processing by ActiveStorage::BlobsController#show as JPEG
Processing by ActiveStorage::BlobsController#show as 
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"das_kapital"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: wMkpj6x92hn1qiQGBQ8vgttw (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--64a5428363e70aa777f2e9f6bcbd809de2da4324/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: pRvCHwfD3pV5xbVLvH13WGUE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTM5WiIsInB1ciI6ImJsb2Jfa2V5In19--486d62da6738a6dc7a2712f389b52d3dc0019c5a/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--64a5428363e70aa777f2e9f6bcbd809de2da4324/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTM5WiIsInB1ciI6ImJsb2Jfa2V5In19--486d62da6738a6dc7a2712f389b52d3dc0019c5a/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)


Completed 302 Found in 21ms (ActiveRecord: 0.5ms)


  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.5ms) [0m[34mGenerated URL for file at key: SQifE9NHzaGCv1a9GiasAwmz (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTU4WiIsInB1ciI6ImJsb2Jfa2V5In19--79e812c3a023f012d9d6253fef376d493de6cc19/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTU4WiIsInB1ciI6ImJsb2Jfa2V5In19--79e812c3a023f012d9d6253fef376d493de6cc19/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 27ms (ActiveRecord: 0.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTM5WiIsInB1ciI6ImJsb2Jfa2V5In19--486d62da6738a6dc7a2712f389b52d3dc0019c5a/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:27:32 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTM5WiIsInB1ciI6ImJsb2Jfa2V5In19--486d62da6738a6dc7a2712f389b52d3dc0019c5a", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
[36m  Disk Storage (1.9ms) [0m[34mGenerated URL for file at key: srJJ6e3wocYWjjLhUvG2vNFw (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF6Y2twS05tVXpkMjlqV1ZkcWFreG9WWFpITW5aT1JuY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTQ4WiIsInB1ciI6ImJsb2Jfa2V5In19--cf47cdad0e8d58eebed65ba1ed51d4c767722425/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--64a5428363e70aa777f2e9f6bcbd809de2da4324/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:27:32 +0700
  Rendered text template (0.1ms)
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF6Y2twS05tVXpkMjlqV1ZkcWFreG9WWFpITW5aT1JuY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTQ4WiIsInB1ciI6ImJsb2Jfa2V5In19--cf47cdad0e8d58eebed65ba1ed51d4c767722425/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
Processing by ActiveStorage::DiskController#show as JPEG
Sent data  (6.1ms)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.0ms)


Completed 302 Found in 78ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTU4WiIsInB1ciI6ImJsb2Jfa2V5In19--79e812c3a023f012d9d6253fef376d493de6cc19/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:27:32 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--64a5428363e70aa777f2e9f6bcbd809de2da4324", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTU4WiIsInB1ciI6ImJsb2Jfa2V5In19--79e812c3a023f012d9d6253fef376d493de6cc19", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF6Y2twS05tVXpkMjlqV1ZkcWFreG9WWFpITW5aT1JuY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTQ4WiIsInB1ciI6ImJsb2Jfa2V5In19--cf47cdad0e8d58eebed65ba1ed51d4c767722425/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:27:32 +0700
[36m  Disk Storage (5.4ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
  Rendered text template (0.0ms)
  Rendering text template
Sent data  (8.7ms)
  Rendered text template (0.0ms)
Completed 200 OK in 16ms (Views: 8.1ms | ActiveRecord: 0.0ms)


Sent data  (4.6ms)
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF6Y2twS05tVXpkMjlqV1ZkcWFreG9WWFpITW5aT1JuY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTQ4WiIsInB1ciI6ImJsb2Jfa2V5In19--cf47cdad0e8d58eebed65ba1ed51d4c767722425", "filename"=>"Без названия"}
Completed 200 OK in 27ms (Views: 4.1ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (1.7ms) [0m[34mDownloaded file from key: srJJ6e3wocYWjjLhUvG2vNFw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (4.3ms)
Completed 200 OK in 12ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 08:29:25 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTM5WiIsInB1ciI6ImJsb2Jfa2V5In19--486d62da6738a6dc7a2712f389b52d3dc0019c5a/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:29:25 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--64a5428363e70aa777f2e9f6bcbd809de2da4324/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:29:25 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTU4WiIsInB1ciI6ImJsb2Jfa2V5In19--79e812c3a023f012d9d6253fef376d493de6cc19/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:29:25 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF6Y2twS05tVXpkMjlqV1ZkcWFreG9WWFpITW5aT1JuY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTQ4WiIsInB1ciI6ImJsb2Jfa2V5In19--cf47cdad0e8d58eebed65ba1ed51d4c767722425/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:29:25 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--64a5428363e70aa777f2e9f6bcbd809de2da4324", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTU4WiIsInB1ciI6ImJsb2Jfa2V5In19--79e812c3a023f012d9d6253fef376d493de6cc19", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (4.0ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Rendered text template (0.0ms)
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTM5WiIsInB1ciI6ImJsb2Jfa2V5In19--486d62da6738a6dc7a2712f389b52d3dc0019c5a", "filename"=>"das_kapital"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
Sent data  (1.9ms)
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF6Y2twS05tVXpkMjlqV1ZkcWFreG9WWFpITW5aT1JuY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTQ4WiIsInB1ciI6ImJsb2Jfa2V5In19--cf47cdad0e8d58eebed65ba1ed51d4c767722425", "filename"=>"Без названия"}
  Rendering text template
  Rendered text template (0.0ms)
  Rendered text template (0.0ms)
Sent data  (15.7ms)
Completed 200 OK in 20ms (Views: 15.4ms | ActiveRecord: 0.0ms)


Completed 200 OK in 38ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Sent data  (11.4ms)
Completed 200 OK in 30ms (Views: 11.0ms | ActiveRecord: 0.0ms)


  Rendered books/_form.html.erb (96.1ms)
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: srJJ6e3wocYWjjLhUvG2vNFw[0m
  Rendered books/new.html.erb within layouts/application (122.4ms)
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (6.5ms)
Completed 200 OK in 31ms (Views: 6.2ms | ActiveRecord: 0.0ms)


Completed 200 OK in 268ms (Views: 251.4ms | ActiveRecord: 0.7ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 08:30:06 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YwWEtd6zdxcJGK+ZWmOhc7UMQC/W3mqlZSpGrjNKcLht+S7+Tu3O6aepX/4GVGqDGFaJFLKwubX7glGtEe2UYg==", "book"=>{"title"=>"Arch of Triumph", "description"=>"It is 1939, and, despite having no permission to perform surgery, Ravic, a very accomplished German surgeon and a stateless refugee living in Paris, has been ghost-operating on patients for two years on the behalf of two less skillful French physicians.\r\n\r\nUnwilling to return to Nazi Germany, which has stripped him of his citizenship, and unable to legally exist anywhere else in pre-war western Europe, Ravic manages to hang on. He is one of many displaced persons without passports or any other documents, who live under a constant threat of being captured and deported from one country to the next, and back again.\r\n\r\nThough Ravic has given up on the possibility of love, life has a curious way of taking a turn for the romantic, even during the worst of times, as he cautiously befriends an actress.", "author"=>"Erich Maria Remarque", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007efbdc151b28 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-27543-dgonc3.jpg>, @original_filename="81fPBabRvAL.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"81fPBabRvAL.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (9.2ms) [0m[32mUploaded file to key: Vaiu7dTVgaTZ5Aaj2aqY4nue (checksum: VtpbOWE2Liu06nM8YuLZww==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "Vaiu7dTVgaTZ5Aaj2aqY4nue"], ["filename", "81fPBabRvAL.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 389722], ["checksum", "VtpbOWE2Liu06nM8YuLZww=="], ["created_at", "2018-12-27 01:30:06.123126"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (102.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (2.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Arch of Triumph"], ["description", "It is 1939, and, despite having no permission to perform surgery, Ravic, a very accomplished German surgeon and a stateless refugee living in Paris, has been ghost-operating on patients for two years on the behalf of two less skillful French physicians.\r\n\r\nUnwilling to return to Nazi Germany, which has stripped him of his citizenship, and unable to legally exist anywhere else in pre-war western Europe, Ravic manages to hang on. He is one of many displaced persons without passports or any other documents, who live under a constant threat of being captured and deported from one country to the next, and back again.\r\n\r\nThough Ravic has given up on the possibility of love, life has a curious way of taking a turn for the romantic, even during the worst of times, as he cautiously befriends an actress."], ["author", "Erich Maria Remarque"], ["user_id", 3], ["created_at", "2018-12-27 01:30:06.235085"], ["updated_at", "2018-12-27 01:30:06.235085"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 10], ["blob_id", 9], ["created_at", "2018-12-27 01:30:06.242049"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.6ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-27 01:30:06.245422"], ["id", 10]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (78.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 239ms (ActiveRecord: 185.6ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/016b67901b652ff8/variables" for 127.0.0.1 at 2018-12-27 08:30:06 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-27 08:30:10 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 10], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [5 times] (73.1ms)
  Rendered books/index.html.erb within layouts/application (79.3ms)
Completed 200 OK in 170ms (Views: 159.2ms | ActiveRecord: 7.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTM5WiIsInB1ciI6ImJsb2Jfa2V5In19--486d62da6738a6dc7a2712f389b52d3dc0019c5a/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:30:10 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTM5WiIsInB1ciI6ImJsb2Jfa2V5In19--486d62da6738a6dc7a2712f389b52d3dc0019c5a", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (4.2ms)
Completed 200 OK in 10ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--64a5428363e70aa777f2e9f6bcbd809de2da4324/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:30:10 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--64a5428363e70aa777f2e9f6bcbd809de2da4324", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.6ms)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTU4WiIsInB1ciI6ImJsb2Jfa2V5In19--79e812c3a023f012d9d6253fef376d493de6cc19/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:30:10 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTU4WiIsInB1ciI6ImJsb2Jfa2V5In19--79e812c3a023f012d9d6253fef376d493de6cc19", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bbda8d1ae03ed542b6390b99cc9ab61867af5f23/81fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:30:10 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bbda8d1ae03ed542b6390b99cc9ab61867af5f23", "filename"=>"81fPBabRvAL"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.5ms) [0m[34mGenerated URL for file at key: Vaiu7dTVgaTZ5Aaj2aqY4nue (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFXWVdsMU4yUlVWbWRoVkZvMVFXRnFNbUZ4V1RSdWRXVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzU6MTAuODMyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c2567b138510d0fc85d205ccbc0df28addc8202/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFXWVdsMU4yUlVWbWRoVkZvMVFXRnFNbUZ4V1RSdWRXVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzU6MTAuODMyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c2567b138510d0fc85d205ccbc0df28addc8202/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF6Y2twS05tVXpkMjlqV1ZkcWFreG9WWFpITW5aT1JuY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTQ4WiIsInB1ciI6ImJsb2Jfa2V5In19--cf47cdad0e8d58eebed65ba1ed51d4c767722425/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:30:10 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFXWVdsMU4yUlVWbWRoVkZvMVFXRnFNbUZ4V1RSdWRXVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzU6MTAuODMyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c2567b138510d0fc85d205ccbc0df28addc8202/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:30:11 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF6Y2twS05tVXpkMjlqV1ZkcWFreG9WWFpITW5aT1JuY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTQ4WiIsInB1ciI6ImJsb2Jfa2V5In19--cf47cdad0e8d58eebed65ba1ed51d4c767722425", "filename"=>"Без названия"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFXWVdsMU4yUlVWbWRoVkZvMVFXRnFNbUZ4V1RSdWRXVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzU6MTAuODMyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c2567b138510d0fc85d205ccbc0df28addc8202", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: Vaiu7dTVgaTZ5Aaj2aqY4nue[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (4.5ms)
Completed 200 OK in 10ms (Views: 4.2ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (9.1ms) [0m[34mDownloaded file from key: srJJ6e3wocYWjjLhUvG2vNFw[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 34ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 08:30:38 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (50.8ms)
  Rendered books/new.html.erb within layouts/application (53.7ms)
Completed 200 OK in 171ms (Views: 161.4ms | ActiveRecord: 0.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTM5WiIsInB1ciI6ImJsb2Jfa2V5In19--486d62da6738a6dc7a2712f389b52d3dc0019c5a/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:30:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF3VW5aRFNIZG1SRE53VmpWNFlsWk1ka2d4TTFkSFZVVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTM5WiIsInB1ciI6ImJsb2Jfa2V5In19--486d62da6738a6dc7a2712f389b52d3dc0019c5a", "filename"=>"das_kapital"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--64a5428363e70aa777f2e9f6bcbd809de2da4324/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:30:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF6Y2twS05tVXpkMjlqV1ZkcWFreG9WWFpITW5aT1JuY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTQ4WiIsInB1ciI6ImJsb2Jfa2V5In19--cf47cdad0e8d58eebed65ba1ed51d4c767722425/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:30:38 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFXWVdsMU4yUlVWbWRoVkZvMVFXRnFNbUZ4V1RSdWRXVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzU6MTAuODMyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c2567b138510d0fc85d205ccbc0df28addc8202/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:30:38 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTU4WiIsInB1ciI6ImJsb2Jfa2V5In19--79e812c3a023f012d9d6253fef376d493de6cc19/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:30:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
[36m  Disk Storage (11.0ms) [0m[34mDownloaded file from key: pRvCHwfD3pV5xbVLvH13WGUE[0m
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEzVFd0d2FqWjRPVEpvYmpGeGFWRkhRbEU0ZG1kMGRIY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--64a5428363e70aa777f2e9f6bcbd809de2da4324", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Processing by ActiveStorage::DiskController#show as 
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDF6Y2twS05tVXpkMjlqV1ZkcWFreG9WWFpITW5aT1JuY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTQ4WiIsInB1ciI6ImJsb2Jfa2V5In19--cf47cdad0e8d58eebed65ba1ed51d4c767722425", "filename"=>"Без названия"}
  Rendering text template
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: srJJ6e3wocYWjjLhUvG2vNFw[0m
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFXWVdsMU4yUlVWbWRoVkZvMVFXRnFNbUZ4V1RSdWRXVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzU6MTAuODMyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c2567b138510d0fc85d205ccbc0df28addc8202", "filename"=>"81fPBabRvAL"}
  Rendered text template (0.0ms)
Sent data  (13.3ms)
[36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: wMkpj6x92hn1qiQGBQ8vgttw[0m
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUVVdsbVJUbE9TSHBoUjBOMk1XRTVSMmxoYzBGM2JYb0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6MzI6MzIuMTU4WiIsInB1ciI6ImJsb2Jfa2V5In19--79e812c3a023f012d9d6253fef376d493de6cc19", "filename"=>"Also_sprach_Zarathustra"}
  Rendering text template
Completed 200 OK in 40ms (Views: 12.9ms | ActiveRecord: 0.0ms)


  Rendered text template (0.1ms)
Sent data  (12.1ms)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: SQifE9NHzaGCv1a9GiasAwmz[0m
[36m  Disk Storage (1.9ms) [0m[34mDownloaded file from key: Vaiu7dTVgaTZ5Aaj2aqY4nue[0m
  Rendering text template
  Rendered text template (0.0ms)
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (4.2ms)
Completed 200 OK in 12ms (Views: 3.8ms | ActiveRecord: 0.0ms)


Sent data  (2.0ms)
Completed 200 OK in 19ms (Views: 1.6ms | ActiveRecord: 0.0ms)


  Rendered text template (0.0ms)
Sent data  (23.4ms)
Completed 200 OK in 37ms (Views: 23.1ms | ActiveRecord: 0.0ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 08:31:38 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/XMaDX1TTLPExwcPmewJZ1R2lkvsIssj8q0UrGWkG0bzj7BG7Q31TWp292jF28KX+SxfcIhMGDNsBQOvRwP/nA==", "book"=>{"title"=>"All Quiet on the Western Front", "description"=>"The book describes the German soldiers' extreme physical and mental stress during the war, and the detachment from civilian life felt by many of these soldiers upon returning home from the front.\r\n\r\nThe novel was first published in November and December 1928 in the German newspaper Vossische Zeitung and in book form in late January 1929. The book and its sequel, The Road Back (1930), were among the books banned and burned in Nazi Germany. All Quiet on the Western Front sold 2.5 million copies in 22 languages in its first 18 months in print.", "author"=>"Erich Maria Remarque"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (4.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "All Quiet on the Western Front"], ["description", "The book describes the German soldiers' extreme physical and mental stress during the war, and the detachment from civilian life felt by many of these soldiers upon returning home from the front.\r\n\r\nThe novel was first published in November and December 1928 in the German newspaper Vossische Zeitung and in book form in late January 1929. The book and its sequel, The Road Back (1930), were among the books banned and burned in Nazi Germany. All Quiet on the Western Front sold 2.5 million copies in 22 languages in its first 18 months in print."], ["author", "Erich Maria Remarque"], ["user_id", 3], ["created_at", "2018-12-27 01:31:38.619246"], ["updated_at", "2018-12-27 01:31:38.619246"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (136.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Redirected to http://localhost:3000/books/11
Completed 302 Found in 158ms (ActiveRecord: 141.3ms)


Started GET "/books/11" for 127.0.0.1 at 2018-12-27 08:31:38 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  Rendered books/show.html.erb within layouts/application (15.2ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 1.0ms)



Module::DelegationError - variant delegated to attachment, but attachment is nil:
  app/views/books/show.html.erb:4:in `_app_views_books_show_html_erb__402602112353541820_69809931768020'

Started POST "/__better_errors/521735c3964c5de8/variables" for 127.0.0.1 at 2018-12-27 08:31:39 +0700
Started POST "/books" for 127.0.0.1 at 2018-12-27 08:31:47 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WrXe6mGWrLr6/PNueFFO7rUCv/ihHGMXtQNK2bA6DkqN68DytYx2m5ayS0nqxlpqGiH2zU8dwC5RvKjvEU2ukw==", "book"=>{"title"=>"All Quiet on the Western Front", "description"=>"The book describes the German soldiers' extreme physical and mental stress during the war, and the detachment from civilian life felt by many of these soldiers upon returning home from the front.\r\n\r\nThe novel was first published in November and December 1928 in the German newspaper Vossische Zeitung and in book form in late January 1929. The book and its sequel, The Road Back (1930), were among the books banned and burned in Nazi Germany. All Quiet on the Western Front sold 2.5 million copies in 22 languages in its first 18 months in print.", "author"=>"Erich Maria Remarque", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007efbd66409f0 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-27543-zqw78e.jpg>, @original_filename="Remarque_Im_Westen_nichts_Neues_1929.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (10.3ms) [0m[32mUploaded file to key: MkV5ZtZtfTLK7fvZdokV5nJA (checksum: gi8bctU8hTwfjscCyj0NqQ==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (2.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "MkV5ZtZtfTLK7fvZdokV5nJA"], ["filename", "Remarque_Im_Westen_nichts_Neues_1929.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 168313], ["checksum", "gi8bctU8hTwfjscCyj0NqQ=="], ["created_at", "2018-12-27 01:31:47.535269"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (117.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (1.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "All Quiet on the Western Front"], ["description", "The book describes the German soldiers' extreme physical and mental stress during the war, and the detachment from civilian life felt by many of these soldiers upon returning home from the front.\r\n\r\nThe novel was first published in November and December 1928 in the German newspaper Vossische Zeitung and in book form in late January 1929. The book and its sequel, The Road Back (1930), were among the books banned and burned in Nazi Germany. All Quiet on the Western Front sold 2.5 million copies in 22 languages in its first 18 months in print."], ["author", "Erich Maria Remarque"], ["user_id", 3], ["created_at", "2018-12-27 01:31:47.667156"], ["updated_at", "2018-12-27 01:31:47.667156"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 12], ["blob_id", 10], ["created_at", "2018-12-27 01:31:47.672542"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.5ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-27 01:31:47.675730"], ["id", 12]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (140.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 314ms (ActiveRecord: 264.6ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/d9f53f2e74b086db/variables" for 127.0.0.1 at 2018-12-27 08:31:48 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-27 08:31:50 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 10], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (68.9ms)
  Rendered books/index.html.erb within layouts/application (73.6ms)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 7.6ms)



ArgumentError - Can't resolve image into URL: to_model delegated to attachment, but attachment is nil:
  app/views/books/_book.html.erb:5:in `_app_views_books__book_html_erb__2763716850010690240_69809932097940'
  app/views/books/index.html.erb:16:in `_app_views_books_index_html_erb__1293729135868460818_69809932180940'

Started POST "/__better_errors/69c388f14787df11/variables" for 127.0.0.1 at 2018-12-27 08:31:50 +0700
Started POST "/__better_errors/69c388f14787df11/variables" for 127.0.0.1 at 2018-12-27 08:31:55 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-27 08:32:00 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 10], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (76.0ms)
  Rendered books/index.html.erb within layouts/application (82.0ms)
Completed 500 Internal Server Error in 91ms (ActiveRecord: 8.2ms)



ArgumentError - Can't resolve image into URL: to_model delegated to attachment, but attachment is nil:
  app/views/books/_book.html.erb:5:in `_app_views_books__book_html_erb__2763716850010690240_69810049711920'
  app/views/books/index.html.erb:16:in `_app_views_books_index_html_erb__1293729135868460818_69810097048160'

Started POST "/__better_errors/9745d331d591924a/variables" for 127.0.0.1 at 2018-12-27 08:32:00 +0700
Started GET "/" for 127.0.0.1 at 2018-12-27 08:32:07 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 10], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (80.6ms)
  Rendered books/index.html.erb within layouts/application (87.1ms)
Completed 500 Internal Server Error in 98ms (ActiveRecord: 8.4ms)



ArgumentError - Can't resolve image into URL: to_model delegated to attachment, but attachment is nil:
  app/views/books/_book.html.erb:5:in `_app_views_books__book_html_erb__2763716850010690240_69810048766140'
  app/views/books/index.html.erb:16:in `_app_views_books_index_html_erb__1293729135868460818_69810048841480'

Started POST "/__better_errors/23ee23839069cb36/variables" for 127.0.0.1 at 2018-12-27 08:32:07 +0700
Started POST "/__better_errors/23ee23839069cb36/variables" for 127.0.0.1 at 2018-12-27 08:32:23 +0700
Started POST "/__better_errors/23ee23839069cb36/variables" for 127.0.0.1 at 2018-12-27 08:32:25 +0700
Started GET "/" for 127.0.0.1 at 2018-12-27 08:32:48 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 10], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (240.0ms)
  Rendered books/index.html.erb within layouts/application (263.9ms)
Completed 500 Internal Server Error in 302ms (ActiveRecord: 15.7ms)



ArgumentError - Can't resolve image into URL: to_model delegated to attachment, but attachment is nil:
  app/views/books/_book.html.erb:5:in `_app_views_books__book_html_erb__2351845243436708243_47462286902240'
  app/views/books/index.html.erb:16:in `_app_views_books_index_html_erb__1637658399341985408_47462291096280'

Started POST "/__better_errors/69a63af50dc3c048/variables" for 127.0.0.1 at 2018-12-27 08:32:49 +0700
Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-27 08:33:17 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:33:17 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 10], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (68.5ms)
  Rendered books/index.html.erb within layouts/application (72.8ms)
Completed 500 Internal Server Error in 80ms (ActiveRecord: 7.9ms)



ArgumentError - Can't resolve image into URL: to_model delegated to attachment, but attachment is nil:
  app/views/books/_book.html.erb:5:in `_app_views_books__book_html_erb__2351845243436708243_47462300714540'
  app/views/books/index.html.erb:16:in `_app_views_books_index_html_erb__1637658399341985408_47462300931240'

Started POST "/__better_errors/345d99c9225224ac/variables" for 127.0.0.1 at 2018-12-27 08:33:18 +0700
Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-27 08:33:23 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:33:23 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 10], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (66.2ms)
  Rendered books/index.html.erb within layouts/application (70.4ms)
Completed 500 Internal Server Error in 77ms (ActiveRecord: 7.4ms)



ArgumentError - Can't resolve image into URL: to_model delegated to attachment, but attachment is nil:
  app/views/books/_book.html.erb:5:in `_app_views_books__book_html_erb__2351845243436708243_69810037964080'
  app/views/books/index.html.erb:16:in `_app_views_books_index_html_erb__1637658399341985408_69809931705100'

Started POST "/__better_errors/2dda3014a043350a/variables" for 127.0.0.1 at 2018-12-27 08:33:24 +0700
Started GET "/" for 127.0.0.1 at 2018-12-27 08:33:40 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 10], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (240.5ms)
  Rendered books/index.html.erb within layouts/application (265.5ms)
Completed 500 Internal Server Error in 304ms (ActiveRecord: 16.3ms)



ArgumentError - Can't resolve image into URL: to_model delegated to attachment, but attachment is nil:
  app/views/books/_book.html.erb:5:in `_app_views_books__book_html_erb__3440702550312742445_47462286906980'
  app/views/books/index.html.erb:16:in `_app_views_books_index_html_erb___99348583527584221_47462291096680'

Started POST "/__better_errors/d1378445638f362a/variables" for 127.0.0.1 at 2018-12-27 08:33:40 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/" for 127.0.0.1 at 2018-12-27 08:34:13 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 8], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 9], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 10], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (248.8ms)
  Rendered books/index.html.erb within layouts/application (275.3ms)
Completed 500 Internal Server Error in 315ms (ActiveRecord: 16.0ms)



ArgumentError - Can't resolve image into URL: to_model delegated to attachment, but attachment is nil:
  app/views/books/_book.html.erb:5:in `_app_views_books__book_html_erb___2036602816375794296_47462286901920'
  app/views/books/index.html.erb:16:in `_app_views_books_index_html_erb__412462722482966188_47462291053480'

Started POST "/__better_errors/f19c337866afd718/variables" for 127.0.0.1 at 2018-12-27 08:34:14 +0700
Started POST "/__better_errors/f19c337866afd718/variables" for 127.0.0.1 at 2018-12-27 08:34:19 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  ↳ db/schema.rb:15
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ db/schema.rb:15
  [1m[35m (202.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL)[0m
  ↳ db/schema.rb:15
  [1m[35m (101.0ms)[0m  [1m[35mCREATE  INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  ↳ db/schema.rb:15
  [1m[35m (220.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  ↳ db/schema.rb:15
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  ↳ db/schema.rb:25
  [1m[35m (75.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL)[0m
  ↳ db/schema.rb:25
  [1m[35m (98.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  ↳ db/schema.rb:25
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "books"[0m
  ↳ db/schema.rb:36
  [1m[35m (91.8ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "author" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/schema.rb:36
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "libraries"[0m
  ↳ db/schema.rb:45
  [1m[35m (93.6ms)[0m  [1m[35mCREATE TABLE "libraries" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/schema.rb:45
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  ↳ db/schema.rb:52
  [1m[35m (116.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stripe_id" varchar, "stripe_subscription_id" varchar, "card_last4" varchar, "card_exp_month" integer, "card_exp_year" integer, "card_type" varchar, "admin" boolean, "subscribed" boolean)[0m
  ↳ db/schema.rb:52
  [1m[35m (99.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/schema.rb:52
  [1m[35m (98.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  ↳ db/schema.rb:52
  [1m[35m (97.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ db/schema.rb:13
  [1m[35m (65.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180423235557)[0m
  ↳ db/schema.rb:13
  [1m[35m (73.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180423234307),
(20180423235417),
(20180423233748),
(20180423234909);

[0m
  ↳ db/schema.rb:13
  [1m[35m (221.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ db/schema.rb:13
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-12-27 01:42:51.329267"], ["updated_at", "2018-12-27 01:42:51.329267"]]
  ↳ db/schema.rb:13
  [1m[35m (120.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  ↳ db/schema.rb:15
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ db/schema.rb:15
  [1m[35m (100.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL)[0m
  ↳ db/schema.rb:15
  [1m[35m (98.5ms)[0m  [1m[35mCREATE  INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  ↳ db/schema.rb:15
  [1m[35m (85.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  ↳ db/schema.rb:15
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  ↳ db/schema.rb:25
  [1m[35m (142.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL)[0m
  ↳ db/schema.rb:25
  [1m[35m (343.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  ↳ db/schema.rb:25
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "books"[0m
  ↳ db/schema.rb:36
  [1m[35m (197.5ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "author" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/schema.rb:36
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "libraries"[0m
  ↳ db/schema.rb:45
  [1m[35m (86.4ms)[0m  [1m[35mCREATE TABLE "libraries" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/schema.rb:45
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  ↳ db/schema.rb:52
  [1m[35m (239.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stripe_id" varchar, "stripe_subscription_id" varchar, "card_last4" varchar, "card_exp_month" integer, "card_exp_year" integer, "card_type" varchar, "admin" boolean, "subscribed" boolean)[0m
  ↳ db/schema.rb:52
  [1m[35m (85.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/schema.rb:52
  [1m[35m (89.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  ↳ db/schema.rb:52
  [1m[35m (98.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ db/schema.rb:13
  [1m[35m (76.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180423235557)[0m
  ↳ db/schema.rb:13
  [1m[35m (131.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180423234307),
(20180423235417),
(20180423233748),
(20180423234909);

[0m
  ↳ db/schema.rb:13
  [1m[35m (143.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (1.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-12-27 01:42:53.446805"], ["updated_at", "2018-12-27 01:42:53.446805"]]
  ↳ db/schema.rb:13
  [1m[35m (99.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2018-12-27 01:42:53.554694"], ["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (76.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/" for 127.0.0.1 at 2018-12-27 08:43:42 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (7.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 1165ms (Views: 1032.9ms | ActiveRecord: 5.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-27 08:43:50 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (128.7ms)
Completed 200 OK in 268ms (Views: 209.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-12-27 08:44:04 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"M8e0R30f0RtbGKBj+JxtoHp1PY3vwCbZ4n3SbPf9vpxd58/pP4nxFri8q1W368+ui/lEhQ5YLnm/Hr4YYqdGHA==", "user"=>{"name"=>"putin", "email"=>"putin@kremlin.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "putin@kremlin.ru"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "putin@kremlin.ru"], ["encrypted_password", "$2a$11$7hViKCxsAHgvIG0y.JPZSepDkCd0RVT32Y1nI7MmE6npxH1gEG80S"], ["name", "putin"], ["created_at", "2018-12-27 01:44:04.840260"], ["updated_at", "2018-12-27 01:44:04.840260"]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (134.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-12-27 01:44:04.980808"], ["last_sign_in_at", "2018-12-27 01:44:04.980808"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-12-27 01:44:04.982881"], ["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (63.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/pricing
Completed 302 Found in 591ms (ActiveRecord: 199.9ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-27 08:44:05 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (7.2ms)
Completed 200 OK in 113ms (Views: 80.7ms | ActiveRecord: 0.6ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "admin" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2018-12-27 01:46:38.789851"], ["admin", 1], ["id", 1]]
  [1m[35m (61.3ms)[0m  [1m[36mcommit transaction[0m
Started GET "/subscriptions/new?plan=scholar&plan_id=plan_EE5NGmUjgIB8D3" for 127.0.0.1 at 2018-12-27 08:46:59 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"scholar", "plan_id"=>"plan_EE5NGmUjgIB8D3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (3.0ms)
Completed 200 OK in 84ms (Views: 62.2ms | ActiveRecord: 0.8ms)


Started POST "/subscriptions" for 127.0.0.1 at 2018-12-27 08:47:14 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vSaTHLx1jkPqb2QGvd+NPtwv/WwYYwOBJccDB2HH9bXIQ/goKAkjdri0w2JiIO2jK7o6yB7FS4aPS2r2Cpso7Q==", "plan_id"=>"plan_EE5NGmUjgIB8D3", "stripeToken"=>"tok_1DlnxuGtAUHqRedbxGAYVGNm", "user"=>{"card_type"=>"undefined", "card_last4"=>"4242", "card_exp_month"=>"4", "card_exp_year"=>"2022"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:18
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "stripe_id" = ?, "stripe_subscription_id" = ?, "subscribed" = ?, "card_last4" = ?, "card_exp_month" = ?, "card_exp_year" = ?, "card_type" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["stripe_id", "cus_EEGUiavUHmYn7y"], ["stripe_subscription_id", "sub_EEGUibuFLk1gax"], ["subscribed", 1], ["card_last4", "4242"], ["card_exp_month", 4], ["card_exp_year", 2022], ["card_type", "undefined"], ["updated_at", "2018-12-27 01:47:19.431962"], ["id", 1]]
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[35m (105.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
Redirected to http://localhost:3000/
Completed 302 Found in 5398ms (ActiveRecord: 107.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:47:19 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/index.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
Completed 200 OK in 70ms (Views: 66.2ms | ActiveRecord: 1.1ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 08:47:24 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (46.3ms)
  Rendered books/new.html.erb within layouts/application (49.2ms)
Completed 200 OK in 195ms (Views: 108.9ms | ActiveRecord: 1.6ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 08:48:11 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2y71iFi82uArylKacgu+abuP9eFe2TbHzWlKV/eJLTLV0l/DyOJjHoV7ov0uPHWZFtU82jq35ddTwV1U1S7J6A==", "book"=>{"title"=>"Thus Spoke Zarathustra", "description"=>"Test", "author"=>"Friedrich Nietzsche", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007efbd0189570 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-29615-8hylbj.GIF>, @original_filename="Also_sprach_Zarathustra.GIF", @content_type="image/gif", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"Also_sprach_Zarathustra.GIF\"\r\nContent-Type: image/gif\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (28.0ms) [0m[32mUploaded file to key: 1zDYgWyb1wswsaCUZEMSnjfW (checksum: cFQiDlkXKqCiNL4dEsg0Rg==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (4.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1zDYgWyb1wswsaCUZEMSnjfW"], ["filename", "Also_sprach_Zarathustra.GIF"], ["content_type", "image/gif"], ["metadata", "{\"identified\":true}"], ["byte_size", 25667], ["checksum", "cFQiDlkXKqCiNL4dEsg0Rg=="], ["created_at", "2018-12-27 01:48:11.426541"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (137.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (1.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Thus Spoke Zarathustra"], ["description", "Test"], ["author", "Friedrich Nietzsche"], ["user_id", 1], ["created_at", "2018-12-27 01:48:11.619538"], ["updated_at", "2018-12-27 01:48:11.619538"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 1], ["blob_id", 1], ["created_at", "2018-12-27 01:48:11.625950"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.6ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-27 01:48:11.628654"], ["id", 1]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (69.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 721ms (ActiveRecord: 218.4ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/cdb50452a621b1f1/variables" for 127.0.0.1 at 2018-12-27 08:48:12 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-27 08:48:16 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (53.4ms)
  Rendered books/index.html.erb within layouts/application (133.9ms)
Completed 200 OK in 226ms (Views: 218.9ms | ActiveRecord: 3.9ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:48:17 +0700
Processing by ActiveStorage::BlobsController#show as 
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68", "filename"=>"Also_sprach_Zarathustra"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.9ms) [0m[34mGenerated URL for file at key: 1zDYgWyb1wswsaCUZEMSnjfW (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 10ms (ActiveRecord: 0.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:48:17 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.8ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 08:48:18 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (55.3ms)
  Rendered books/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 193ms (Views: 185.9ms | ActiveRecord: 0.6ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 08:49:15 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fp/ojm386suqO6hb0Z6c1LGjD4UbNt4GeC4JW3rCSFFwY0LF/aJTNQSKWDyNqVckHPnGvn9YDRbmhh5YWGWsiw==", "book"=>{"title"=>"Arch of Triumph", "description"=>"Test", "author"=>"Erich Maria Remarque", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007efbc9bad508 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-29615-lz0wpc.jpg>, @original_filename="81fPBabRvAL.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"81fPBabRvAL.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (52.0ms) [0m[32mUploaded file to key: StJdkN5qhEdf8HEaC57HnsdL (checksum: VtpbOWE2Liu06nM8YuLZww==)[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (1.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "StJdkN5qhEdf8HEaC57HnsdL"], ["filename", "81fPBabRvAL.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 389722], ["checksum", "VtpbOWE2Liu06nM8YuLZww=="], ["created_at", "2018-12-27 01:49:15.501913"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (67.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Arch of Triumph"], ["description", "Test"], ["author", "Erich Maria Remarque"], ["user_id", 1], ["created_at", "2018-12-27 01:49:15.587614"], ["updated_at", "2018-12-27 01:49:15.587614"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 2], ["blob_id", 2], ["created_at", "2018-12-27 01:49:15.592236"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.5ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-27 01:49:15.596693"], ["id", 2]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (84.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 269ms (ActiveRecord: 156.9ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/b3604777ca102020/variables" for 127.0.0.1 at 2018-12-27 08:49:16 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-27 08:49:17 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (27.3ms)
  Rendered books/index.html.erb within layouts/application (31.6ms)
Completed 200 OK in 94ms (Views: 87.9ms | ActiveRecord: 3.6ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1/81fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:49:17 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1", "filename"=>"81fPBabRvAL"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (2.3ms) [0m[34mGenerated URL for file at key: StJdkN5qhEdf8HEaC57HnsdL (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:49:17 +0700
Processing by ActiveStorage::DiskController#show as 
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:49:17 +0700
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d", "filename"=>"Also_sprach_Zarathustra"}
Processing by ActiveStorage::DiskController#show as JPEG
[36m  Disk Storage (3.5ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16", "filename"=>"81fPBabRvAL"}
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (6.1ms)
Completed 200 OK in 16ms (Views: 5.5ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (11.7ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.9ms)
Completed 200 OK in 17ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 08:49:21 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (53.8ms)
  Rendered books/new.html.erb within layouts/application (55.9ms)
Completed 200 OK in 156ms (Views: 148.6ms | ActiveRecord: 0.6ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 08:49:49 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"f0Vg+tMlmDmBrqkZnav6Rno+TES1J4JU3DUeZWZwvztxucqxQ3shxy8fWX7BnDG212SFf9FJUURCnQlmRNdb4Q==", "book"=>{"title"=>"Das Kapital", "description"=>"ololol", "author"=>"Karl Marx", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007efbc9b90c78 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-29615-68r3an.jpg>, @original_filename="das_kapital.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"das_kapital.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (18.8ms) [0m[32mUploaded file to key: 2Z5asUkdSdJuQt8XqeDcVHV4 (checksum: eCg3WN0hna/Fr9Y1l5OWqw==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2Z5asUkdSdJuQt8XqeDcVHV4"], ["filename", "das_kapital.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 90079], ["checksum", "eCg3WN0hna/Fr9Y1l5OWqw=="], ["created_at", "2018-12-27 01:49:49.851747"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (114.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (1.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Das Kapital"], ["description", "ololol"], ["author", "Karl Marx"], ["user_id", 1], ["created_at", "2018-12-27 01:49:49.980194"], ["updated_at", "2018-12-27 01:49:49.980194"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 3], ["blob_id", 3], ["created_at", "2018-12-27 01:49:49.985599"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.6ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-27 01:49:49.988885"], ["id", 3]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (65.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 261ms (ActiveRecord: 186.2ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/a22b003d6dfdf240/variables" for 127.0.0.1 at 2018-12-27 08:49:50 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-27 08:49:52 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [3 times] (38.3ms)
  Rendered books/index.html.erb within layouts/application (44.1ms)
Completed 200 OK in 113ms (Views: 104.9ms | ActiveRecord: 5.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:49:52 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.1ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:49:52 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.7ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:49:52 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4", "filename"=>"das_kapital"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: 2Z5asUkdSdJuQt8XqeDcVHV4 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:49:53 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.6ms)
Completed 200 OK in 25ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 08:49:56 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (31.6ms)
  Rendered books/new.html.erb within layouts/application (33.9ms)
Completed 200 OK in 103ms (Views: 95.5ms | ActiveRecord: 0.6ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 08:50:57 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FK5r+Qb8pbtibymvrjeDqE31/t+hrqOeDUsN9e29ELYaUsGylqIcRcze2cjyAEhY4K835MXAcI6T4xr2zxr0bA==", "book"=>{"title"=>"Leviathan", "description"=>"Leviathan or The Matter, Forme and Power of a Common-Wealth Ecclesiasticall and Civil", "author"=>"Thomas Hobbes", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007efbc97af6e0 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-29615-bnnp3y.jpg>, @original_filename="Leviathan_by_Thomas_Hobbes.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (13.3ms) [0m[32mUploaded file to key: cGsFbG2yvzKEqnpMpKyrqNhE (checksum: 00zzFubsdCq4xB5tpBgVcA==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (1.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "cGsFbG2yvzKEqnpMpKyrqNhE"], ["filename", "Leviathan_by_Thomas_Hobbes.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 778470], ["checksum", "00zzFubsdCq4xB5tpBgVcA=="], ["created_at", "2018-12-27 01:50:57.334753"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (108.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Leviathan"], ["description", "Leviathan or The Matter, Forme and Power of a Common-Wealth Ecclesiasticall and Civil"], ["author", "Thomas Hobbes"], ["user_id", 1], ["created_at", "2018-12-27 01:50:57.458247"], ["updated_at", "2018-12-27 01:50:57.458247"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 4], ["blob_id", 4], ["created_at", "2018-12-27 01:50:57.463387"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.8ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-27 01:50:57.467217"], ["id", 4]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (123.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 324ms (ActiveRecord: 237.7ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/4333520620c92452/variables" for 127.0.0.1 at 2018-12-27 08:50:58 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-27 08:51:00 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [4 times] (48.1ms)
  Rendered books/index.html.erb within layouts/application (53.4ms)
Completed 200 OK in 118ms (Views: 109.3ms | ActiveRecord: 6.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:51:00 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d", "filename"=>"Also_sprach_Zarathustra"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:51:00 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.1ms)
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.2ms)
Completed 200 OK in 24ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:51:00 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: cGsFbG2yvzKEqnpMpKyrqNhE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:51:00 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.6ms)
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:51:00 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.0ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (3.1ms)
Completed 200 OK in 8ms (Views: 2.6ms | ActiveRecord: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 08:51:29 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (27.5ms)
  Rendered books/new.html.erb within layouts/application (29.8ms)
Completed 200 OK in 106ms (Views: 98.0ms | ActiveRecord: 0.8ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 08:52:09 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wZFYOIDg6WLmYZbtePWyXxFQoNKekJp641vZIj1T1vfPbfJzEL5QnEjQZookwnmvvApp6fr+SWp9884hH/QyLQ==", "book"=>{"title"=>"All Quiet on the Western Front", "description"=>"War", "author"=>"Erich Maria Remarque", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007efbccc40940 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-29615-4fi8q5.jpg>, @original_filename="Remarque_Im_Westen_nichts_Neues_1929.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (56.9ms) [0m[32mUploaded file to key: agVxqrEWHBBo6raQ7yiuimY7 (checksum: gi8bctU8hTwfjscCyj0NqQ==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "agVxqrEWHBBo6raQ7yiuimY7"], ["filename", "Remarque_Im_Westen_nichts_Neues_1929.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 168313], ["checksum", "gi8bctU8hTwfjscCyj0NqQ=="], ["created_at", "2018-12-27 01:52:09.843899"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (100.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "All Quiet on the Western Front"], ["description", "War"], ["author", "Erich Maria Remarque"], ["user_id", 1], ["created_at", "2018-12-27 01:52:09.956950"], ["updated_at", "2018-12-27 01:52:09.956950"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 5], ["blob_id", 5], ["created_at", "2018-12-27 01:52:09.961622"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.5ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-27 01:52:09.964480"], ["id", 5]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (99.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 303ms (ActiveRecord: 203.3ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/c6fe0ae2745809c2/variables" for 127.0.0.1 at 2018-12-27 08:52:10 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-27 08:52:12 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [5 times] (66.1ms)
  Rendered books/index.html.erb within layouts/application (72.0ms)
Completed 200 OK in 157ms (Views: 145.9ms | ActiveRecord: 8.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:52:12 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:52:12 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16", "filename"=>"81fPBabRvAL"}
Processing by ActiveStorage::DiskController#show as 
[36m  Disk Storage (2.9ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d", "filename"=>"Also_sprach_Zarathustra"}
  Rendering text template
  Rendered text template (0.0ms)
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
Sent data  (4.1ms)
  Rendering text template
Completed 200 OK in 11ms (Views: 3.8ms | ActiveRecord: 0.0ms)


  Rendered text template (0.2ms)
Sent data  (7.8ms)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:52:12 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (4.2ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:52:12 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: agVxqrEWHBBo6raQ7yiuimY7 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:52:12 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:52:12 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (6.4ms)
Completed 200 OK in 18ms (Views: 6.0ms | ActiveRecord: 0.0ms)


  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.6ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 08:52:16 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (49.8ms)
  Rendered books/new.html.erb within layouts/application (53.8ms)
Completed 200 OK in 165ms (Views: 156.3ms | ActiveRecord: 0.6ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 08:52:53 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UCAWtKJv4ICa0X+7T+B//NUeQSXrisryCDT3JfbaffVe3Lz/MjFZfjRgj9wT17QMeESIHo/kGeKWnOAm1H2ZLw==", "book"=>{"title"=>"The picture of Dorian Gray", "description"=>"kek", "author"=>"Oscar Wilde", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007efbccb09d10 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-29615-1d6s7fb.jpeg>, @original_filename="Без названия.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"\xD0\x91\xD0\xB5\xD0\xB7 \xD0\xBD\xD0\xB0\xD0\xB7\xD0\xB2\xD0\xB0\xD0\xBD\xD0\xB8\xD1\x8F.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (12.3ms) [0m[32mUploaded file to key: 9wPx5vu5MVr8XJMbL1exdPVK (checksum: 5zI2xnX92AmTUyw83Zyh9w==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (2.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9wPx5vu5MVr8XJMbL1exdPVK"], ["filename", "Без названия.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 7313], ["checksum", "5zI2xnX92AmTUyw83Zyh9w=="], ["created_at", "2018-12-27 01:52:53.082711"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (103.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "The picture of Dorian Gray"], ["description", "kek"], ["author", "Oscar Wilde"], ["user_id", 1], ["created_at", "2018-12-27 01:52:53.199803"], ["updated_at", "2018-12-27 01:52:53.199803"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 6], ["blob_id", 6], ["created_at", "2018-12-27 01:52:53.204576"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.5ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-27 01:52:53.207987"], ["id", 6]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (75.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 243ms (ActiveRecord: 184.4ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/e415f4d596fe9669/variables" for 127.0.0.1 at 2018-12-27 08:52:53 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-27 08:52:56 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (3.8ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (71.8ms)
  Rendered books/index.html.erb within layouts/application (80.1ms)
Completed 200 OK in 146ms (Views: 131.1ms | ActiveRecord: 12.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:52:56 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (4.9ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:52:56 +0700
  Rendered text template (0.1ms)
Processing by ActiveStorage::DiskController#show as JPEG
Sent data  (10.0ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16", "filename"=>"81fPBabRvAL"}
Completed 200 OK in 19ms (Views: 9.5ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2018-12-27 08:52:56 +0700
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (6.0ms)
Completed 200 OK in 16ms (Views: 5.6ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Без названия"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.9ms) [0m[34mGenerated URL for file at key: 9wPx5vu5MVr8XJMbL1exdPVK (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:52:56 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224", "filename"=>"das_kapital"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:52:56 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:52:56 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendering text template
  Rendered text template (0.1ms)
[36m  Disk Storage (7.6ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
Sent data  (10.8ms)
  Rendering text template
Completed 200 OK in 29ms (Views: 10.4ms | ActiveRecord: 0.0ms)


  Rendered text template (0.1ms)
  Rendered text template (0.1ms)
Sent data  (23.5ms)
Completed 200 OK in 63ms (Views: 19.5ms | ActiveRecord: 0.0ms)


Sent data  (51.1ms)
Completed 200 OK in 109ms (Views: 47.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:52:56 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104", "filename"=>"Без названия"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 27ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-27 08:53:04 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"YbQqO74yu0Y+WpradxJ7wzjembH3bT/uTs/R2gklsMO26jQjaihhZ1IUIv3lhW9Hl/3QhBlsnNeqcDPsqFIQGg=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 29ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:53:04 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [6 times] (43.0ms)
  Rendered books/index.html.erb within layouts/application (47.1ms)
Completed 200 OK in 113ms (Views: 106.2ms | ActiveRecord: 4.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:53:05 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:53:05 +0700
Processing by ActiveStorage::DiskController#show as 
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTM6MTcuMTQxWiIsInB1ciI6ImJsb2Jfa2V5In19--f3358667305920dab1542ef218fc24a2196b930d", "filename"=>"Also_sprach_Zarathustra"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
  Rendered text template (0.0ms)
Sent data  (1.8ms)
Sent data  (0.9ms)
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:53:05 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224", "filename"=>"das_kapital"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.1ms)
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:53:05 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.9ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:53:05 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:53:05 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-27 08:53:07 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (27.3ms)
Completed 200 OK in 91ms (Views: 88.6ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-12-27 08:53:25 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"b8p+cnMOcclj1y7PndQKkYnZqqx4peM1X/cLNT7JYv36l9MbILyljDFQoC0oEFGvVyUxZy7zNf3h5qy2H5JFOw==", "user"=>{"name"=>"Marina", "email"=>"shtomaro@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "shtomaro@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "shtomaro@gmail.com"], ["encrypted_password", "$2a$11$pbqneQvYo6AzCjHmmbVmV.EgnxkhBFwM2G0wFv8WmO7ku9I2Me0Uq"], ["name", "Marina"], ["created_at", "2018-12-27 01:53:25.530967"], ["updated_at", "2018-12-27 01:53:25.530967"]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (84.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (3.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-12-27 01:53:25.622996"], ["last_sign_in_at", "2018-12-27 01:53:25.622996"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-12-27 01:53:25.624791"], ["id", 2]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (77.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/pricing
Completed 302 Found in 393ms (ActiveRecord: 167.3ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-27 08:53:25 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (6.3ms)
Completed 200 OK in 76ms (Views: 72.9ms | ActiveRecord: 0.6ms)


Started GET "/subscriptions/new?plan=starter&plan_id=plan_EE4yVsEqVijmag" for 127.0.0.1 at 2018-12-27 08:53:28 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"starter", "plan_id"=>"plan_EE4yVsEqVijmag"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (2.2ms)
Completed 200 OK in 80ms (Views: 74.6ms | ActiveRecord: 0.6ms)


Started POST "/subscriptions" for 127.0.0.1 at 2018-12-27 08:53:43 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ws4W3/Cn+N9uz3WUBr6zi12bfffw2747gF+B1lgEdj0jfQUio1e4n5tSyFZ6h/mh0tArdEeMDfgkZuKbayMqwQ==", "plan_id"=>"plan_EE4yVsEqVijmag", "stripeToken"=>"tok_1Dlo4BGtAUHqRedb1bQT38aO", "user"=>{"card_type"=>"undefined", "card_last4"=>"4242", "card_exp_month"=>"4", "card_exp_year"=>"2022"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:18
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "stripe_id" = ?, "stripe_subscription_id" = ?, "subscribed" = ?, "card_last4" = ?, "card_exp_month" = ?, "card_exp_year" = ?, "card_type" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["stripe_id", "cus_EEGb19yKGXEPrS"], ["stripe_subscription_id", "sub_EEGbPxIAxLky7A"], ["subscribed", 1], ["card_last4", "4242"], ["card_exp_month", 4], ["card_exp_year", 2022], ["card_type", "undefined"], ["updated_at", "2018-12-27 01:53:48.612790"], ["id", 2]]
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[35m (125.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
Redirected to http://localhost:3000/
Completed 302 Found in 5435ms (ActiveRecord: 128.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:53:48 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (63.9ms)
  Rendered books/index.html.erb within layouts/application (68.2ms)
Completed 200 OK in 138ms (Views: 127.7ms | ActiveRecord: 8.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:53:48 +0700
Processing by ActiveStorage::BlobsController#show as 
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68", "filename"=>"Also_sprach_Zarathustra"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.3ms) [0m[34mGenerated URL for file at key: 1zDYgWyb1wswsaCUZEMSnjfW (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:53:49 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:53:49 +0700
Sent data  (3.6ms)
Completed 200 OK in 11ms (Views: 3.2ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6MTcuNTI5WiIsInB1ciI6ImJsb2Jfa2V5In19--e14519230da6e58d143a0851f227adcbea634c16", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:53:49 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:53:49 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.6ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:53:49 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:53:49 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104", "filename"=>"Без названия"}
  Rendered text template (0.1ms)
Sent data  (10.5ms)
Completed 200 OK in 18ms (Views: 10.1ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 13ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started PUT "/books/1/add?type=add" for 127.0.0.1 at 2018-12-27 08:54:45 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"xQUKOWTCprVu1Ad8g2KNP6OgkUFeBYCj6UzZfOvLAGd3ROcwe2uJJXedLGROanPdDDKlDkstfVQ/qJjVarQacw==", "type"=>"add", "id"=>"1"}
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (1.6ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 1], ["user_id", 2], ["created_at", "2018-12-27 01:54:45.300235"], ["updated_at", "2018-12-27 01:54:45.300235"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (94.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 194ms (ActiveRecord: 98.9ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 08:54:45 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (13.8ms)
  Rendered library/index.html.erb within layouts/application (69.3ms)
Completed 200 OK in 149ms (Views: 130.7ms | ActiveRecord: 3.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:54:45 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:54:47 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (66.4ms)
  Rendered books/index.html.erb within layouts/application (72.5ms)
Completed 200 OK in 141ms (Views: 130.3ms | ActiveRecord: 8.6ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1/81fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:54:48 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1", "filename"=>"81fPBabRvAL"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.8ms) [0m[34mGenerated URL for file at key: StJdkN5qhEdf8HEaC57HnsdL (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg
Completed 302 Found in 24ms (ActiveRecord: 0.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:54:48 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:54:48 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:54:48 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:54:48 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104", "filename"=>"Без названия"}
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (7.4ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:54:48 +0700
  Rendering text template
[36m  Disk Storage (2.8ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTQ6NTIuODk2WiIsInB1ciI6ImJsb2Jfa2V5In19--13106c053a5de94a0c8a81aa8e485931e186c224", "filename"=>"das_kapital"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  Rendered text template (0.0ms)
  Rendering text template
[36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
Sent data  (10.2ms)
Completed 200 OK in 50ms (Views: 9.7ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (4.1ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c", "filename"=>"81fPBabRvAL"}
  Rendered text template (0.0ms)
Sent data  (22.5ms)
Completed 200 OK in 28ms (Views: 21.8ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
Completed 200 OK in 15ms (Views: 3.7ms | ActiveRecord: 0.0ms)


  Rendering text template
  Rendered text template (0.1ms)
Sent data  (33.3ms)
Completed 200 OK in 39ms (Views: 32.9ms | ActiveRecord: 0.0ms)


  Rendered text template (10.3ms)
Sent data  (12.5ms)
Completed 200 OK in 26ms (Views: 12.0ms | ActiveRecord: 0.0ms)


Started PUT "/books/2/add?type=add" for 127.0.0.1 at 2018-12-27 08:54:50 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"N0gg21I9EmXTu9eAgVQVsxOkSvijkt8SxuHDhZ2T0eGFCc3STZQ99cry/JhMXOtRvDZ+t7a6IuUQBYIsHOzL9Q==", "type"=>"add", "id"=>"2"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (1.0ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 2], ["user_id", 2], ["created_at", "2018-12-27 01:54:50.140920"], ["updated_at", "2018-12-27 01:54:50.140920"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (129.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 151ms (ActiveRecord: 132.7ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 08:54:50 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (22.8ms)
  Rendered library/index.html.erb within layouts/application (30.9ms)
Completed 200 OK in 118ms (Views: 108.8ms | ActiveRecord: 4.4ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:54:50 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:54:50 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c", "filename"=>"81fPBabRvAL"}
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (6.8ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.8ms)
Completed 200 OK in 12ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:54:52 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (67.4ms)
  Rendered books/index.html.erb within layouts/application (72.8ms)
Completed 200 OK in 135ms (Views: 123.4ms | ActiveRecord: 8.5ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:54:52 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4", "filename"=>"das_kapital"}
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.5ms) [0m[34mGenerated URL for file at key: 2Z5asUkdSdJuQt8XqeDcVHV4 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 16ms (ActiveRecord: 1.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:54:52 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:54:52 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:54:52 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  Rendering text template
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:54:52 +0700
  Rendered text template (0.0ms)
Sent data  (11.5ms)
Completed 200 OK in 21ms (Views: 11.0ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104", "filename"=>"Без названия"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (3.3ms)
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.7ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (14.4ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.0ms)
Completed 200 OK in 34ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started PUT "/books/3/add?type=add" for 127.0.0.1 at 2018-12-27 08:54:53 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"G7BJ7zbp/Zv02eIa+VbxOqcm+tY0g1lmkej3Vcnur/2p8aTmKUDSC+2QyQI0Xg/YCLTOmSGrpJFHDLb8SJG16Q==", "type"=>"add", "id"=>"3"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (2.2ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 3], ["user_id", 2], ["created_at", "2018-12-27 01:54:53.580706"], ["updated_at", "2018-12-27 01:54:53.580706"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (158.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 178ms (ActiveRecord: 161.9ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 08:54:53 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [3 times] (41.8ms)
  Rendered library/index.html.erb within layouts/application (50.5ms)
Completed 200 OK in 127ms (Views: 112.5ms | ActiveRecord: 6.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:54:54 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:54:54 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.1ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:54:54 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:54:55 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (75.8ms)
  Rendered books/index.html.erb within layouts/application (80.5ms)
Completed 200 OK in 159ms (Views: 147.6ms | ActiveRecord: 8.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:54:55 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:54:55 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104", "filename"=>"Без названия"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:54:55 +0700
[36m  Disk Storage (4.9ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (7.5ms)
Completed 200 OK in 12ms (Views: 7.0ms | ActiveRecord: 0.0ms)


  Rendering text template
Processing by ActiveStorage::DiskController#show as JPEG
  Rendered text template (0.1ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
Sent data  (10.9ms)
Completed 200 OK in 30ms (Views: 10.5ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 17ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started PUT "/books/4/add?type=add" for 127.0.0.1 at 2018-12-27 08:54:57 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"ibtNUi7wQ/QvI7tXAXYgPCidcS8VCS0f4spW3IeV/z47+qBbMVlsZDZqkE/Mft7ehw9FYAAh0Og0Lhd1BurlKg==", "type"=>"add", "id"=>"4"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (0.9ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 4], ["user_id", 2], ["created_at", "2018-12-27 01:54:57.267321"], ["updated_at", "2018-12-27 01:54:57.267321"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (109.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 125ms (ActiveRecord: 111.5ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 08:54:57 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [4 times] (43.2ms)
  Rendered library/index.html.erb within layouts/application (51.2ms)
Completed 200 OK in 135ms (Views: 123.5ms | ActiveRecord: 6.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:54:57 +0700
Processing by ActiveStorage::DiskController#show as 
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:54:57 +0700
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
Processing by ActiveStorage::DiskController#show as JPEG
  Rendered text template (0.1ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c", "filename"=>"81fPBabRvAL"}
Sent data  (1.9ms)
Completed 200 OK in 15ms (Views: 1.5ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:54:57 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:54:57 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (2.2ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.6ms)
Completed 200 OK in 13ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:54:59 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (85.2ms)
  Rendered books/index.html.erb within layouts/application (90.2ms)
Completed 200 OK in 159ms (Views: 145.8ms | ActiveRecord: 10.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:54:59 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:54:59 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104", "filename"=>"Без названия"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.6ms)
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started PUT "/books/6/add?type=add" for 127.0.0.1 at 2018-12-27 08:55:02 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"JFfAzfVwrRDGmHwzyyA08MAFYBo/i91t8i8DWd3PjAyWFi3E6tmCgN/RVysGKMoSb5dUVSqjIJoky0LwXLCWGA==", "type"=>"add", "id"=>"6"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (5.9ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 6], ["user_id", 2], ["created_at", "2018-12-27 01:55:02.776999"], ["updated_at", "2018-12-27 01:55:02.776999"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (140.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 173ms (ActiveRecord: 147.3ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 08:55:02 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [5 times] (80.6ms)
  Rendered library/index.html.erb within layouts/application (98.7ms)
Completed 200 OK in 189ms (Views: 167.3ms | ActiveRecord: 8.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:55:03 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55", "filename"=>"Also_sprach_Zarathustra"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:55:03 +0700
[36m  Disk Storage (4.4ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.9ms)
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c", "filename"=>"81fPBabRvAL"}
Completed 200 OK in 13ms (Views: 2.6ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.9ms)
Completed 200 OK in 7ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:55:03 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7", "filename"=>"das_kapital"}
[36m  Disk Storage (7.4ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 25ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:55:03 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104", "filename"=>"Без названия"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.6ms)
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:55:03 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (3.2ms)
Completed 200 OK in 11ms (Views: 2.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:55:04 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (79.5ms)
  Rendered books/index.html.erb within layouts/application (84.1ms)
Completed 200 OK in 165ms (Views: 152.8ms | ActiveRecord: 9.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:55:04 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started PUT "/books/5/add?type=add" for 127.0.0.1 at 2018-12-27 08:55:06 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"ejc+AwrPjQN6RQ5MapO2dgeaeIHSfDSkvGUAVH6OYY/IdtMKFWaik2MMJVSnm0iUqAhMzsdUyVNqgUH9//F7mw==", "type"=>"add", "id"=>"5"}
  [1m[36mBook Load (5.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (1.7ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 5], ["user_id", 2], ["created_at", "2018-12-27 01:55:06.820616"], ["updated_at", "2018-12-27 01:55:06.820616"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (73.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 102ms (ActiveRecord: 82.0ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 08:55:06 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (57.3ms)
  Rendered library/index.html.erb within layouts/application (64.6ms)
Completed 200 OK in 157ms (Views: 143.7ms | ActiveRecord: 8.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:55:07 +0700
Processing by ActiveStorage::DiskController#show as 
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:55:07 +0700
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55", "filename"=>"Also_sprach_Zarathustra"}
Processing by ActiveStorage::DiskController#show as JPEG
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c", "filename"=>"81fPBabRvAL"}
  Rendered text template (0.0ms)
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
Sent data  (3.4ms)
  Rendering text template
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.0ms)


  Rendered text template (0.0ms)
Sent data  (3.5ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:55:07 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:55:07 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:55:07 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:55:07 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7", "filename"=>"das_kapital"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104", "filename"=>"Без названия"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.5ms)
Completed 200 OK in 9ms (Views: 2.1ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
[36m  Disk Storage (30.1ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.0ms)
  Rendered text template (0.0ms)
Sent data  (4.5ms)
Completed 200 OK in 40ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Sent data  (11.1ms)
Completed 200 OK in 44ms (Views: 10.7ms | ActiveRecord: 0.0ms)


Completed 200 OK in 47ms (Views: 4.1ms | ActiveRecord: 0.0ms)


Started PUT "/books/6/add?type=remove" for 127.0.0.1 at 2018-12-27 08:55:11 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"d0W+zQYALYDdHMrSaoAZHkJeUSmf7mFv8sJz3lRPCS3FBFPEGakCEMRV4cqniOf87cxlZorGnJgkJjJ31TATOQ==", "type"=>"remove", "id"=>"6"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:75
  [1m[36mLibrary Destroy (0.8ms)[0m  [1m[31mDELETE FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."book_id" = ?[0m  [["user_id", 2], ["book_id", 6]]
  ↳ app/controllers/books_controller.rb:75
  [1m[35m (126.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 142ms (ActiveRecord: 128.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 08:55:12 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (64.6ms)
  Rendered books/index.html.erb within layouts/application (69.1ms)
Completed 200 OK in 137ms (Views: 126.9ms | ActiveRecord: 8.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 08:55:12 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTg6NDguOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--64ced3aaaa52d1ee17c24a06b18b5a0aaf8f6a55", "filename"=>"Also_sprach_Zarathustra"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 08:55:12 +0700
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 0.0ms)


  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NDguMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--04ed198bb9bdeb8507dc06a385ea7d510063f16c", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 08:55:12 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTk6NTIuMzg3WiIsInB1ciI6ImJsb2Jfa2V5In19--22be51bc12465f6c58d2d9fc86516112b008bec7", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.9ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 08:55:12 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTY6MDAuNzU2WiIsInB1ciI6ImJsb2Jfa2V5In19--d57fc090da5237755fb6820f5b619a991248f423", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 08:55:12 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 08:55:12 +0700
[36m  Disk Storage (23.3ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (9.4ms)
Completed 200 OK in 42ms (Views: 8.9ms | ActiveRecord: 0.0ms)


  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6NTYuNjAwWiIsInB1ciI6ImJsb2Jfa2V5In19--1ef3fe510e5c67799a2a926e790e2ba815cf0104", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDE6NTc6MTIuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--6c8e0d5da344698dc0abc80c4fa463e4bd7875e5", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 08:55:23 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [5 times] (53.4ms)
  Rendered library/index.html.erb within layouts/application (63.9ms)
Completed 200 OK in 136ms (Views: 122.7ms | ActiveRecord: 8.5ms)


Started PUT "/books/5/add?type=remove" for 127.0.0.1 at 2018-12-27 09:02:34 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"nlQ4s/Byz/dsJ61NZIRJ/AFOW1JHti5dkoFBuZ8+UrssFdW679vgZ3VuhlWpjLcertxvHVKe06pEZQAQHkFIrw==", "type"=>"remove", "id"=>"5"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:75
  [1m[36mLibrary Destroy (1.5ms)[0m  [1m[31mDELETE FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."book_id" = ?[0m  [["user_id", 2], ["book_id", 5]]
  ↳ app/controllers/books_controller.rb:75
  [1m[35m (128.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 146ms (ActiveRecord: 131.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:02:34 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (67.1ms)
  Rendered books/index.html.erb within layouts/application (72.4ms)
Completed 200 OK in 152ms (Views: 141.0ms | ActiveRecord: 8.4ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
Processing by ActiveStorage::BlobsController#show as 
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68", "filename"=>"Also_sprach_Zarathustra"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: 1zDYgWyb1wswsaCUZEMSnjfW (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMTA1WiIsInB1ciI6ImJsb2Jfa2V5In19--1d2b1abad49166ee8a7436a8c532a728edb860d4/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMTA1WiIsInB1ciI6ImJsb2Jfa2V5In19--1d2b1abad49166ee8a7436a8c532a728edb860d4/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1/81fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1", "filename"=>"81fPBabRvAL"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (2.0ms) [0m[34mGenerated URL for file at key: StJdkN5qhEdf8HEaC57HnsdL (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--7b3c1d72f6bfd2a100e924edd4ccf774114ea22f/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--7b3c1d72f6bfd2a100e924edd4ccf774114ea22f/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMTA1WiIsInB1ciI6ImJsb2Jfa2V5In19--1d2b1abad49166ee8a7436a8c532a728edb860d4/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--7b3c1d72f6bfd2a100e924edd4ccf774114ea22f/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMTQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--7b3c1d72f6bfd2a100e924edd4ccf774114ea22f", "filename"=>"81fPBabRvAL"}
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMTA1WiIsInB1ciI6ImJsb2Jfa2V5In19--1d2b1abad49166ee8a7436a8c532a728edb860d4", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (6.6ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (3.3ms)
Completed 200 OK in 12ms (Views: 2.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4", "filename"=>"das_kapital"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (3.8ms) [0m[34mGenerated URL for file at key: 2Z5asUkdSdJuQt8XqeDcVHV4 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMzM5WiIsInB1ciI6ImJsb2Jfa2V5In19--296330557734376e18a21e4a53da132794d626c9/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMzM5WiIsInB1ciI6ImJsb2Jfa2V5In19--296330557734376e18a21e4a53da132794d626c9/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: cGsFbG2yvzKEqnpMpKyrqNhE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMzk5WiIsInB1ciI6ImJsb2Jfa2V5In19--8f3d408bb47dd5ad7dfa5a8057ddbf7564681573/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMzk5WiIsInB1ciI6ImJsb2Jfa2V5In19--8f3d408bb47dd5ad7dfa5a8057ddbf7564681573/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Processing by ActiveStorage::BlobsController#show as JPEG
Processing by ActiveStorage::BlobsController#show as JPEG
Completed 302 Found in 27ms (ActiveRecord: 0.6ms)


  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Без названия"}
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (1.6ms) [0m[34mGenerated URL for file at key: 9wPx5vu5MVr8XJMbL1exdPVK (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuNDA5WiIsInB1ciI6ImJsb2Jfa2V5In19--149b40d60700ca7b255a8759703b9ef6c4a04770/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuNDA5WiIsInB1ciI6ImJsb2Jfa2V5In19--149b40d60700ca7b255a8759703b9ef6c4a04770/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)


  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.5ms) [0m[34mGenerated URL for file at key: agVxqrEWHBBo6raQ7yiuimY7 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuNDIxWiIsInB1ciI6ImJsb2Jfa2V5In19--00f807062ab55dc992948b5ceaafcc3564fe5f8c/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuNDIxWiIsInB1ciI6ImJsb2Jfa2V5In19--00f807062ab55dc992948b5ceaafcc3564fe5f8c/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMzM5WiIsInB1ciI6ImJsb2Jfa2V5In19--296330557734376e18a21e4a53da132794d626c9/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMzM5WiIsInB1ciI6ImJsb2Jfa2V5In19--296330557734376e18a21e4a53da132794d626c9", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (8.8ms)
Completed 200 OK in 28ms (Views: 4.0ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMzk5WiIsInB1ciI6ImJsb2Jfa2V5In19--8f3d408bb47dd5ad7dfa5a8057ddbf7564681573/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuMzk5WiIsInB1ciI6ImJsb2Jfa2V5In19--8f3d408bb47dd5ad7dfa5a8057ddbf7564681573", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuNDIxWiIsInB1ciI6ImJsb2Jfa2V5In19--00f807062ab55dc992948b5ceaafcc3564fe5f8c/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuNDIxWiIsInB1ciI6ImJsb2Jfa2V5In19--00f807062ab55dc992948b5ceaafcc3564fe5f8c", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuNDA5WiIsInB1ciI6ImJsb2Jfa2V5In19--149b40d60700ca7b255a8759703b9ef6c4a04770/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:02:35 +0700
[36m  Disk Storage (10.3ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MDc6MzUuNDA5WiIsInB1ciI6ImJsb2Jfa2V5In19--149b40d60700ca7b255a8759703b9ef6c4a04770", "filename"=>"Без названия"}
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (7.7ms)
Completed 200 OK in 34ms (Views: 7.2ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (30.9ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.6ms)
Completed 200 OK in 36ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:02:37 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (86.2ms)
  Rendered books/index.html.erb within layouts/application (92.0ms)
Completed 200 OK in 165ms (Views: 151.6ms | ActiveRecord: 10.4ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:07:57 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (13.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (3.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (121.8ms)
  Rendered books/index.html.erb within layouts/application (126.6ms)
Completed 200 OK in 197ms (Views: 169.2ms | ActiveRecord: 25.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:07:58 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (118.6ms)
  Rendered books/index.html.erb within layouts/application (124.9ms)
Completed 200 OK in 223ms (Views: 208.0ms | ActiveRecord: 12.5ms)


Started PUT "/books/1/add?type=remove" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"8ZDtmwS4YM8taEVColpn2yMSNHQRNjL595a4rLRstABD0QCSGxFPXzQhblpvUpk5jIAAOwQezw4hcvkFNROuFA==", "type"=>"remove", "id"=>"1"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:75
  [1m[36mLibrary Destroy (2.3ms)[0m  [1m[31mDELETE FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."book_id" = ?[0m  [["user_id", 2], ["book_id", 1]]
  ↳ app/controllers/books_controller.rb:75
  [1m[35m (337.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 358ms (ActiveRecord: 341.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (64.2ms)
  Rendered books/index.html.erb within layouts/application (69.2ms)
Completed 200 OK in 160ms (Views: 149.3ms | ActiveRecord: 8.8ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
Processing by ActiveStorage::BlobsController#show as 
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68", "filename"=>"Also_sprach_Zarathustra"}
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: 1zDYgWyb1wswsaCUZEMSnjfW (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1/81fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1", "filename"=>"81fPBabRvAL"}
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.7ms) [0m[34mGenerated URL for file at key: StJdkN5qhEdf8HEaC57HnsdL (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
Processing by ActiveStorage::DiskController#show as 
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
  Rendered text template (0.0ms)
Sent data  (2.8ms)
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
Completed 200 OK in 10ms (Views: 2.5ms | ActiveRecord: 0.0ms)


  Rendered text template (0.0ms)
Sent data  (2.2ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4", "filename"=>"das_kapital"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.4ms) [0m[34mGenerated URL for file at key: 2Z5asUkdSdJuQt8XqeDcVHV4 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:17:11 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Без названия"}
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.7ms) [0m[34mGenerated URL for file at key: 9wPx5vu5MVr8XJMbL1exdPVK (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)


[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: cGsFbG2yvzKEqnpMpKyrqNhE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Completed 302 Found in 32ms (ActiveRecord: 0.5ms)


Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (3.5ms) [0m[34mGenerated URL for file at key: agVxqrEWHBBo6raQ7yiuimY7 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:17:12 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:17:12 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:17:12 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (10.4ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.7ms)
Completed 200 OK in 27ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started PUT "/books/2/add?type=remove" for 127.0.0.1 at 2018-12-27 09:17:14 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"I2HQlh0a5sBat1P62JevWaZPGzcayP9hf1uAZyPCdbaRID2fArPJUEP+eOIVn1G7Cd0veA/gApapv8HOor1vog==", "type"=>"remove", "id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:75
  [1m[36mLibrary Destroy (1.8ms)[0m  [1m[31mDELETE FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."book_id" = ?[0m  [["user_id", 2], ["book_id", 2]]
  ↳ app/controllers/books_controller.rb:75
  [1m[35m (195.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 215ms (ActiveRecord: 199.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:17:14 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (67.8ms)
  Rendered books/index.html.erb within layouts/application (72.4ms)
Completed 200 OK in 137ms (Views: 125.7ms | ActiveRecord: 8.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:17:15 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:17:15 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (1.9ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
[36m  Disk Storage (1.8ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.6ms)
Sent data  (1.5ms)
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:17:15 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.1ms)
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:17:15 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:17:15 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:17:15 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.6ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started PUT "/books/3/add?type=remove" for 127.0.0.1 at 2018-12-27 09:17:17 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"s2x8ZYdQ6+gqyJZ9AOUxNquAesLoPoINChMWsjWUR9MBLZFsmPnEeDOBvWXN7c/UBBJOjf0Wf/rc91cbtOtdxw==", "type"=>"remove", "id"=>"3"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:75
  [1m[36mLibrary Destroy (1.9ms)[0m  [1m[31mDELETE FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."book_id" = ?[0m  [["user_id", 2], ["book_id", 3]]
  ↳ app/controllers/books_controller.rb:75
  [1m[35m (112.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 132ms (ActiveRecord: 115.8ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:17:17 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (64.3ms)
  Rendered books/index.html.erb within layouts/application (68.9ms)
Completed 200 OK in 148ms (Views: 136.9ms | ActiveRecord: 8.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:17:17 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:17:17 +0700
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (8.7ms)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:17:18 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:17:18 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.0ms)
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:17:18 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:17:18 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
Processing by ActiveStorage::DiskController#show as JPEG
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.6ms)
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
  Rendered text template (0.1ms)
Sent data  (11.5ms)
Completed 200 OK in 17ms (Views: 10.9ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.0ms)


  Rendering text template
  Rendered text template (0.0ms)
Sent data  (5.3ms)
Completed 200 OK in 12ms (Views: 5.0ms | ActiveRecord: 0.0ms)


Started PUT "/books/4/add?type=remove" for 127.0.0.1 at 2018-12-27 09:17:20 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"TqCtfHUD6gzrCfKSyLzR7h7ueIuyZqp+EcPmbufNLkn84UB1aqrFnPJA2YoFtC8MsXxMxKdOV4nHJ6fHZrI0XQ==", "type"=>"remove", "id"=>"4"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:75
  [1m[36mLibrary Destroy (1.1ms)[0m  [1m[31mDELETE FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."book_id" = ?[0m  [["user_id", 2], ["book_id", 4]]
  ↳ app/controllers/books_controller.rb:75
  [1m[35m (130.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 147ms (ActiveRecord: 133.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:17:20 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (65.7ms)
  Rendered books/index.html.erb within layouts/application (70.5ms)
Completed 200 OK in 152ms (Views: 141.6ms | ActiveRecord: 8.7ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:17:20 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:17:20 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
Processing by ActiveStorage::DiskController#show as JPEG
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
  Rendering text template
  Rendered text template (0.0ms)
[36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
Sent data  (8.4ms)
  Rendering text template
Completed 200 OK in 13ms (Views: 7.5ms | ActiveRecord: 0.0ms)


  Rendered text template (0.1ms)
Sent data  (7.7ms)
Completed 200 OK in 15ms (Views: 7.4ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:17:20 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.2ms)
Completed 200 OK in 8ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:17:20 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (11.1ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:17:20 +0700
  Rendered text template (0.1ms)
Processing by ActiveStorage::DiskController#show as JPEG
Sent data  (14.8ms)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:17:20 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
Completed 200 OK in 36ms (Views: 14.5ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.7ms)
  Rendering text template
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.0ms)


  Rendered text template (0.1ms)
Sent data  (9.1ms)
Completed 200 OK in 29ms (Views: 8.6ms | ActiveRecord: 0.0ms)


Started GET "/books/3" for 127.0.0.1 at 2018-12-27 09:17:26 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered books/_book-controls.html.erb (9.4ms)
  Rendered books/show.html.erb within layouts/application (100.2ms)
Completed 200 OK in 755ms (Views: 157.7ms | ActiveRecord: 2.5ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:17:27 +0700
Processing by ActiveStorage::RepresentationsController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d", "filename"=>"das_kapital"}
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (15.7ms) [0m[34mChecked if file exists at key: variants/2Z5asUkdSdJuQt8XqeDcVHV4/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (no)[0m
[36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: variants/2Z5asUkdSdJuQt8XqeDcVHV4/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: variants/2Z5asUkdSdJuQt8XqeDcVHV4/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUXZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MjcuODg4WiIsInB1ciI6ImJsb2Jfa2V5In19--1ed0c55216ceec5272e14b87199176627a3e41a9/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUXZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MjcuODg4WiIsInB1ciI6ImJsb2Jfa2V5In19--1ed0c55216ceec5272e14b87199176627a3e41a9/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 785ms (ActiveRecord: 0.7ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUXZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MjcuODg4WiIsInB1ciI6ImJsb2Jfa2V5In19--1ed0c55216ceec5272e14b87199176627a3e41a9/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:17:27 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUXZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MjcuODg4WiIsInB1ciI6ImJsb2Jfa2V5In19--1ed0c55216ceec5272e14b87199176627a3e41a9", "filename"=>"das_kapital"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: variants/2Z5asUkdSdJuQt8XqeDcVHV4/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/books/4" for 127.0.0.1 at 2018-12-27 09:17:31 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered books/_book-controls.html.erb (10.9ms)
  Rendered books/show.html.erb within layouts/application (21.6ms)
Completed 200 OK in 95ms (Views: 82.5ms | ActiveRecord: 2.4ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:17:31 +0700
Processing by ActiveStorage::RepresentationsController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.1ms) [0m[34mChecked if file exists at key: variants/cGsFbG2yvzKEqnpMpKyrqNhE/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (no)[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: variants/cGsFbG2yvzKEqnpMpKyrqNhE/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: variants/cGsFbG2yvzKEqnpMpKyrqNhE/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTlqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVXZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MzEuOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--70a13efcb170843ef6811e02e0705059263ad65a/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTlqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVXZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MzEuOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--70a13efcb170843ef6811e02e0705059263ad65a/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Completed 302 Found in 274ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTlqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVXZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MzEuOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--70a13efcb170843ef6811e02e0705059263ad65a/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:17:32 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTlqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVXZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MzEuOTg2WiIsInB1ciI6ImJsb2Jfa2V5In19--70a13efcb170843ef6811e02e0705059263ad65a", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: variants/cGsFbG2yvzKEqnpMpKyrqNhE/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/books/1" for 127.0.0.1 at 2018-12-27 09:17:35 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered books/_book-controls.html.erb (13.1ms)
  Rendered books/show.html.erb within layouts/application (39.8ms)
Completed 200 OK in 148ms (Views: 140.3ms | ActiveRecord: 3.2ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:17:35 +0700
Processing by ActiveStorage::RepresentationsController#show as 
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d", "filename"=>"Also_sprach_Zarathustra"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.1ms) [0m[34mChecked if file exists at key: variants/1zDYgWyb1wswsaCUZEMSnjfW/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (no)[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: variants/1zDYgWyb1wswsaCUZEMSnjfW/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: variants/1zDYgWyb1wswsaCUZEMSnjfW/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MzUuNzIyWiIsInB1ciI6ImJsb2Jfa2V5In19--95dda1b7e18ba505fc38185955aeb506a782c22a/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MzUuNzIyWiIsInB1ciI6ImJsb2Jfa2V5In19--95dda1b7e18ba505fc38185955aeb506a782c22a/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 432ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MzUuNzIyWiIsInB1ciI6ImJsb2Jfa2V5In19--95dda1b7e18ba505fc38185955aeb506a782c22a/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:17:35 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MzUuNzIyWiIsInB1ciI6ImJsb2Jfa2V5In19--95dda1b7e18ba505fc38185955aeb506a782c22a", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: variants/1zDYgWyb1wswsaCUZEMSnjfW/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/books/6" for 127.0.0.1 at 2018-12-27 09:17:40 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered books/_book-controls.html.erb (10.8ms)
  Rendered books/show.html.erb within layouts/application (23.5ms)
Completed 200 OK in 93ms (Views: 86.0ms | ActiveRecord: 2.6ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2018-12-27 09:17:40 +0700
Processing by ActiveStorage::RepresentationsController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d", "filename"=>"Без названия"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.1ms) [0m[34mChecked if file exists at key: variants/9wPx5vu5MVr8XJMbL1exdPVK/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (no)[0m
[36m  Disk Storage (29.5ms) [0m[32mUploaded file to key: variants/9wPx5vu5MVr8XJMbL1exdPVK/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
[36m  Disk Storage (1.6ms) [0m[34mGenerated URL for file at key: variants/9wPx5vu5MVr8XJMbL1exdPVK/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTg1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6NDAuODQwWiIsInB1ciI6ImJsb2Jfa2V5In19--51f54b956102c81b2c5b75cb46ba32da36c5ce9e/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTg1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6NDAuODQwWiIsInB1ciI6ImJsb2Jfa2V5In19--51f54b956102c81b2c5b75cb46ba32da36c5ce9e/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
Completed 302 Found in 126ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTg1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6NDAuODQwWiIsInB1ciI6ImJsb2Jfa2V5In19--51f54b956102c81b2c5b75cb46ba32da36c5ce9e/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:17:40 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTg1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6NDAuODQwWiIsInB1ciI6ImJsb2Jfa2V5In19--51f54b956102c81b2c5b75cb46ba32da36c5ce9e", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: variants/9wPx5vu5MVr8XJMbL1exdPVK/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/books/5" for 127.0.0.1 at 2018-12-27 09:17:43 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered books/_book-controls.html.erb (9.5ms)
  Rendered books/show.html.erb within layouts/application (22.9ms)
Completed 200 OK in 121ms (Views: 104.0ms | ActiveRecord: 2.8ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d/Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:17:43 +0700
Processing by ActiveStorage::RepresentationsController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  [1m[36mActiveStorage::Blob Load (2.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.1ms) [0m[34mChecked if file exists at key: variants/agVxqrEWHBBo6raQ7yiuimY7/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (no)[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: variants/agVxqrEWHBBo6raQ7yiuimY7/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: variants/agVxqrEWHBBo6raQ7yiuimY7/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTloWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6NDMuODQyWiIsInB1ciI6ImJsb2Jfa2V5In19--8b921c71d0d13f79bf36789089a9f47a40d80e61/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTloWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6NDMuODQyWiIsInB1ciI6ImJsb2Jfa2V5In19--8b921c71d0d13f79bf36789089a9f47a40d80e61/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg
Completed 302 Found in 150ms (ActiveRecord: 2.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTloWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6NDMuODQyWiIsInB1ciI6ImJsb2Jfa2V5In19--8b921c71d0d13f79bf36789089a9f47a40d80e61/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:17:43 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTloWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6NDMuODQyWiIsInB1ciI6ImJsb2Jfa2V5In19--8b921c71d0d13f79bf36789089a9f47a40d80e61", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: variants/agVxqrEWHBBo6raQ7yiuimY7/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-27 09:19:16 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"mJlv0KAnUfDKyHb6KHYs6PUNLMqBbMotSewW7h8Hc/Qq2ILZv45+YNOBXeLlftIKWp8YhZREN9qfCFdHnnhp4A=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:19:16 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [6 times] (43.6ms)
  Rendered books/index.html.erb within layouts/application (47.6ms)
Completed 200 OK in 116ms (Views: 108.6ms | ActiveRecord: 4.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:19:16 +0700
Processing by ActiveStorage::DiskController#show as 
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:19:16 +0700
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (3.6ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.1ms)
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.8ms)
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Sent data  (3.4ms)
Completed 200 OK in 18ms (Views: 3.0ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:19:16 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.8ms)
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:19:17 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:19:17 +0700
[36m  Disk Storage (18.6ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (17.3ms)
Completed 200 OK in 38ms (Views: 14.9ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.3ms)
Completed 200 OK in 6ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:19:17 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (7.6ms)
Completed 200 OK in 15ms (Views: 6.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-12-27 09:19:19 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (35.7ms)
Completed 200 OK in 138ms (Views: 135.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-12-27 09:19:37 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zNaCwXzxU1UMq4mnSjX4Ozi7m7tlGrGXSsH+07/YhCcqCWn7oO/TbIFF+VJwQSkeRGYcyg+Lz5hprXmzOHm9Cw==", "user"=>{"name"=>"Nikita", "email"=>"nikita@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nikita@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "nikita@gmail.com"], ["encrypted_password", "$2a$11$3JztWEWWf3TvcQFycwvn3OgGn63hcwoD1SuMqQ68f7e7Xg9hwi22a"], ["name", "Nikita"], ["created_at", "2018-12-27 02:19:37.689650"], ["updated_at", "2018-12-27 02:19:37.689650"]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (628.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-12-27 02:19:38.328498"], ["last_sign_in_at", "2018-12-27 02:19:38.328498"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-12-27 02:19:38.330723"], ["id", 3]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (101.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/pricing
Completed 302 Found in 958ms (ActiveRecord: 732.8ms)


Started GET "/pricing" for 127.0.0.1 at 2018-12-27 09:19:38 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (5.5ms)
Completed 200 OK in 67ms (Views: 64.3ms | ActiveRecord: 0.5ms)


Started GET "/subscriptions/new?plan=starter&plan_id=plan_EE4yVsEqVijmag" for 127.0.0.1 at 2018-12-27 09:19:42 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"starter", "plan_id"=>"plan_EE4yVsEqVijmag"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (2.5ms)
Completed 200 OK in 70ms (Views: 63.7ms | ActiveRecord: 0.8ms)


Started POST "/subscriptions" for 127.0.0.1 at 2018-12-27 09:20:02 +0700
Processing by SubscriptionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"f4s5yujErqmD0qG/tMIdo2EsZi/E1H6Bq6YisSs7Tzkn+ycTl8xfvKbNaNUvGOvOwtBd9P6nARFCfYIPjGMOzw==", "plan_id"=>"plan_EE4yVsEqVijmag", "stripeToken"=>"tok_1DloTeGtAUHqRedb8BMiZJww", "user"=>{"card_type"=>"undefined", "card_last4"=>"4242", "card_exp_month"=>"4", "card_exp_year"=>"2024"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:18
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[36mUser Update (6.0ms)[0m  [1m[33mUPDATE "users" SET "stripe_id" = ?, "stripe_subscription_id" = ?, "subscribed" = ?, "card_last4" = ?, "card_exp_month" = ?, "card_exp_year" = ?, "card_type" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["stripe_id", "cus_EEH1pGxQDGRjWM"], ["stripe_subscription_id", "sub_EEH1mMmtw744eh"], ["subscribed", 1], ["card_last4", "4242"], ["card_exp_month", 4], ["card_exp_year", 2024], ["card_type", "undefined"], ["updated_at", "2018-12-27 02:20:07.980087"], ["id", 3]]
  ↳ app/controllers/subscriptions_controller.rb:39
  [1m[35m (90.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/subscriptions_controller.rb:39
Redirected to http://localhost:3000/
Completed 302 Found in 5249ms (ActiveRecord: 97.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:20:08 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (64.0ms)
  Rendered books/index.html.erb within layouts/application (67.8ms)
Completed 200 OK in 138ms (Views: 127.3ms | ActiveRecord: 8.2ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:20:08 +0700
Processing by ActiveStorage::DiskController#show as 
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:20:08 +0700
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (10.7ms)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 0.0ms)


  Rendered text template (0.0ms)
Sent data  (21.7ms)
Completed 200 OK in 26ms (Views: 21.3ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:20:08 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.9ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:20:08 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (3.8ms)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:20:08 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.8ms)
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:20:08 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (3.6ms)
Completed 200 OK in 6ms (Views: 3.3ms | ActiveRecord: 0.0ms)


Started PUT "/books/1/add?type=add" for 127.0.0.1 at 2018-12-27 09:20:21 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"srqoePMuK91XzvkL2KXD0UFORzOxwrgB0PSQz7zAbq05ueAhN8owhTc+vKs5vbRKY/q5m/T5Jq500HMbGPX3Gg==", "type"=>"add", "id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (2.6ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 1], ["user_id", 3], ["created_at", "2018-12-27 02:20:21.651982"], ["updated_at", "2018-12-27 02:20:21.651982"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (119.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 141ms (ActiveRecord: 123.3ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 09:20:21 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [1 times] (13.5ms)
  Rendered library/index.html.erb within layouts/application (21.0ms)
Completed 200 OK in 92ms (Views: 82.7ms | ActiveRecord: 2.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:20:22 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:20:25 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (68.2ms)
  Rendered books/index.html.erb within layouts/application (73.3ms)
Completed 200 OK in 152ms (Views: 141.1ms | ActiveRecord: 8.2ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:20:26 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:20:26 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:20:26 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:20:26 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:20:26 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
[36m  Disk Storage (4.1ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.1ms)
[36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
  Rendered text template (0.0ms)
Sent data  (3.2ms)
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  Rendered text template (0.1ms)
Sent data  (8.7ms)
[36m  Disk Storage (2.3ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
Completed 200 OK in 18ms (Views: 2.8ms | ActiveRecord: 0.0ms)


  Rendering text template
Sent data  (6.9ms)
Completed 200 OK in 16ms (Views: 8.3ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendered text template (0.1ms)
  Rendering text template
Completed 200 OK in 46ms (Views: 6.6ms | ActiveRecord: 0.0ms)


  Rendered text template (0.0ms)
Sent data  (23.1ms)
Sent data  (4.7ms)
Completed 200 OK in 32ms (Views: 4.3ms | ActiveRecord: 0.0ms)


Completed 200 OK in 36ms (Views: 22.7ms | ActiveRecord: 0.0ms)


Started PUT "/books/3/add?type=add" for 127.0.0.1 at 2018-12-27 09:20:27 +0700
Processing by BooksController#library as HTML
  Parameters: {"authenticity_token"=>"jtmtVkwgonMYT1SM3z9WBPbV9zc02Iz4PMyCSAOIKFsF2uUPiMS5K3i/ESw+JyGf1GEJn3HjEleY6GGcp72x7A==", "type"=>"add", "id"=>"3"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:71
  [1m[36mLibrary Create (4.2ms)[0m  [1m[32mINSERT INTO "libraries" ("book_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["book_id", 3], ["user_id", 3], ["created_at", "2018-12-27 02:20:27.826188"], ["updated_at", "2018-12-27 02:20:27.826188"]]
  ↳ app/controllers/books_controller.rb:71
  [1m[35m (112.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:71
Redirected to http://localhost:3000/library
Completed 302 Found in 141ms (ActiveRecord: 118.3ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 09:20:27 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/views/library/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [2 times] (21.1ms)
  Rendered library/index.html.erb within layouts/application (28.2ms)
Completed 200 OK in 101ms (Views: 91.8ms | ActiveRecord: 3.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:20:28 +0700
Processing by ActiveStorage::DiskController#show as 
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:20:28 +0700
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
Processing by ActiveStorage::DiskController#show as JPEG
[36m  Disk Storage (3.1ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
  Rendering text template
  Rendered text template (0.1ms)
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Sent data  (7.2ms)
Completed 200 OK in 17ms (Views: 6.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:20:31 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 3], ["user_id", 3], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (67.8ms)
  Rendered books/index.html.erb within layouts/application (72.5ms)
Completed 200 OK in 134ms (Views: 122.7ms | ActiveRecord: 8.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:20:31 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:20:31 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:20:31 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:20:31 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  Rendered text template (0.1ms)
Sent data  (6.5ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-27 09:20:39 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"95ATM+AgJ+gfQCHO98nZmLbIDP9R56IKev+dLcl81sZ8k1tqJMQ8sH+wZG4W0a4DlHzyVxTcPKXe2375bUlPcQ=="}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:20:39 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [6 times] (43.7ms)
  Rendered books/index.html.erb within layouts/application (47.9ms)
Completed 200 OK in 116ms (Views: 108.3ms | ActiveRecord: 5.2ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:20:39 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:20:39 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
[36m  Disk Storage (9.4ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.0ms)


  Rendering text template
  Rendered text template (0.1ms)
Sent data  (8.4ms)
Completed 200 OK in 20ms (Views: 8.1ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:20:39 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.9ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:20:39 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.0ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.7ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:20:39 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (5.6ms)
Completed 200 OK in 11ms (Views: 5.2ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:20:39 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
[36m  Disk Storage (4.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.7ms)
Completed 200 OK in 14ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-27 09:20:42 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (102.1ms)
Completed 200 OK in 202ms (Views: 199.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-27 09:21:03 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"C6k3M4GoEs+HSzt9qmx3b8T4+cLlryfcsWafrCt9sMek2fCUMq4XZe0iNmCpA+C4niS/vJbCLVRdIf4Lhcs7lA==", "user"=>{"email"=>"putin@kremlin.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "putin@kremlin.ru"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-27 02:21:04.033240"], ["sign_in_count", 2], ["updated_at", "2018-12-27 02:21:04.035394"], ["id", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (90.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 605ms (ActiveRecord: 92.4ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:21:04 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (68.5ms)
  Rendered books/index.html.erb within layouts/application (73.8ms)
Completed 200 OK in 143ms (Views: 131.3ms | ActiveRecord: 8.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:21:04 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:21:04 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:21:04 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:21:04 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:21:04 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:21:04 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Processing by ActiveStorage::DiskController#show as JPEG
[36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (6.2ms)
Completed 200 OK in 20ms (Views: 5.7ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (30.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (5.5ms)
Completed 200 OK in 43ms (Views: 5.1ms | ActiveRecord: 0.0ms)


Started GET "/books/2/edit" for 127.0.0.1 at 2018-12-27 09:21:20 +0700
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (36.1ms)
  Rendered books/edit.html.erb within layouts/application (38.5ms)
Completed 200 OK in 142ms (Views: 125.1ms | ActiveRecord: 1.2ms)


Started PATCH "/books/2" for 127.0.0.1 at 2018-12-27 09:21:23 +0700
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EAgISppdMVQTKfBSbe14ao81xKqKY9H1LmDWwxOXvzxmMuaWfSLZho+6ZikSRCcy5woWoAKH+BAymgc08VcjEw==", "book"=>{"title"=>"Arch of Triumph", "description"=>"Test", "author"=>"Erich Maria Remarque"}, "commit"=>"Update Book", "id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:45
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:45
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:45
Redirected to http://localhost:3000/books/2
Completed 302 Found in 20ms (ActiveRecord: 3.0ms)


Started GET "/books/2" for 127.0.0.1 at 2018-12-27 09:21:23 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered books/_book-controls.html.erb (7.3ms)
  Rendered books/show.html.erb within layouts/application (16.9ms)
Completed 200 OK in 83ms (Views: 76.3ms | ActiveRecord: 1.9ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d/81fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:21:23 +0700
Processing by ActiveStorage::RepresentationsController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d", "filename"=>"81fPBabRvAL"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.1ms) [0m[34mChecked if file exists at key: variants/StJdkN5qhEdf8HEaC57HnsdL/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (no)[0m
[36m  Disk Storage (17.4ms) [0m[32mUploaded file to key: variants/StJdkN5qhEdf8HEaC57HnsdL/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: variants/StJdkN5qhEdf8HEaC57HnsdL/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTlUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjY6MjQuMjk0WiIsInB1ciI6ImJsb2Jfa2V5In19--0d4adfa994a1dbd36c0ef3591bd76596d0e1675b/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTlUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjY6MjQuMjk0WiIsInB1ciI6ImJsb2Jfa2V5In19--0d4adfa994a1dbd36c0ef3591bd76596d0e1675b/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg
Completed 302 Found in 694ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTlUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjY6MjQuMjk0WiIsInB1ciI6ImJsb2Jfa2V5In19--0d4adfa994a1dbd36c0ef3591bd76596d0e1675b/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:21:24 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTlUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjY6MjQuMjk0WiIsInB1ciI6ImJsb2Jfa2V5In19--0d4adfa994a1dbd36c0ef3591bd76596d0e1675b", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: variants/StJdkN5qhEdf8HEaC57HnsdL/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/books/2/edit" for 127.0.0.1 at 2018-12-27 09:21:28 +0700
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (28.0ms)
  Rendered books/edit.html.erb within layouts/application (30.4ms)
Completed 200 OK in 101ms (Views: 92.7ms | ActiveRecord: 1.2ms)


Started PATCH "/books/2" for 127.0.0.1 at 2018-12-27 09:21:32 +0700
Processing by BooksController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rgAl7UJ8lZRVPIBOa+wQDb9GkJq6/yc32TGCfFc2tHjYOssxpQN9RsmvFjUURU9V13lCkDIbDtLFy1OLtfYoVw==", "book"=>{"title"=>"Arch of Triumph", "description"=>"Test test", "author"=>"Erich Maria Remarque"}, "commit"=>"Update Book", "id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:45
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:45
  [1m[36mBook Update (0.9ms)[0m  [1m[33mUPDATE "books" SET "description" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["description", "Test test"], ["updated_at", "2018-12-27 02:21:32.833809"], ["id", 2]]
  ↳ app/controllers/books_controller.rb:45
  [1m[35m (141.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:45
Redirected to http://localhost:3000/books/2
Completed 302 Found in 163ms (ActiveRecord: 144.4ms)


Started GET "/books/2" for 127.0.0.1 at 2018-12-27 09:21:32 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered books/_book-controls.html.erb (9.3ms)
  Rendered books/show.html.erb within layouts/application (19.3ms)
Completed 200 OK in 99ms (Views: 92.6ms | ActiveRecord: 2.2ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTlUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjY6MjQuMjk0WiIsInB1ciI6ImJsb2Jfa2V5In19--0d4adfa994a1dbd36c0ef3591bd76596d0e1675b/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:21:33 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTlUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjY6MjQuMjk0WiIsInB1ciI6ImJsb2Jfa2V5In19--0d4adfa994a1dbd36c0ef3591bd76596d0e1675b", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: variants/StJdkN5qhEdf8HEaC57HnsdL/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (5.4ms)
Completed 200 OK in 10ms (Views: 5.0ms | ActiveRecord: 0.0ms)


Started GET "/library" for 127.0.0.1 at 2018-12-27 09:21:35 +0700
Processing by LibraryController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering library/index.html.erb within layouts/application
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "books" INNER JOIN "libraries" ON "books"."id" = "libraries"."book_id" WHERE "libraries"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/library/index.html.erb:14
  Rendered library/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 93ms (Views: 86.4ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:21:38 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 1], ["user_id", 1], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (70.8ms)
  Rendered books/index.html.erb within layouts/application (75.6ms)
Completed 200 OK in 138ms (Views: 125.7ms | ActiveRecord: 9.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:21:38 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuNzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--dec09d7a18f2006e78f3d798b9c14b696d41513b", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:21:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuODE5WiIsInB1ciI6ImJsb2Jfa2V5In19--bbcbd62037d1c012388cb3f78a0427dc57ab1e99", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.5ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:21:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:21:38 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:21:38 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--ea59ebb3716a31831b4f8d538968f7dcbfe1c52d", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTIuMDE0WiIsInB1ciI6ImJsb2Jfa2V5In19--9e77f7d31aa50d96daa940cf8180c5d6aaa86f1b", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--a628bed5284064dd11004b40872e709c531a114e", "filename"=>"das_kapital"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 15ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:21:38 +0700
[36m  Disk Storage (17.4ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.8ms)
Completed 200 OK in 27ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6MjI6MTEuOTk1WiIsInB1ciI6ImJsb2Jfa2V5In19--1f798e5ea39ba1ec945496d25981336661c45abe", "filename"=>"Без названия"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.3ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-12-27 09:23:54 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"XVx+NzcW8hKo/v/vF7QVRP3Unf+BRZuQO9/3CU+e45Irb4jja+5BMoprFVmvagOOjIIJZ05jWuHP+hfj/7RQqw=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [6 times] (45.8ms)
  Rendered books/index.html.erb within layouts/application (50.5ms)
Completed 200 OK in 122ms (Views: 114.4ms | ActiveRecord: 5.1ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
Processing by ActiveStorage::BlobsController#show as 
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68", "filename"=>"Also_sprach_Zarathustra"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (12.3ms) [0m[34mGenerated URL for file at key: 1zDYgWyb1wswsaCUZEMSnjfW (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjMwWiIsInB1ciI6ImJsb2Jfa2V5In19--b8ea318cc821b67cc22d2040e73c10918eb11c9d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1/81fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjMwWiIsInB1ciI6ImJsb2Jfa2V5In19--b8ea318cc821b67cc22d2040e73c10918eb11c9d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 20ms (ActiveRecord: 0.3ms)


Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1", "filename"=>"81fPBabRvAL"}
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: StJdkN5qhEdf8HEaC57HnsdL (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjU2WiIsInB1ciI6ImJsb2Jfa2V5In19--afbde5b8a34d401d86c02ad427dba700560369dc/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjU2WiIsInB1ciI6ImJsb2Jfa2V5In19--afbde5b8a34d401d86c02ad427dba700560369dc/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjMwWiIsInB1ciI6ImJsb2Jfa2V5In19--b8ea318cc821b67cc22d2040e73c10918eb11c9d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjMwWiIsInB1ciI6ImJsb2Jfa2V5In19--b8ea318cc821b67cc22d2040e73c10918eb11c9d", "filename"=>"Also_sprach_Zarathustra"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjU2WiIsInB1ciI6ImJsb2Jfa2V5In19--afbde5b8a34d401d86c02ad427dba700560369dc/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Processing by ActiveStorage::DiskController#show as JPEG
Sent data  (4.1ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjU2WiIsInB1ciI6ImJsb2Jfa2V5In19--afbde5b8a34d401d86c02ad427dba700560369dc", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.0ms)


  Rendering text template
  Rendered text template (0.0ms)
Sent data  (3.7ms)
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4/das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4", "filename"=>"das_kapital"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: 2Z5asUkdSdJuQt8XqeDcVHV4 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--8a3d2419c9b49ca0e46d2346aca95f41c131c7fe/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--8a3d2419c9b49ca0e46d2346aca95f41c131c7fe/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 19ms (ActiveRecord: 0.3ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: agVxqrEWHBBo6raQ7yiuimY7 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--aed5cccce1f84bb5a949df85cd1a9011aae5de02/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--aed5cccce1f84bb5a949df85cd1a9011aae5de02/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg
Processing by ActiveStorage::BlobsController#show as JPEG
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 302 Found in 20ms (ActiveRecord: 0.3ms)


[36m  Disk Storage (1.6ms) [0m[34mGenerated URL for file at key: cGsFbG2yvzKEqnpMpKyrqNhE (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTA5WiIsInB1ciI6ImJsb2Jfa2V5In19--c23259c3399891fe71eed819abaf4c437a9c7b68/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Без названия"}
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTA5WiIsInB1ciI6ImJsb2Jfa2V5In19--c23259c3399891fe71eed819abaf4c437a9c7b68/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Completed 302 Found in 22ms (ActiveRecord: 1.0ms)


  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.8ms) [0m[34mGenerated URL for file at key: 9wPx5vu5MVr8XJMbL1exdPVK (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--01056355502835fe02afdc55fb7daf1b53c6af49/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--01056355502835fe02afdc55fb7daf1b53c6af49/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--8a3d2419c9b49ca0e46d2346aca95f41c131c7fe/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--8a3d2419c9b49ca0e46d2346aca95f41c131c7fe", "filename"=>"das_kapital"}
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (10.6ms)
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--aed5cccce1f84bb5a949df85cd1a9011aae5de02/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--01056355502835fe02afdc55fb7daf1b53c6af49/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--aed5cccce1f84bb5a949df85cd1a9011aae5de02", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTA5WiIsInB1ciI6ImJsb2Jfa2V5In19--c23259c3399891fe71eed819abaf4c437a9c7b68/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:23:55 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--01056355502835fe02afdc55fb7daf1b53c6af49", "filename"=>"Без названия"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTA5WiIsInB1ciI6ImJsb2Jfa2V5In19--c23259c3399891fe71eed819abaf4c437a9c7b68", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (10.2ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendered text template (0.1ms)
Sent data  (9.4ms)
Completed 200 OK in 15ms (Views: 9.0ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.8ms)
Completed 200 OK in 16ms (Views: 1.4ms | ActiveRecord: 0.0ms)


  Rendering text template
  Rendered text template (0.1ms)
Sent data  (23.3ms)
Completed 200 OK in 42ms (Views: 22.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-12-27 09:23:59 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (34.7ms)
Completed 200 OK in 118ms (Views: 115.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-12-27 09:24:13 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"buWkKtsfQI79CJs/R/0QlSMGpLqWKt9fc5xHsQCG7+KAZXKfSxoXKyVJHxbQHXXb0R4TWWIRelJDVbhj1rShjA==", "user"=>{"email"=>"shtomaro@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "shtomaro@gmail.com"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-12-27 02:24:13.563085"], ["sign_in_count", 2], ["updated_at", "2018-12-27 02:24:13.565029"], ["id", 2]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (362.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 584ms (ActiveRecord: 364.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-27 09:24:13 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [6 times] (64.7ms)
  Rendered books/index.html.erb within layouts/application (69.7ms)
Completed 200 OK in 143ms (Views: 132.1ms | ActiveRecord: 8.2ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjMwWiIsInB1ciI6ImJsb2Jfa2V5In19--b8ea318cc821b67cc22d2040e73c10918eb11c9d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:24:14 +0700
Processing by ActiveStorage::DiskController#show as 
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjU2WiIsInB1ciI6ImJsb2Jfa2V5In19--afbde5b8a34d401d86c02ad427dba700560369dc/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:24:14 +0700
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjMwWiIsInB1ciI6ImJsb2Jfa2V5In19--b8ea318cc821b67cc22d2040e73c10918eb11c9d", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.8ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjU2WiIsInB1ciI6ImJsb2Jfa2V5In19--afbde5b8a34d401d86c02ad427dba700560369dc", "filename"=>"81fPBabRvAL"}
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (3.0ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--8a3d2419c9b49ca0e46d2346aca95f41c131c7fe/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:24:14 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--8a3d2419c9b49ca0e46d2346aca95f41c131c7fe", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.0ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTA5WiIsInB1ciI6ImJsb2Jfa2V5In19--c23259c3399891fe71eed819abaf4c437a9c7b68/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:24:14 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTA5WiIsInB1ciI6ImJsb2Jfa2V5In19--c23259c3399891fe71eed819abaf4c437a9c7b68", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--aed5cccce1f84bb5a949df85cd1a9011aae5de02/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:24:14 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--01056355502835fe02afdc55fb7daf1b53c6af49/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:24:14 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--aed5cccce1f84bb5a949df85cd1a9011aae5de02", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--01056355502835fe02afdc55fb7daf1b53c6af49", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (6.9ms)
Completed 200 OK in 10ms (Views: 3.4ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (11.2ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (2.2ms)
Completed 200 OK in 19ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2018-12-27 09:24:22 +0700
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (27.3ms)
  Rendered books/new.html.erb within layouts/application (29.8ms)
Completed 200 OK in 105ms (Views: 96.0ms | ActiveRecord: 0.8ms)


Started POST "/books" for 127.0.0.1 at 2018-12-27 09:24:39 +0700
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5qFpi1a2Z+9BLBKwXEsmAT4r568uTzyrjFnlh8keoQpMhag1BRKp27R0iApvNA5DwD+AUy/vuf1CHAgEY5+iJA==", "book"=>{"title"=>"ttt", "description"=>"1111", "author"=>"ghf", "thumbnail"=>#<ActionDispatch::Http::UploadedFile:0x00007efbc8d4fd80 @tempfile=#<Tempfile:/tmp/RackMultipart20181227-29615-a31tkj.jpeg>, @original_filename="Без названия.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[thumbnail]\"; filename=\"\xD0\x91\xD0\xB5\xD0\xB7 \xD0\xBD\xD0\xB0\xD0\xB7\xD0\xB2\xD0\xB0\xD0\xBD\xD0\xB8\xD1\x8F.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (7.9ms) [0m[32mUploaded file to key: T1MdgRUQHCNf1K74Pwpqtkr6 (checksum: 5zI2xnX92AmTUyw83Zyh9w==)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "T1MdgRUQHCNf1K74Pwpqtkr6"], ["filename", "Без названия.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 7313], ["checksum", "5zI2xnX92AmTUyw83Zyh9w=="], ["created_at", "2018-12-27 02:24:39.954157"]]
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (134.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Create (1.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "description", "author", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "ttt"], ["description", "1111"], ["author", "ghf"], ["user_id", 2], ["created_at", "2018-12-27 02:24:40.100411"], ["updated_at", "2018-12-27 02:24:40.100411"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "thumbnail"], ["record_type", "Book"], ["record_id", 7], ["blob_id", 7], ["created_at", "2018-12-27 02:24:40.106969"]]
  ↳ app/controllers/books_controller.rb:31
  [1m[36mBook Update (0.5ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2018-12-27 02:24:40.110456"], ["id", 7]]
  ↳ app/controllers/books_controller.rb:31
  [1m[35m (66.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:31
Completed 500 Internal Server Error in 278ms (ActiveRecord: 206.3ms)



Errno::ECONNREFUSED - Connection refused - connect(2) for 127.0.0.1:6379:
  app/controllers/books_controller.rb:31:in `block in create'
  app/controllers/books_controller.rb:30:in `create'

Started POST "/__better_errors/5b0fea8d32ba75db/variables" for 127.0.0.1 at 2018-12-27 09:24:40 +0700
Started GET "/books" for 127.0.0.1 at 2018-12-27 09:24:50 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 3], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 5], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 6], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mLibrary Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "libraries" WHERE "libraries"."user_id" = ? AND "libraries"."user_id" = ? AND "libraries"."book_id" = ? LIMIT ?[0m  [["user_id", 2], ["user_id", 2], ["book_id", 7], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:3
  Rendered collection of books/_book.html.erb [7 times] (74.0ms)
  Rendered books/index.html.erb within layouts/application (78.6ms)
Completed 200 OK in 183ms (Views: 170.5ms | ActiveRecord: 9.6ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjMwWiIsInB1ciI6ImJsb2Jfa2V5In19--b8ea318cc821b67cc22d2040e73c10918eb11c9d/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2018-12-27 09:24:50 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjMwWiIsInB1ciI6ImJsb2Jfa2V5In19--b8ea318cc821b67cc22d2040e73c10918eb11c9d", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjU2WiIsInB1ciI6ImJsb2Jfa2V5In19--afbde5b8a34d401d86c02ad427dba700560369dc/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2018-12-27 09:24:50 +0700
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.0ms)
Completed 200 OK in 15ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuMjU2WiIsInB1ciI6ImJsb2Jfa2V5In19--afbde5b8a34d401d86c02ad427dba700560369dc", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (1.4ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.9ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--8a3d2419c9b49ca0e46d2346aca95f41c131c7fe/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2018-12-27 09:24:50 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDQ3WiIsInB1ciI6ImJsb2Jfa2V5In19--8a3d2419c9b49ca0e46d2346aca95f41c131c7fe", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2018-12-27 09:24:50 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61", "filename"=>"Без названия"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (2.9ms) [0m[34mGenerated URL for file at key: T1MdgRUQHCNf1K74Pwpqtkr6 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjk6NTAuODc3WiIsInB1ciI6ImJsb2Jfa2V5In19--015c070cf8a603e54138e2198f25b350e897f02f/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjk6NTAuODc3WiIsInB1ciI6ImJsb2Jfa2V5In19--015c070cf8a603e54138e2198f25b350e897f02f/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjk6NTAuODc3WiIsInB1ciI6ImJsb2Jfa2V5In19--015c070cf8a603e54138e2198f25b350e897f02f/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:24:51 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjk6NTAuODc3WiIsInB1ciI6ImJsb2Jfa2V5In19--015c070cf8a603e54138e2198f25b350e897f02f", "filename"=>"Без названия"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--aed5cccce1f84bb5a949df85cd1a9011aae5de02/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2018-12-27 09:24:51 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTA5WiIsInB1ciI6ImJsb2Jfa2V5In19--c23259c3399891fe71eed819abaf4c437a9c7b68/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2018-12-27 09:24:51 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--01056355502835fe02afdc55fb7daf1b53c6af49/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2018-12-27 09:24:51 +0700
[36m  Disk Storage (4.0ms) [0m[34mDownloaded file from key: T1MdgRUQHCNf1K74Pwpqtkr6[0m
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Rendering text template
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNDkyWiIsInB1ciI6ImJsb2Jfa2V5In19--aed5cccce1f84bb5a949df85cd1a9011aae5de02", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTA5WiIsInB1ciI6ImJsb2Jfa2V5In19--c23259c3399891fe71eed819abaf4c437a9c7b68", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  Rendered text template (1.5ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTItMjdUMDI6Mjg6NTUuNTI4WiIsInB1ciI6ImJsb2Jfa2V5In19--01056355502835fe02afdc55fb7daf1b53c6af49", "filename"=>"Без названия"}
[36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
Sent data  (23.9ms)
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
Completed 200 OK in 76ms (Views: 21.6ms | ActiveRecord: 0.0ms)


  Rendering text template
[36m  Disk Storage (15.6ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendered text template (0.1ms)
  Rendered text template (0.0ms)
  Rendering text template
Sent data  (19.0ms)
Sent data  (13.5ms)
  Rendered text template (0.0ms)
Completed 200 OK in 27ms (Views: 17.1ms | ActiveRecord: 0.0ms)


Completed 200 OK in 23ms (Views: 13.3ms | ActiveRecord: 0.0ms)


Sent data  (3.3ms)
Completed 200 OK in 45ms (Views: 3.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2019-01-13 18:22:23 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (206.3ms)
  Rendered books/index.html.erb within layouts/application (242.3ms)
Completed 200 OK in 4489ms (Views: 4442.4ms | ActiveRecord: 6.7ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Processing by ActiveStorage::BlobsController#show as 
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1/81fPBabRvAL.jpg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68", "filename"=>"Also_sprach_Zarathustra"}
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1", "filename"=>"81fPBabRvAL"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: StJdkN5qhEdf8HEaC57HnsdL (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMDg5WiIsInB1ciI6ImJsb2Jfa2V5In19--1992c2feab5eb1124129638df409090c0358730f/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg)[0m
[36m  Disk Storage (24.8ms) [0m[34mGenerated URL for file at key: 1zDYgWyb1wswsaCUZEMSnjfW (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMDYzWiIsInB1ciI6ImJsb2Jfa2V5In19--1bf5984cce6bcf7f051285d4908fd627c03decab/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMDg5WiIsInB1ciI6ImJsb2Jfa2V5In19--1992c2feab5eb1124129638df409090c0358730f/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMDYzWiIsInB1ciI6ImJsb2Jfa2V5In19--1bf5984cce6bcf7f051285d4908fd627c03decab/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 33ms (ActiveRecord: 0.2ms)


Completed 302 Found in 36ms (ActiveRecord: 0.4ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMDg5WiIsInB1ciI6ImJsb2Jfa2V5In19--1992c2feab5eb1124129638df409090c0358730f/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMDYzWiIsInB1ciI6ImJsb2Jfa2V5In19--1bf5984cce6bcf7f051285d4908fd627c03decab/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Processing by ActiveStorage::DiskController#show as 
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMDYzWiIsInB1ciI6ImJsb2Jfa2V5In19--1bf5984cce6bcf7f051285d4908fd627c03decab", "filename"=>"Also_sprach_Zarathustra"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMDg5WiIsInB1ciI6ImJsb2Jfa2V5In19--1992c2feab5eb1124129638df409090c0358730f", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
[36m  Disk Storage (27.8ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (29.3ms)
  Rendering text template
Completed 200 OK in 32ms (Views: 29.0ms | ActiveRecord: 0.0ms)


  Rendered text template (0.0ms)
Sent data  (3.1ms)
Completed 200 OK in 32ms (Views: 2.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4/das_kapital.jpg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4", "filename"=>"das_kapital"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: 2Z5asUkdSdJuQt8XqeDcVHV4 (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMTcxWiIsInB1ciI6ImJsb2Jfa2V5In19--3b62d3e299587d261d29e1937b57616abf55050f/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMTcxWiIsInB1ciI6ImJsb2Jfa2V5In19--3b62d3e299587d261d29e1937b57616abf55050f/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: cGsFbG2yvzKEqnpMpKyrqNhE (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMTgxWiIsInB1ciI6ImJsb2Jfa2V5In19--ad455540f2976a825c48f4437e26db4461f481ce/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMTgxWiIsInB1ciI6ImJsb2Jfa2V5In19--ad455540f2976a825c48f4437e26db4461f481ce/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMTcxWiIsInB1ciI6ImJsb2Jfa2V5In19--3b62d3e299587d261d29e1937b57616abf55050f/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMTcxWiIsInB1ciI6ImJsb2Jfa2V5In19--3b62d3e299587d261d29e1937b57616abf55050f", "filename"=>"das_kapital"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMTgxWiIsInB1ciI6ImJsb2Jfa2V5In19--ad455540f2976a825c48f4437e26db4461f481ce/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
[36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Processing by ActiveStorage::DiskController#show as JPEG
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)


  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMTgxWiIsInB1ciI6ImJsb2Jfa2V5In19--ad455540f2976a825c48f4437e26db4461f481ce", "filename"=>"Leviathan_by_Thomas_Hobbes"}
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: agVxqrEWHBBo6raQ7yiuimY7 (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMjgyWiIsInB1ciI6ImJsb2Jfa2V5In19--49308e5231870e8a419ec3d58d99f14df4136974/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMjgyWiIsInB1ciI6ImJsb2Jfa2V5In19--49308e5231870e8a419ec3d58d99f14df4136974/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


[36m  Disk Storage (84.0ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.7ms)
Completed 200 OK in 86ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMjgyWiIsInB1ciI6ImJsb2Jfa2V5In19--49308e5231870e8a419ec3d58d99f14df4136974/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Без названия"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMjgyWiIsInB1ciI6ImJsb2Jfa2V5In19--49308e5231870e8a419ec3d58d99f14df4136974", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: 9wPx5vu5MVr8XJMbL1exdPVK (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMzQxWiIsInB1ciI6ImJsb2Jfa2V5In19--665523767e35e7b208eb24c3e0e2ed782d4a09bf/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
[36m  Disk Storage (1.7ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMzQxWiIsInB1ciI6ImJsb2Jfa2V5In19--665523767e35e7b208eb24c3e0e2ed782d4a09bf/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
  Rendering text template
  Rendered text template (0.0ms)
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)


Sent data  (0.8ms)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMzQxWiIsInB1ciI6ImJsb2Jfa2V5In19--665523767e35e7b208eb24c3e0e2ed782d4a09bf/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMzQxWiIsInB1ciI6ImJsb2Jfa2V5In19--665523767e35e7b208eb24c3e0e2ed782d4a09bf", "filename"=>"Без названия"}
Processing by ActiveStorage::BlobsController#show as JPEG
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61", "filename"=>"Без названия"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (0.0ms)
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Sent data  (1.9ms)
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: T1MdgRUQHCNf1K74Pwpqtkr6 (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMzYzWiIsInB1ciI6ImJsb2Jfa2V5In19--0b3ecb5d7ea06e278eb9527b12dcadd5c0d2dc24/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMzYzWiIsInB1ciI6ImJsb2Jfa2V5In19--0b3ecb5d7ea06e278eb9527b12dcadd5c0d2dc24/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMzYzWiIsInB1ciI6ImJsb2Jfa2V5In19--0b3ecb5d7ea06e278eb9527b12dcadd5c0d2dc24/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2019-01-13 18:22:28 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6Mjc6MjguMzYzWiIsInB1ciI6ImJsb2Jfa2V5In19--0b3ecb5d7ea06e278eb9527b12dcadd5c0d2dc24", "filename"=>"Без названия"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: T1MdgRUQHCNf1K74Pwpqtkr6[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.5ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-01-13 18:22:36 +0700
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (129.8ms)
Completed 200 OK in 195ms (Views: 159.7ms | ActiveRecord: 1.4ms)


Started POST "/users" for 127.0.0.1 at 2019-01-13 18:23:15 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MR9lHRKQsuSnJumdu6RNFy9qzDascBY43TehDArK1lfhq2OIfWIMbgRxhIj7Co8VhDMhNmkYV+kgb4hBeMSM8g==", "user"=>{"name"=>"TestUser9", "email"=>"name@domain.level", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "name@domain.level"], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "name@domain.level"], ["encrypted_password", "$2a$11$uT4IsrxhhCXVU3vcFF2o5ekkCJGx5jjnTUpzrIQcGwXG.KmrWodrC"], ["name", "TestUser9"], ["created_at", "2019-01-13 11:23:16.000026"], ["updated_at", "2019-01-13 11:23:16.000026"]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (28.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2019-01-13 11:23:16.032080"], ["last_sign_in_at", "2019-01-13 11:23:16.032080"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2019-01-13 11:23:16.032909"], ["id", 4]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (8.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/pricing
Completed 302 Found in 327ms (ActiveRecord: 37.5ms)


Started GET "/pricing" for 127.0.0.1 at 2019-01-13 18:23:16 +0700
Processing by PricingController#index as HTML
  Rendering pricing/index.html.erb within layouts/subscribe
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/pricing/index.html.erb:13
  Rendered pricing/index.html.erb within layouts/subscribe (4.4ms)
Completed 200 OK in 55ms (Views: 41.4ms | ActiveRecord: 0.4ms)


Started GET "/subscriptions/new?plan=starter&plan_id=plan_EE4yVsEqVijmag" for 127.0.0.1 at 2019-01-13 18:24:05 +0700
Processing by SubscriptionsController#new as HTML
  Parameters: {"plan"=>"starter", "plan_id"=>"plan_EE4yVsEqVijmag"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/subscriptions_controller.rb:6
  Rendering subscriptions/new.html.erb within layouts/subscribe
  Rendered subscriptions/new.html.erb within layouts/subscribe (1.6ms)
Completed 200 OK in 42ms (Views: 37.6ms | ActiveRecord: 0.4ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4/das_kapital.jpg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1/81fPBabRvAL.jpg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5cb8dfac4f95302ba3a6ccd618fc1a11d97f67f1", "filename"=>"81fPBabRvAL"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26/Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519/Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by ActiveStorage::BlobsController#show as JPEG
Processing by ActiveStorage::BlobsController#show as JPEG
Processing by ActiveStorage::BlobsController#show as 
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: StJdkN5qhEdf8HEaC57HnsdL (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDc4WiIsInB1ciI6ImJsb2Jfa2V5In19--db81c8783f4cb6310602a906e9a6c0aa204005b0/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg)[0m
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--bfd1e52e5df0c6f3ac6b9d0c9343de2f42d73b26", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68", "filename"=>"Also_sprach_Zarathustra"}
Processing by ActiveStorage::BlobsController#show as JPEG
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--146cc14d9bd58f5914821b11ea236b98857b55f4", "filename"=>"das_kapital"}
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDc4WiIsInB1ciI6ImJsb2Jfa2V5In19--db81c8783f4cb6310602a906e9a6c0aa204005b0/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ae9d4a1a54a0afe578fa1d8fc2bee0d43b5d2519", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: 1zDYgWyb1wswsaCUZEMSnjfW (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg4WiIsInB1ciI6ImJsb2Jfa2V5In19--0e3448a946ed9cdf7c5c311b1e56233668980ace/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: cGsFbG2yvzKEqnpMpKyrqNhE (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg1WiIsInB1ciI6ImJsb2Jfa2V5In19--de57082cbbfb52b9080f663bcf57397c920c2436/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg1WiIsInB1ciI6ImJsb2Jfa2V5In19--de57082cbbfb52b9080f663bcf57397c920c2436/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Completed 302 Found in 20ms (ActiveRecord: 0.2ms)


Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg4WiIsInB1ciI6ImJsb2Jfa2V5In19--0e3448a946ed9cdf7c5c311b1e56233668980ace/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)


  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.9ms) [0m[34mGenerated URL for file at key: agVxqrEWHBBo6raQ7yiuimY7 (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk0WiIsInB1ciI6ImJsb2Jfa2V5In19--eb34199ca71729dfb0e95238fcd20c18207651b2/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk0WiIsInB1ciI6ImJsb2Jfa2V5In19--eb34199ca71729dfb0e95238fcd20c18207651b2/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: 2Z5asUkdSdJuQt8XqeDcVHV4 (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk4WiIsInB1ciI6ImJsb2Jfa2V5In19--e766d815cfdbcb9ba5eb51c34b78af480d6964f1/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk4WiIsInB1ciI6ImJsb2Jfa2V5In19--e766d815cfdbcb9ba5eb51c34b78af480d6964f1/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg
Completed 302 Found in 15ms (ActiveRecord: 0.2ms)


Completed 302 Found in 9ms (ActiveRecord: 0.2ms)


Completed 302 Found in 10ms (ActiveRecord: 0.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDc4WiIsInB1ciI6ImJsb2Jfa2V5In19--db81c8783f4cb6310602a906e9a6c0aa204005b0/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDc4WiIsInB1ciI6ImJsb2Jfa2V5In19--db81c8783f4cb6310602a906e9a6c0aa204005b0", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.8ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk0WiIsInB1ciI6ImJsb2Jfa2V5In19--eb34199ca71729dfb0e95238fcd20c18207651b2/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk4WiIsInB1ciI6ImJsb2Jfa2V5In19--e766d815cfdbcb9ba5eb51c34b78af480d6964f1/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg4WiIsInB1ciI6ImJsb2Jfa2V5In19--0e3448a946ed9cdf7c5c311b1e56233668980ace/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg1WiIsInB1ciI6ImJsb2Jfa2V5In19--de57082cbbfb52b9080f663bcf57397c920c2436/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk0WiIsInB1ciI6ImJsb2Jfa2V5In19--eb34199ca71729dfb0e95238fcd20c18207651b2", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk4WiIsInB1ciI6ImJsb2Jfa2V5In19--e766d815cfdbcb9ba5eb51c34b78af480d6964f1", "filename"=>"das_kapital"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.7ms)
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg4WiIsInB1ciI6ImJsb2Jfa2V5In19--0e3448a946ed9cdf7c5c311b1e56233668980ace", "filename"=>"Also_sprach_Zarathustra"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg1WiIsInB1ciI6ImJsb2Jfa2V5In19--de57082cbbfb52b9080f663bcf57397c920c2436", "filename"=>"Leviathan_by_Thomas_Hobbes"}
  Rendered text template (0.0ms)
Sent data  (8.0ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (2.1ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.6ms)
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.1ms)
Sent data  (1.3ms)
Completed 200 OK in 16ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e0d770241702d47413192b7db2f6394a527dac61", "filename"=>"Без названия"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: T1MdgRUQHCNf1K74Pwpqtkr6 (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNjEyWiIsInB1ciI6ImJsb2Jfa2V5In19--fe740c42ced339021104f9cd3a4dbac474ae17c9/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNjEyWiIsInB1ciI6ImJsb2Jfa2V5In19--fe740c42ced339021104f9cd3a4dbac474ae17c9/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
Completed 302 Found in 7ms (ActiveRecord: 0.2ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNjEyWiIsInB1ciI6ImJsb2Jfa2V5In19--fe740c42ced339021104f9cd3a4dbac474ae17c9/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNjEyWiIsInB1ciI6ImJsb2Jfa2V5In19--fe740c42ced339021104f9cd3a4dbac474ae17c9", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: T1MdgRUQHCNf1K74Pwpqtkr6[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.6ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Processing by ActiveStorage::BlobsController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fd50375bc8a38f9454d4042117cdfa1c47f67a71", "filename"=>"Без названия"}
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: 9wPx5vu5MVr8XJMbL1exdPVK (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNzQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--a447d592ab464f05a476416d9b7d517566e2de4d/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNzQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--a447d592ab464f05a476416d9b7d517566e2de4d/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNzQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--a447d592ab464f05a476416d9b7d517566e2de4d/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2019-01-13 18:27:35 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNzQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--a447d592ab464f05a476416d9b7d517566e2de4d", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (2.8ms)
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-01-13 18:27:36 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2019-01-13 18:27:36 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (31.5ms)
  Rendered books/index.html.erb within layouts/application (33.9ms)
Completed 200 OK in 71ms (Views: 65.8ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2019-01-13 18:27:39 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (39.0ms)
  Rendered books/index.html.erb within layouts/application (41.9ms)
Completed 200 OK in 72ms (Views: 66.9ms | ActiveRecord: 3.5ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg4WiIsInB1ciI6ImJsb2Jfa2V5In19--0e3448a946ed9cdf7c5c311b1e56233668980ace/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2019-01-13 18:27:39 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg4WiIsInB1ciI6ImJsb2Jfa2V5In19--0e3448a946ed9cdf7c5c311b1e56233668980ace", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 1zDYgWyb1wswsaCUZEMSnjfW[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.8ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDc4WiIsInB1ciI6ImJsb2Jfa2V5In19--db81c8783f4cb6310602a906e9a6c0aa204005b0/81fPBabRvAL.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%2281fPBabRvAL.jpg%22%3B+filename%2A%3DUTF-8%27%2781fPBabRvAL.jpg" for 127.0.0.1 at 2019-01-13 18:27:39 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"81fPBabRvAL.jpg\"; filename*=UTF-8''81fPBabRvAL.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFUZEVwa2EwNDFjV2hGWkdZNFNFVmhRelUzU0c1elpFd0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDc4WiIsInB1ciI6ImJsb2Jfa2V5In19--db81c8783f4cb6310602a906e9a6c0aa204005b0", "filename"=>"81fPBabRvAL"}
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: StJdkN5qhEdf8HEaC57HnsdL[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk4WiIsInB1ciI6ImJsb2Jfa2V5In19--e766d815cfdbcb9ba5eb51c34b78af480d6964f1/das_kapital.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22das_kapital.jpg%22%3B+filename%2A%3DUTF-8%27%27das_kapital.jpg" for 127.0.0.1 at 2019-01-13 18:27:39 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"das_kapital.jpg\"; filename*=UTF-8''das_kapital.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDB5V2pWaGMxVnJaRk5rU25WUmREaFljV1ZFWTFaSVZqUUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk4WiIsInB1ciI6ImJsb2Jfa2V5In19--e766d815cfdbcb9ba5eb51c34b78af480d6964f1", "filename"=>"das_kapital"}
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2Z5asUkdSdJuQt8XqeDcVHV4[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.1ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg1WiIsInB1ciI6ImJsb2Jfa2V5In19--de57082cbbfb52b9080f663bcf57397c920c2436/Leviathan_by_Thomas_Hobbes.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Leviathan_by_Thomas_Hobbes.jpg%22%3B+filename%2A%3DUTF-8%27%27Leviathan_by_Thomas_Hobbes.jpg" for 127.0.0.1 at 2019-01-13 18:27:39 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Leviathan_by_Thomas_Hobbes.jpg\"; filename*=UTF-8''Leviathan_by_Thomas_Hobbes.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFqUjNOR1lrY3llWFo2UzBWeGJuQk5jRXQ1Y25GT2FFVUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDg1WiIsInB1ciI6ImJsb2Jfa2V5In19--de57082cbbfb52b9080f663bcf57397c920c2436", "filename"=>"Leviathan_by_Thomas_Hobbes"}
[36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: cGsFbG2yvzKEqnpMpKyrqNhE[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.4ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk0WiIsInB1ciI6ImJsb2Jfa2V5In19--eb34199ca71729dfb0e95238fcd20c18207651b2/Remarque_Im_Westen_nichts_Neues_1929.jpg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22Remarque_Im_Westen_nichts_Neues_1929.jpg%22%3B+filename%2A%3DUTF-8%27%27Remarque_Im_Westen_nichts_Neues_1929.jpg" for 127.0.0.1 at 2019-01-13 18:27:39 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"Remarque_Im_Westen_nichts_Neues_1929.jpg\"; filename*=UTF-8''Remarque_Im_Westen_nichts_Neues_1929.jpg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFoWjFaNGNYSkZWMGhDUW04MmNtRlJOM2xwZFdsdFdUY0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNDk0WiIsInB1ciI6ImJsb2Jfa2V5In19--eb34199ca71729dfb0e95238fcd20c18207651b2", "filename"=>"Remarque_Im_Westen_nichts_Neues_1929"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNzQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--a447d592ab464f05a476416d9b7d517566e2de4d/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2019-01-13 18:27:39 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNjEyWiIsInB1ciI6ImJsb2Jfa2V5In19--fe740c42ced339021104f9cd3a4dbac474ae17c9/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22%253F%253F%253F+%253F%253F%253F%253F%253F%253F%253F%253F.jpeg%22%3B+filename%2A%3DUTF-8%27%27%25D0%2591%25D0%25B5%25D0%25B7%2520%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F.jpeg" for 127.0.0.1 at 2019-01-13 18:27:39 +0700
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDA1ZDFCNE5YWjFOVTFXY2poWVNrMWlUREZsZUdSUVZrc0dPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNzQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--a447d592ab464f05a476416d9b7d517566e2de4d", "filename"=>"Без названия"}
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 9wPx5vu5MVr8XJMbL1exdPVK[0m
  Rendering text template
Processing by ActiveStorage::DiskController#show as JPEG
[36m  Disk Storage (10.3ms) [0m[34mDownloaded file from key: agVxqrEWHBBo6raQ7yiuimY7[0m
  Rendered text template (0.0ms)
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"%3F%3F%3F %3F%3F%3F%3F%3F%3F%3F%3F.jpeg\"; filename*=UTF-8''%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.jpeg", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDFVTVUxa1oxSlZVVWhEVG1ZeFN6YzBVSGR3Y1hScmNqWUdPZ1pGVkE9PSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzI6MzUuNjEyWiIsInB1ciI6ImJsb2Jfa2V5In19--fe740c42ced339021104f9cd3a4dbac474ae17c9", "filename"=>"Без названия"}
  Rendering text template
Sent data  (2.4ms)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.0ms)


  Rendered text template (0.0ms)
Sent data  (5.2ms)
Completed 200 OK in 21ms (Views: 5.0ms | ActiveRecord: 0.0ms)


[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: T1MdgRUQHCNf1K74Pwpqtkr6[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (0.8ms)
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2019-01-13 18:27:41 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (22.6ms)
Completed 200 OK in 70ms (Views: 65.7ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2019-01-13 18:27:42 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (21.5ms)
Completed 200 OK in 67ms (Views: 64.4ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2019-01-13 18:27:52 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (54.7ms)
  Rendered books/index.html.erb within layouts/application (57.8ms)
Completed 200 OK in 107ms (Views: 100.1ms | ActiveRecord: 4.9ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-01-13 18:27:55 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2019-01-13 18:27:55 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (34.9ms)
  Rendered books/index.html.erb within layouts/application (38.2ms)
Completed 200 OK in 66ms (Views: 60.2ms | ActiveRecord: 4.1ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-01-13 18:28:02 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2019-01-13 18:28:02 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (29.0ms)
  Rendered books/index.html.erb within layouts/application (31.3ms)
Completed 200 OK in 58ms (Views: 53.8ms | ActiveRecord: 3.3ms)


Started GET "/books/1" for 127.0.0.1 at 2019-01-13 18:28:03 +0700
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:87
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  Rendered books/_book-controls.html.erb (4.0ms)
  Rendered books/show.html.erb within layouts/application (18.7ms)
Completed 200 OK in 76ms (Views: 55.4ms | ActiveRecord: 1.5ms)


Started GET "/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d/Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2019-01-13 18:28:03 +0700
Processing by ActiveStorage::RepresentationsController#show as 
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1f4dc3964b141e18e7ada892a38bb90b94db0d68", "variation_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTXpJd2VEUTVOUVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--0ca7b50fe38cd513689812232346b4187f30054d", "filename"=>"Also_sprach_Zarathustra"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[36m  Disk Storage (0.1ms) [0m[34mChecked if file exists at key: variants/1zDYgWyb1wswsaCUZEMSnjfW/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (yes)[0m
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: variants/1zDYgWyb1wswsaCUZEMSnjfW/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790 (http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzM6MDMuMzk1WiIsInB1ciI6ImJsb2Jfa2V5In19--86e2141cbaf4f5f44ba025663b4b79da2b6416c5/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF)[0m
Redirected to http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzM6MDMuMzk1WiIsInB1ciI6ImJsb2Jfa2V5In19--86e2141cbaf4f5f44ba025663b4b79da2b6416c5/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzM6MDMuMzk1WiIsInB1ciI6ImJsb2Jfa2V5In19--86e2141cbaf4f5f44ba025663b4b79da2b6416c5/Also_sprach_Zarathustra.GIF?content_type=image%2Fgif&disposition=inline%3B+filename%3D%22Also_sprach_Zarathustra.GIF%22%3B+filename%2A%3DUTF-8%27%27Also_sprach_Zarathustra.GIF" for 127.0.0.1 at 2019-01-13 18:28:03 +0700
Processing by ActiveStorage::DiskController#show as 
  Parameters: {"content_type"=>"image/gif", "disposition"=>"inline; filename=\"Also_sprach_Zarathustra.GIF\"; filename*=UTF-8''Also_sprach_Zarathustra.GIF", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJbWQyWVhKcFlXNTBjeTh4ZWtSWloxZDVZakYzYzNkellVTlZXa1ZOVTI1cVpsY3ZZek0xTkdVNE5EaGpPVFpsTnpVMk9EZGtOVGhpWldGaE16WmxOelpoTXpka05tSXhZalkzTm1JMllUWTBOekkyTjJWa09EbGtNV05tTUdNeE56YzVNQVk2QmtWVSIsImV4cCI6IjIwMTktMDEtMTNUMTE6MzM6MDMuMzk1WiIsInB1ciI6ImJsb2Jfa2V5In19--86e2141cbaf4f5f44ba025663b4b79da2b6416c5", "filename"=>"Also_sprach_Zarathustra"}
[36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: variants/1zDYgWyb1wswsaCUZEMSnjfW/c354e848c96e75687d58beaa36e76a37d6b1b676b6a647267ed89d1cf0c17790[0m
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (1.2ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-01-13 18:28:06 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://0.0.0.0:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2019-01-13 18:28:06 +0700
Processing by BooksController#index as HTML
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:16
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:12
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Book"], ["name", "thumbnail"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:5
  Rendered collection of books/_book.html.erb [7 times] (40.6ms)
  Rendered books/index.html.erb within layouts/application (45.7ms)
Completed 200 OK in 93ms (Views: 86.6ms | ActiveRecord: 4.5ms)


